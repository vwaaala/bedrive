{
  "version": 3,
  "sources": ["../../nano-memoize/index.js"],
  "sourcesContent": ["(function() {\r\n\t\"use strict\";\r\n\tvar assign = Object.assign;\r\n\tif(typeof(assign)!==\"function\") {\r\n\t\tassign = function() { \r\n\t\t\tvar a = arguments,\r\n\t\t\t\to = arguments[0];\r\n\t\t\tif (o === null || o === undefined) {\r\n\t\t\t\tthrow new TypeError(\"Cannot convert undefined or null to object\");\r\n\t\t\t}\r\n\t\t\to = Object(o);\r\n\t\t\tfor(var i=1;i<a.length;i++) {\r\n\t\t\t\tif(a[i] && typeof(a[i])===\"object\") {\r\n\t\t\t\t\tfor(var k in a[i]) {\r\n\t\t\t\t\t\to[k] = a[i][k];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn o;\r\n\t\t};\r\n\t}\r\n\tfunction vrgs(f) {\r\n\t\t\tvar s = f+\"\",\r\n\t\t\t\ti = s.indexOf(\"...\");\r\n\t\t\treturn i>=0 && (i<s.indexOf(\")\") || s.indexOf(\"arguments\")>=0);\r\n\t}\r\n\tfunction nanomemoize(fn,o) {\r\n\t\t/*o = {\r\n\t\t\tserializer, // used to serialize arguments of single argument functions, multis are not serialized\r\n\t\t\tequals, // equality tester, will force use of slower multiarg approach even for single arg functions\r\n\t\t\tmaxAge, // max cache age is ms, set > 0 && < Infinity if you want automatic clearing\r\n\t\t\tmaxArgs, // max args to use for signature\r\n\t\t\tvargs = vrgs(fn) // set to true if function may have variable or beyond-signature arguments, default is best attempt at infering\r\n\t\t  } = {}\r\n\t\t*/\r\n\t\to || (o={});\r\n\t\tvar vargs = o.vargs || vrgs(fn),\r\n\t\t\ts = Object.create(null), // single arg function key/value cache\r\n\t\t\tk = [], // multiple arg function arg key cache\r\n\t\t\tv = [], // multiple arg function result cache\r\n\t\t\tz, // index of zero arg result in v\r\n\t\t\twm = new WeakMap(),\r\n\t\t\td = function(key,c,k) { return setTimeout(function() {\r\n\t\t\t\t\tif(k) { // dealing with multi-arg function, c and k are Arrays\r\n\t\t\t\t\t\tc.splice (key,1);\r\n\t\t\t\t\t\tk.splice(key,1);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} // dealing with single arg function, c is a WekMap or Object\r\n\t\t\t\t\tc instanceof WeakMap  ? c.delete(key) : delete c[key]; \r\n\t\t\t\t},o.maxAge); },\r\n\t\t\tc = o.maxAge>0 && o.maxAge<Infinity ? d : 0, // cache change timeout,\r\n\t\t\teq = o.equals ? o.equals : function(a,b) { return a===b; },\r\n\t\t\tmaxargs = o.maxArgs,\r\n\t\t\tsrlz = o.serializer,\r\n\t\t\tf, // memoized function to return\r\n\t\t\tu; // flag indicating a unary arg function is in use for clear operation\r\n\t\t\tif(fn.length===1 && !o.equals && !vargs) {\r\n\t\t\t\t// for single argument functions, just use a JS object key look-up\r\n\t\t\t\tf =  (function(a) {\r\n\t\t\t\t\t// strings must be serialized because cache[1] should not equal or overwrite cache[\"1\"] for value = 1 and value = \"1\"\r\n\t\t\t\t\tvar t = typeof a;\r\n\t\t\t\t\t// set chng timeout only when new value computed, hits will not push out the tte, but it is arguable they should not\r\n\t\t\t\t\tif(!srlz && ((t===\"object\" && a)  || t===\"function\")) {\r\n\t\t\t\t\t\tvar r;\r\n\t\t\t\t\t\treturn wm.get(a) || ((!c||c(a,wm)),wm.set(a,r = fn.call(this, a)),r);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar key = t === \"number\" || t === \"boolean\" || a == null ? a : t === \"string\" ? JSON.stringify(a) : srlz(a);\r\n\t\t\t\t\treturn s[key] || ((!c||c(key,s)),s[key] = fn.call(this, a));\r\n\t\t\t\t}).bind(this);\r\n\t\t\t\tu = 1;\r\n\t\t\t} else {\r\n\t\t\t// for multiple arg functions, loop through a cache of all the args\r\n\t\t\t// looking at each arg separately so a test can abort as soon as possible\r\n\t\t\tf = (function() {\r\n\t\t\t\tvar al = arguments.length;\r\n\t\t\t\tif (!al && z != null) return v[z];\r\n\t\t\t\tvar l = maxargs||al,\r\n\t\t\t\t\ti;\r\n\t\t\t\tfor(i=k.length-1;i>=0;i--) { // an array of arrays of args, each array represents a call signature\r\n\t\t\t\t\tif (!maxargs && k[i].length !== l) continue; // cache miss if called with a different number of args\r\n\t\t\t\t\tfor(var j=l-1;j>=0 && eq(k[i][j],arguments[j]);j--) {\t// compare each arg\t\t\t\r\n\t\t\t\t\t\tif(j===0) { return v[i]; } // the args matched\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ti = k.length - (i + 1);\r\n\t\t\t\tif (!al && z == null) z = i;\r\n\t\t\t\t// set change timeout only when new value computed, hits will not push out the tte, but it is arguable they should not\r\n\t\t\t\treturn (!c||c(i,v,k)),v[i] = fn.apply(this,k[i] = arguments);\r\n\t\t\t}).bind(this);\r\n\t\t}\r\n\t\t// reset all the caches\r\n\t\tf.clear = function() {\r\n\t\t\twm = new WeakMap();\r\n\t\t\ts = Object.create(null);\r\n\t\t\tk = [];\r\n\t\t\tv = [];\r\n\t\t\tz = undefined;\r\n\t\t};\r\n\t\tf.keys = function() { return u ? null : k.slice(); };\r\n\t\tf.values = function() { return u ? null : v.slice(); };\r\n\t\tf.keyValues = function() { return u ? {primitives:assign({},s),objects:wm} : null; };\r\n\t\treturn f;\r\n\t}\r\n\tif(typeof(module)!==\"undefined\") { module.exports = nanomemoize; }\r\n\tif(typeof(window)!==\"undefined\") { window.nanomemoize = nanomemoize; }\r\n}).call(this);\r\n\r\n"],
  "mappings": "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",
  "names": ["c", "k"]
}
