"use strict";var Yb=Object.create;var pf=Object.defineProperty;var Xb=Object.getOwnPropertyDescriptor;var Kb=Object.getOwnPropertyNames;var Qb=Object.getPrototypeOf,$b=Object.prototype.hasOwnProperty;var Dt=(n,t)=>()=>(n&&(t=n(n=0)),t);var Y=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var Zb=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Kb(t))!$b.call(n,r)&&r!==e&&pf(n,r,{get:()=>t[r],enumerable:!(i=Xb(t,r))||i.enumerable});return n};var Xi=(n,t,e)=>(e=n!=null?Yb(Qb(n)):{},Zb(t||!n||!n.__esModule?pf(e,"default",{value:n,enumerable:!0}):e,n));function df(n){return(typeof n=="number"||typeof n=="string"&&tA.indexOf(n.slice(-1))===-1)&&n!==""&&!isNaN(n)}var tA,mf=Dt(()=>{"use strict";tA=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("")});var H,He=Dt(()=>{"use strict";mf();H=class{static normalizeLineEndings(t,e=`
`){return t.replace(/\r?\n/g,e)}static split(t){return t.split("")}static substring(t,e,i){return t.substr(e,i)}static ctypeSpace(t){return(t==null?void 0:t.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(t){return(t==null?void 0:t.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(t){return(t==null?void 0:t.search(/^[\d]+$/g))!==-1}static ctypePunct(t){return(t==null?void 0:t.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(t,e="\\s"){return t.replace(new RegExp("^["+e+"]+"),"")}static trimRight(t,e="\\s"){return t.replace(new RegExp("["+e+"]+$"),"")}static isNumeric(t){return df(t)}static substringCount(t,e){let i=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(t.match(new RegExp(i,"gi"))||[]).length}static lastWord(t){let e=t.split(""),i=[];for(let r=e.length;r>=0&&e[r]!=" ";r--)i.push(e[r]);return i.reverse().join()}static breakByNewLine(t){return t.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static removeEmptyNewLines(t){let e=[];return H.breakByNewLine(H.normalizeLineEndings(t)).forEach(r=>{r.trim().length>0&&e.push(r)}),e.join(`
`)}static replaceAllInString(t,e,i){return t.replace(new RegExp(e,"g"),i)}static getTrimmedMatch(t,e,i){let r=t.exec(e);if(r==null||r.length<i)return null;let a=r[i].trim();return a.length==0?null:a}static assertMatchIs(t,e,i,r){let a=H.getTrimmedMatch(t,e,i);return a!=null&&a==r}static truncateString(t,e){return t.length<=e?t:t.slice(0,e)+"..."}static unwrapString(t){let e=t.substring(1);return e.substring(0,e.length-1)}static getLastLine(t){let e=H.breakByNewLine(t);return e.length==0?"":e[e.length-1]}static getFirstLine(t){let e=H.breakByNewLine(t);return e.length==0?"":e[0]}static collapse(t){let e=H.breakByNewLine(t),i="";for(let r=0;r<e.length;r++){let a=e[r].trim();if(r+1<e.length){let h=e[r+1].trim();if(h.length>0&&H.ctypePunct(h[0])){let c=h[0];i+=a,(c=="?"||c==":"||c=="&")&&(i+=" ")}else i+=a+" "}else i+=a}return i.trimRight()}static makeSlug(t){t<=2&&(t=7);let e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=i.length;for(let a=0;a<t-1;a++)e+=i.charAt(Math.floor(Math.random()*r));return"B"+e+"B"}static replaceWithFillerExceptNewlines(t){return t.replace(/./g,i=>i===`
`?i:"P")}static safeReplaceAllInString(t,e,i){let r=new RegExp(e,"g");return t.split(r).join(i)}static safeReplace(t,e,i){return t.split(e).join(i)}}});function Ke(n){return n==null?!1:n=='"'||n=="'"||n=="`"}var Nn=Dt(()=>{"use strict"});function Fs(n){let t=n.getCurrent();for(n.incrementIndex(),n.getCurrentIndex();n.getCurrentIndex()<n.inputLength()&&(n.checkCurrentOffsets(),!(n.getCurrent()==t&&n.getPrev()!=nt.String_EscapeCharacter));n.incrementIndex());}function Ui(n){let t=n.getCurrent(),e=[];for(n.incrementIndex(),n.getCurrentIndex();n.getCurrentIndex()<n.inputLength()&&(n.checkCurrentOffsets(),!(n.getCurrent()==t&&n.getPrev()!=nt.String_EscapeCharacter));n.incrementIndex())e.push(n.getCurrent());return{value:e.join(""),endedOn:n.getCurrentIndex()}}var In=Dt(()=>{"use strict";mn()});var Pn,wo=Dt(()=>{"use strict";He();Nn();In();Pn=class{constructor(){this.chars=[];this.cur=null;this.prev=null;this.next=null;this.currentIndex=0;this.inputLen=0;this.currentContent=[];this.strings=[]}advance(t){for(let e=0;e<t;e++)this.currentIndex++,this.checkCurrentOffsets()}encounteredFailure(){}updateIndex(t){this.currentIndex=t}inputLength(){return this.inputLen}getCurrentIndex(){return this.currentIndex}incrementIndex(){this.currentIndex+=1}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}pushChar(t){this.currentContent.push(t)}getChar(t){return this.chars[t]}getSeedOffset(){return 0}getContentSubstring(t,e){return""}static fromText(t){return new Pn().remove(t)}getStrings(){return this.strings}remove(t){for(this.strings=[],this.chars=t.split(""),this.inputLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Ke(this.cur)){let i=Ui(this);if(this.strings.push(i.value),this.currentIndex=i.endedOn,this.currentIndex==this.inputLen-1)break;continue}this.currentContent.push(this.cur)}let e=[];for(let i=0;i<this.currentContent.length;i++){let r=this.currentContent[i];if(i==0&&r=="@"){e.push(r);continue}if(r!="."&&H.ctypePunct(r))break;e.push(r)}return e.join("")}}});var kh=Y(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.default=nA;var eA=iA(require("crypto"));function iA(n){return n&&n.__esModule?n:{default:n}}var Fo=new Uint8Array(256),Lo=Fo.length;function nA(){return Lo>Fo.length-16&&(eA.default.randomFillSync(Fo),Lo=0),Fo.slice(Lo,Lo+=16)}});var gf=Y(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.default=void 0;var sA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Ro.default=sA});var wr=Y(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.default=void 0;var rA=oA(gf());function oA(n){return n&&n.__esModule?n:{default:n}}function aA(n){return typeof n=="string"&&rA.default.test(n)}var hA=aA;Bo.default=hA});var Lr=Y(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.default=void 0;var uA=lA(wr());function lA(n){return n&&n.__esModule?n:{default:n}}var Ti=[];for(let n=0;n<256;++n)Ti.push((n+256).toString(16).substr(1));function cA(n,t=0){let e=(Ti[n[t+0]]+Ti[n[t+1]]+Ti[n[t+2]]+Ti[n[t+3]]+"-"+Ti[n[t+4]]+Ti[n[t+5]]+"-"+Ti[n[t+6]]+Ti[n[t+7]]+"-"+Ti[n[t+8]]+Ti[n[t+9]]+"-"+Ti[n[t+10]]+Ti[n[t+11]]+Ti[n[t+12]]+Ti[n[t+13]]+Ti[n[t+14]]+Ti[n[t+15]]).toLowerCase();if(!(0,uA.default)(e))throw TypeError("Stringified UUID is invalid");return e}var fA=cA;Mo.default=fA});var vf=Y(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.default=void 0;var pA=xf(kh()),dA=xf(Lr());function xf(n){return n&&n.__esModule?n:{default:n}}var _f,Th,Ch=0,bh=0;function mA(n,t,e){let i=t&&e||0,r=t||new Array(16);n=n||{};let a=n.node||_f,h=n.clockseq!==void 0?n.clockseq:Th;if(a==null||h==null){let _=n.random||(n.rng||pA.default)();a==null&&(a=_f=[_[0]|1,_[1],_[2],_[3],_[4],_[5]]),h==null&&(h=Th=(_[6]<<8|_[7])&16383)}let c=n.msecs!==void 0?n.msecs:Date.now(),f=n.nsecs!==void 0?n.nsecs:bh+1,x=c-Ch+(f-bh)/1e4;if(x<0&&n.clockseq===void 0&&(h=h+1&16383),(x<0||c>Ch)&&n.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ch=c,bh=f,Th=h,c+=122192928e5;let d=((c&268435455)*1e4+f)%4294967296;r[i++]=d>>>24&255,r[i++]=d>>>16&255,r[i++]=d>>>8&255,r[i++]=d&255;let k=c/4294967296*1e4&268435455;r[i++]=k>>>8&255,r[i++]=k&255,r[i++]=k>>>24&15|16,r[i++]=k>>>16&255,r[i++]=h>>>8|128,r[i++]=h&255;for(let _=0;_<6;++_)r[i+_]=a[_];return t||(0,dA.default)(r)}var gA=mA;Uo.default=gA});var Ah=Y(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.default=void 0;var _A=xA(wr());function xA(n){return n&&n.__esModule?n:{default:n}}function vA(n){if(!(0,_A.default)(n))throw TypeError("Invalid UUID");let t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var EA=vA;Ho.default=EA});var Sh=Y(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.default=CA;Rs.URL=Rs.DNS=void 0;var yA=Ef(Lr()),kA=Ef(Ah());function Ef(n){return n&&n.__esModule?n:{default:n}}function TA(n){n=unescape(encodeURIComponent(n));let t=[];for(let e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}var yf="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Rs.DNS=yf;var kf="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Rs.URL=kf;function CA(n,t,e){function i(r,a,h,c){if(typeof r=="string"&&(r=TA(r)),typeof a=="string"&&(a=(0,kA.default)(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+r.length);if(f.set(a),f.set(r,a.length),f=e(f),f[6]=f[6]&15|t,f[8]=f[8]&63|128,h){c=c||0;for(let x=0;x<16;++x)h[c+x]=f[x];return h}return(0,yA.default)(f)}try{i.name=n}catch{}return i.DNS=yf,i.URL=kf,i}});var Tf=Y(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.default=void 0;var bA=AA(require("crypto"));function AA(n){return n&&n.__esModule?n:{default:n}}function SA(n){return Array.isArray(n)?n=Buffer.from(n):typeof n=="string"&&(n=Buffer.from(n,"utf8")),bA.default.createHash("md5").update(n).digest()}var DA=SA;Vo.default=DA});var bf=Y(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.default=void 0;var NA=Cf(Sh()),IA=Cf(Tf());function Cf(n){return n&&n.__esModule?n:{default:n}}var PA=(0,NA.default)("v3",48,IA.default),OA=PA;Wo.default=OA});var Sf=Y(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.default=void 0;var wA=Af(kh()),LA=Af(Lr());function Af(n){return n&&n.__esModule?n:{default:n}}function FA(n,t,e){n=n||{};let i=n.random||(n.rng||wA.default)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=i[r];return t}return(0,LA.default)(i)}var RA=FA;Go.default=RA});var Df=Y(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.default=void 0;var BA=MA(require("crypto"));function MA(n){return n&&n.__esModule?n:{default:n}}function UA(n){return Array.isArray(n)?n=Buffer.from(n):typeof n=="string"&&(n=Buffer.from(n,"utf8")),BA.default.createHash("sha1").update(n).digest()}var HA=UA;qo.default=HA});var If=Y(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.default=void 0;var VA=Nf(Sh()),WA=Nf(Df());function Nf(n){return n&&n.__esModule?n:{default:n}}var GA=(0,VA.default)("v5",80,WA.default),qA=GA;zo.default=qA});var Pf=Y(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.default=void 0;var zA="00000000-0000-0000-0000-000000000000";Jo.default=zA});var Of=Y(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.default=void 0;var JA=jA(wr());function jA(n){return n&&n.__esModule?n:{default:n}}function YA(n){if(!(0,JA.default)(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}var XA=YA;jo.default=XA});var wf=Y(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});Object.defineProperty(kn,"v1",{enumerable:!0,get:function(){return KA.default}});Object.defineProperty(kn,"v3",{enumerable:!0,get:function(){return QA.default}});Object.defineProperty(kn,"v4",{enumerable:!0,get:function(){return $A.default}});Object.defineProperty(kn,"v5",{enumerable:!0,get:function(){return ZA.default}});Object.defineProperty(kn,"NIL",{enumerable:!0,get:function(){return tS.default}});Object.defineProperty(kn,"version",{enumerable:!0,get:function(){return eS.default}});Object.defineProperty(kn,"validate",{enumerable:!0,get:function(){return iS.default}});Object.defineProperty(kn,"stringify",{enumerable:!0,get:function(){return nS.default}});Object.defineProperty(kn,"parse",{enumerable:!0,get:function(){return sS.default}});var KA=ts(vf()),QA=ts(bf()),$A=ts(Sf()),ZA=ts(If()),tS=ts(Pf()),eS=ts(Of()),iS=ts(wr()),nS=ts(Lr()),sS=ts(Ah());function ts(n){return n&&n.__esModule?n:{default:n}}});var On,uN,lN,Lf,cN,fN,pN,dN,mN,gN,Ff=Dt(()=>{On=Xi(wf(),1),uN=On.default.v1,lN=On.default.v3,Lf=On.default.v4,cN=On.default.v5,fN=On.default.NIL,pN=On.default.version,dN=On.default.validate,mN=On.default.stringify,gN=On.default.parse});function Rf(){return H.replaceAllInString(Lf(),"-","_")}var Fr,Yo,Je,ys,Xo,si,Jt,Hi,hi,Ko,_t,Bs,Ci,Vi,Rr,Wi,we,wn,Ln,Qo,Br,ks,Mr,ar,Ur,Ms,Us,Ae=Dt(()=>{"use strict";Ff();He();Fr=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=Rf()}},Yo=class{constructor(){this.startPosition=null;this.endPosition=null}},Je=class{constructor(){this.parser=null;this.refId=null;this.startPosition=null;this.endPosition=null;this.sourceContent="";this.index=0;this.parentIndex=-1;this.parentTypeIndex=-1;this.parent=null;this.originalAbstractNode=null;this.fragment=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.offset=null;this.errors=[];this.isInScriptTag=!1;this.isInStyleTag=!1;this.prevNode=null;this.nextNode=null;this.refId=Rf()}isPartOfHtmlTag(){return this.fragmentPosition==2||this.fragmentPosition==1||this.fragmentPosition==0}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}hasNeighborsOnLine(){if(this.prevNode==null&&this.nextNode==null)return!1;if(this.prevNode==null||this.nextNode==null||!(this.prevNode instanceof Jt)||!(this.nextNode instanceof Jt))return!0;let t=this.prevNode.content,e=this.nextNode.content,i=H.breakByNewLine(t),r=H.breakByNewLine(e);return i.length>0&&i[i.length-1].trim().length>0||r.length>0&&r[0].trim().length>0}getErrors(){return this.errors}pushError(t){this.parent!=null?this.parent.pushError(t):this.parser!=null&&this.parser.pushError(t),this.errors.push(t)}relativeOffset(t){var e,i;return t+((i=(e=this.startPosition)==null?void 0:e.index)!=null?i:0)}withParser(t){return this.parser=t,this}getParser(){return this.parser}},ys=class extends Je{constructor(){super(...arguments);this.cachedHasValidPhp=null;this.cachedPhpLastError=null;this.name="";this.realName="";this.value="";this.terminatorStyle='"';this.wrappedValue="";this.content="";this.type=0;this.directive=null;this.inlineEcho=null;this.inlineComment=null;this.namePosition=null;this.valuePosition=null;this.isEscapedExpression=!1;this.isExpression=!1;this.overrideValue=""}hasValidPhpExpression(){var e;if(this.cachedHasValidPhp==null){let i=(e=this.getParser())==null?void 0:e.getPhpValidator();i!=null?(this.cachedHasValidPhp=i.isValid(this.value,!1),this.cachedPhpLastError=i.getLastError()):this.cachedHasValidPhp=!1}return this.cachedHasValidPhp}},Xo=class extends Je{constructor(){super(...arguments);this.name="";this.inlineName=""}},si=class extends Je{constructor(){super(...arguments);this.name=null;this.isClosingTag=!1;this.isSelfClosing=!1;this.innerContent="";this.parameterContent="";this.receivesAttributeBag=!1;this.hasParameters=!1;this.parameters=[];this.isOpenedBy=null;this.isClosedBy=null;this.isShorthandSlot=!1}getComponentName(){if(this.name==null)return"";let e=this.name.name.trim();return this.name.inlineName.trim().length>0&&(e+=":"+this.name.inlineName.trim()),e}hasParameter(e){for(let i=0;i<this.parameters.length;i++)if(this.parameters[i].realName==e)return!0;return!1}getParameter(e){for(let i=0;i<this.parameters.length;i++)if(this.parameters[i].realName==e)return this.parameters[i];return null}getParametersExcept(e){return this.parameters.filter(i=>!e.includes(i.realName))}},Jt=class extends Je{constructor(){super(...arguments);this.content=""}getOutputContent(){let e=H.replaceAllInString(this.content,"@{","{");return e=H.replaceAllInString(e,"@@","@"),e}},Hi=class extends Je{constructor(){super(...arguments);this.innerContentPosition=null;this.innerContent=""}isMultiline(){return this.sourceContent.includes(`
`)}},hi=class extends Je{constructor(){super(...arguments);this.cachedHasValidPhp=null;this.cachedPhpLastError=null;this.isInline=!1;this.overrideContent=null}hasValidPhp(){var e;if(this.cachedHasValidPhp==null){let i=(e=this.getParser())==null?void 0:e.getPhpValidator();i!=null?(this.cachedHasValidPhp=i.isValid(this.sourceContent,!1),this.cachedPhpLastError=i.getLastError()):this.cachedHasValidPhp=!1}return this.cachedHasValidPhp}getPhpError(){return this.cachedPhpLastError}},Ko=class extends hi{},_t=class extends Je{constructor(){super(...arguments);this.name="";this.directiveName="";this.namePosition=null;this.hasDirectiveParameters=!1;this.directiveParameters="";this.overrideParams=null;this.directiveParametersPosition=null;this.children=[];this.childrenDocument=null;this.childTypeCounts=new Map;this._conditionParserAbandonPairing=!1;this.hasJsonParameters=!1;this.ref=0;this.isClosedBy=null;this.isOpenedBy=null;this.isClosingDirective=!1;this.innerContent="";this.documentContent="";this.nodeContent="";this.cachedHasValidJson=null;this.cachedHasValidPhp=null;this.cachedPhpLastError=null}hasValidJson(){if(this.hasJsonParameters==!1&&(this.cachedHasValidJson=!1),this.cachedHasValidJson==null)try{let e=this.getPhpContent().trim();e.startsWith("(")&&e.endsWith(")")&&(e=e.substring(1),e=e.substring(0,e.length-1)),JSON.parse(e),this.cachedHasValidJson=!0}catch{this.cachedHasValidJson=!1}return this.cachedHasValidJson}hasValidPhp(){var e;if(this.hasJsonParameters&&(this.cachedHasValidPhp=!1),this.cachedHasValidPhp==null){let i=(e=this.getParser())==null?void 0:e.getPhpValidator();i!=null?(this.cachedHasValidPhp=i.isValid(this.getPhpContent(),!0),this.cachedPhpLastError=i.getLastError()):this.cachedHasValidPhp=!1}return this.cachedHasValidPhp}getPhpError(){return this.cachedPhpLastError}isFirstOfType(){return this.parentTypeIndex==1}hasInnerExpression(){return this.hasDirectiveParameters?this.getInnerContent().length>0:!1}getInnerContent(){let e=this.directiveParameters.trim().substring(1);return e=e.substring(0,e.length-1),e}getImmediateChildren(){var i;let e=[];for(let r=0;r<this.children.length;r++){let a=this.children[r];if(((i=a.parent)==null?void 0:i.refId)==this.refId){if(a==this.isClosedBy)break;e.push(a)}}return e}getPhpContent(){return this.directiveName.toLowerCase()=="forelse"?"foreach ("+this.getInnerContent()+"):endforeach;":this.directiveParameters}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof _t&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}hasChildDirectiveOfType(e){return this.findFirstChildDirectiveOfType(e)!=null}findFirstChildDirectiveOfType(e){for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof _t&&r.directiveName==e)return r}return null}findFirstDirectChildDirectiveOfType(e){for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof _t&&r.directiveName==e&&r.parent!=null&&r.parent.refId==this.refId)return r}return null}findDirectivesOfType(e){let i=[];return this.children.forEach(r=>{r instanceof _t&&r.directiveName==e&&i.push(r)}),i}findDirectChildDirectivesOfType(e){let i=[];return this.children.forEach(r=>{r instanceof _t&&r.directiveName==e&&r.parent!=null&&r.parent.refId==this.refId&&i.push(r)}),i}clone(){let e=new _t;e.children=[...this.children],e.directiveName=this.directiveName,e.directiveParameters=this.directiveParameters,e.directiveParametersPosition=this.directiveParametersPosition,e.documentContent=this.documentContent,e.endPosition=this.endPosition,e.hasDirectiveParameters=this.hasDirectiveParameters,e.index=this.index,e.innerContent=this.innerContent,e.isClosedBy=this.isClosedBy,e.isClosingDirective=this.isClosingDirective,e.isOpenedBy=this.isOpenedBy,e.name=this.name,e.namePosition=this.namePosition,e.parent=this.parent,e.refId=this.refId,e.sourceContent=this.sourceContent,e.startPosition=this.startPosition,e.overrideParams=this.overrideParams;let i=this.getParser();return i!=null&&e.withParser(i),e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}getFinalClosingDirective(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingDirective()}},Bs=class extends Je{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.childDocument=null;this.documentContent="";this.innerContent="";this.innerOffset=null}},Ci=class extends _t{constructor(){super(...arguments);this.constructedFrom=null;this.nodeContent="";this.logicBranches=[];this.chain=[]}getParent(){return this.logicBranches.length>0&&this.logicBranches[0].head!=null&&this.logicBranches[0].head.parent!=null&&this.logicBranches[0].head.parent instanceof _t?this.logicBranches[0].head.parent:null}},Vi=class extends Je{constructor(){super(...arguments);this.constructedFrom=null;this.nodeContent="";this.originalNode=null;this.tail=null;this.cases=[]}},Rr=class extends Je{constructor(){super(...arguments);this.order=0;this.leadingNodes=[];this.leadingDocument=null;this.head=null;this.children=[];this.isDefault=!1;this.isClosedBy=null;this.childDocument=null;this.documentContent="";this.innerContent="";this.innerOffset=null}},Wi=class extends Je{constructor(){super(...arguments);this.constructedFrom=null;this.nodeContent="";this.originalNode=null;this.truthNodes=[];this.elseNode=null;this.falseNodes=[];this.tailNode=null;this.truthDocument=null;this.falseDocument=null;this.documentContent="";this.truthDocumentContent="";this.truthInnerContent="";this.truthDocumentOffset=null;this.truthInnerOffset=null;this.falseDocumentContent="";this.falseInnerContent="";this.falseDocumentOffset=null;this.falseInnerOffset=null}},we=class extends Je{constructor(){super(...arguments);this.content="";this.cachedHasValidPhp=null;this.cachedPhpLastError=null;this.isInlineEcho=!1;this.overrideContent=null}hasValidPhp(){var e;if(this.cachedHasValidPhp==null){let i=(e=this.getParser())==null?void 0:e.getPhpValidator();i!=null?(this.cachedHasValidPhp=i.isValid(this.content,!0),this.cachedPhpLastError=i.getLastError()):this.cachedHasValidPhp=!1}return this.cachedHasValidPhp}getPhpError(){return this.cachedPhpLastError}},wn=class extends we{},Ln=class extends we{},Qo=class extends Je{},Br=class extends Je{},ks=class extends Je{constructor(){super(...arguments);this.tokenLength=0}},Mr=class extends Je{},ar=class extends Je{},Ur=class extends Je{},Ms=class extends Je{constructor(){super(...arguments);this.key=null;this.value=null;this.isLast=!1}},Us=class extends Je{constructor(){super(...arguments);this.elements=[];this.containsKeys=!1;this.maxKeyLength=0}}});var Ft,Hs=Dt(()=>{"use strict";Ft=class{};Ft.Verbatim="verbatim",Ft.EndVerbatim="endverbatim",Ft.Php="php",Ft.EndPhp="endphp",Ft.If="if",Ft.ElseIf="elseif",Ft.Else="else",Ft.Unless="unless",Ft.ForElse="forelse",Ft.EndForElse="endforelse",Ft.Switch="switch",Ft.EndSwitch="endswitch",Ft.Default="default",Ft.Case="case"});var ri,Hr=Dt(()=>{"use strict";Ae();ri=class{static clearSpeculativeConditions(){this.speculativeConditions.clear()}static clearSpeculativeEndIfs(){this.speculativeEndIfs.clear()}static getSpeculativeConditions(){return this.speculativeConditions}static getSpeculativeEndIfs(){return this.speculativeEndIfs}static isSpeculativeCondition(t){return this.speculativeConditions.has(t)}static isSpeculativeEndIf(t){return this.speculativeEndIfs.has(t)}static registerSpeculativeCondition(t){this.speculativeConditions.set(t,1)}static registerSpeculativeEndIf(t){this.speculativeEndIfs.set(t,1)}static canClose(t){let e="end"+t.directiveName.toLowerCase();return this.possibleClosingNode.has(e)}static shouldRewrite(t){return!!(this.customIfs.has(t.name)||this.alwaysRewrite.includes(t.name)||this.speculativeEndIfs.has(t.directiveName)||this.speculativeConditions.has(t.name))}static determineCandidates(t){let e=new Map;t.forEach(i=>{if(!(i instanceof _t))return;let r=i;r.directiveName.toLowerCase().startsWith("end")||e.set(r.directiveName.toLowerCase(),1)}),t.forEach(i=>{if(!(i instanceof _t))return;let r=i;if(r.directiveName.toLowerCase().startsWith("unless")){let a=r.directiveName.substring(6);a.length>0&&(this.speculativeConditions.set(r.directiveName,1),this.speculativeEndIfs.set("end"+a,1))}if(this.speculativeEndIfs.has(r.directiveName)&&(r.isClosingDirective=!0),r.directiveName.toLowerCase().startsWith("else")){let a=r.directiveName.substring(4);a!="if"&&a.length>0&&this.speculativeConditions.set(a,1)}if(r.directiveName.toLowerCase().startsWith("end")){let a=r.directiveName.substring(3).toLowerCase();e.has(a)&&(this.possibleClosingNode.set(r.directiveName.toLowerCase(),1),r.isClosingDirective=!0)}})}};ri.possibleClosingNode=new Map,ri.alwaysRewrite=["unless","sectionMissing","hasSection","can","auth","env","isset","guest","cannot","canany","hasSection","production"],ri.customIfs=new Map,ri.speculativeConditions=new Map,ri.speculativeEndIfs=new Map});var $o,Bf=Dt(()=>{"use strict";Ae();Hs();Hr();$o=class{static getNewName(t){if(t.name==Ft.Unless)return Ft.If;if(ri.isSpeculativeEndIf(t.directiveName))return Ft.If;if(ri.alwaysRewrite.includes(t.name))return Ft.If;if(ri.isSpeculativeCondition(t.name))return Ft.If;if(ri.customIfs.has(t.name)){let e=t.directiveName.toLowerCase();return e.startsWith("else")?(t.isClosingDirective=!0,Ft.ElseIf):e.startsWith("end")?(t.isClosingDirective=!0,Ft.If):Ft.If}return t.directiveName=="auth"?Ft.If:t.name}static rewrite(t){let e=[];return t.forEach(i=>{if(i instanceof _t)if(ri.shouldRewrite(i)){let r=i.clone();r.name=this.getNewName(i),e.push(r)}else e.push(i);else e.push(i)}),e}}});function Ki(n){return n.length==0?null:n[0].startPosition}var hr=Dt(()=>{"use strict"});function Mf(n,t){let e=new Set(n),i=new Set(t),r=new Set([...e].filter(a=>i.has(a)));return Array.from(r)}var Uf=Dt(()=>{"use strict"});var ur,Hf=Dt(()=>{"use strict";Ae();ur=class{static findClosingTag(t,e,i){var a,h;let r=0;((a=i.name)==null?void 0:a.inlineName)!=null&&i.name.inlineName!=""&&(i.isShorthandSlot=!0);for(let c=e;c<t.length;c++){let f=t[c];if(f instanceof si){if(f.isClosedBy!=null||f.isOpenedBy!=null)continue;if(((h=f.name)==null?void 0:h.name)=="slot"){if(f.isSelfClosing==!1&&f.isClosingTag==!1){r+=1;continue}else if(f.isSelfClosing==!1&&f.isClosingTag){if(r-=1,r>0)continue;i.isClosedBy=f,f.isOpenedBy=i;break}}}}}static pairComponents(t){var e;for(let i=0;i<t.length;i+=1){let r=t[i];r instanceof si&&((e=r.name)==null?void 0:e.name)=="slot"&&r.isSelfClosing==!1&&r.isClosingTag==!1&&ur.findClosingTag(t,i,r)}return t}}});var qe,Dh=Dt(()=>{"use strict";qe=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null}hash(){var e,i,r,a;let t="";return this.node!=null&&(t=((i=(e=this.node.endPosition)==null?void 0:e.offset)!=null?i:0).toString()+"|"+((a=(r=this.node.startPosition)==null?void 0:r.offset)!=null?a:0).toString()+"|"),t+"|"+this.errorCode}static makeSyntaxError(t,e,i,r){r==null&&(r=0);let a=new qe;return a.errorCode=t,a.node=e,a.message=i,a.level=r,a}}});var Kt,Nh=Dt(()=>{"use strict";Kt=class{};Kt.TYPE_UNEXPECTED_END_OF_INPUT="BLADE_001",Kt.TYPE_PARSE_UNCLOSED_CONDITION="BLADE_002",Kt.TYPE_PARSE_UNCLOSED_SWITCH="BLADE_003",Kt.TYPE_UNPAIRED_CLOSING_DIRECTIVE="BLADE_004",Kt.TYPE_UNCLOSED_COMMENT="BLADE_005",Kt.TYPE_UNCLOSED_PHP_DIRECTIVE="BLADE_006",Kt.TYPE_UNPAIRED_PHP_CLOSING_DIRECTIVE="BLADE_007",Kt.TYPE_UNCLOSED_VERBATIM="BLADE_008",Kt.TYPE_UNPAIRED_VERBATIM_CLOSING_DIRECTIVE="BLADE_009",Kt.TYPE_UNCLOSED_FOR_DIRECTIVE="BLADE_010",Kt.TYPE_UNPAIRED_FOR_CLOSING_DIRECTIVE="BLADE_011",Kt.TYPE_UNCLOSED_FOR_ELSE_DIRECTIVE="BLADE_012",Kt.TYPE_UNPAIRED_FOR_ELSE_CLOSING_DIRECTIVE="BLADE_013",Kt.TYPE_FOR_ELSE_MISSING_EMPTY_DIRECTIVE="BLADE_014"});var gn,lr,Vf=Dt(()=>{"use strict";Dh();Nh();Ae();Hs();gn=class{static isConditionalStructure(t){if(!(t instanceof _t))return!1;let e=t,i=e.name;return i==Ft.If||i==Ft.ElseIf||i==Ft.Else}static requiresClose(t){let e=t.name;return e==Ft.ElseIf||e==Ft.Else?t.isClosedBy==null:!(t.isClosingDirective||t.isClosedBy!=null)}static getValidClosingPairs(t){return t==Ft.If||t==Ft.ElseIf?gn.conditionClosingPairs:[]}static findClosestStructurePair(t,e,i){let r=[],a=t.length,h=new Map;r.push({node:e,index:i});for(let c=0;c<a;c+=1){let f=t[c];if(f instanceof _t){let x=f.name;if(f.isClosingDirective&&x==Ft.If){h.set(c,c);continue}else if(x==Ft.ElseIf||x==Ft.Else){h.set(c,c);continue}}}for(;r.length>0;){let c=r.pop();if(c==null)continue;if(c.node._conditionParserAbandonPairing)break;let f=c.node,x=gn.getValidClosingPairs(f.name),d=c.index,k=!1;for(let _=d;_<a;_++){let l=t[_];if(l instanceof _t&&gn.isConditionalStructure(l)){if(gn.requiresClose(l)){if(_==a-1){k=!1;break}r.push(c),r.push({node:l,index:_+1}),k=!0;break}if(f.isClosedBy!=null)continue;let p=l.name,m=!1;if(l.ref==0&&(l.isClosingDirective&&p==Ft.If||x.includes(p))&&(m=!0),l.refId==f.refId&&(m=!1),m){h.delete(_),f.isClosedBy=l,l.isOpenedBy=f,l.ref+=1,k=!0;break}}}if(!k&&f instanceof _t){let _=f.name;(_==Ft.ElseIf||_==Ft.Else)&&f.isOpenedBy==null&&(f.pushError(qe.makeSyntaxError(Kt.TYPE_PARSE_UNCLOSED_CONDITION,f,"Unpaired condition control structure")),f._conditionParserAbandonPairing=!0),f.isClosedBy==null&&gn.requiresClose(f)&&(f.pushError(qe.makeSyntaxError(Kt.TYPE_PARSE_UNCLOSED_CONDITION,f,"Unpaired condition control structure")),f._conditionParserAbandonPairing=!0)}}}static pairConditionals(t){for(let e=0;e<t.length;e+=1){let i=t[e];i instanceof _t&&gn.isConditionalStructure(i)&&gn.requiresClose(i)&&gn.findClosestStructurePair(t,i,e+1)}return t.forEach(e=>{if(e instanceof _t&&gn.isConditionalStructure(e)){let i=e.name;if((i==Ft.ElseIf||i==Ft.Else)&&e.isOpenedBy==null){e.pushError(qe.makeSyntaxError(Kt.TYPE_PARSE_UNCLOSED_CONDITION,e,"Unpaired condition control structure")),e._conditionParserAbandonPairing=!0;return}if(e.isClosedBy==null&&gn.requiresClose(e)){e.pushError(qe.makeSyntaxError(Kt.TYPE_PARSE_UNCLOSED_CONDITION,e,"Unpaired condition control structure")),e._conditionParserAbandonPairing=!0;return}}}),t}},lr=gn;lr.conditionClosingPairs=["elseif","else"]});var Zo,Wf=Dt(()=>{"use strict";on();hr();Ae();Hs();Zo=class{static associate(t,e){let i=[];return t.forEach(r=>{r instanceof _t&&r.name.toLowerCase()==Ft.ForElse&&r.directiveName.toLowerCase()!=Ft.EndForElse?i.push(this.createForElseNode(r,e)):i.push(r)}),i}static createForElseNode(t,e){var f,x,d,k,_,l,p,m,v,C,P,F,L,j,B,J,et,Q,rt,yt,Rt,Nt,Ct,Et,vt,dt,ct,ee,It,Qt,me,V,W,ot,kt;let i=new Wi;i.withParser(e),i.originalNode=t,i.startPosition=t.startPosition,i.endPosition=t.getFinalClosingDirective().endPosition,i.constructedFrom=t;let r=t.findFirstDirectChildDirectiveOfType("empty");if(r==null){i.tailNode=t.children.pop(),i.truthNodes=t.children;let qt=((x=(f=t.startPosition)==null?void 0:f.index)!=null?x:0)-1,at=((_=(k=(d=t.isClosedBy)==null?void 0:d.startPosition)==null?void 0:k.index)!=null?_:0)-1,q=at-qt,K=((p=(l=t.endPosition)==null?void 0:l.index)!=null?p:0)+1,z=((C=(v=(m=t.isClosedBy)==null?void 0:m.startPosition)==null?void 0:v.index)!=null?C:0)-1,st=z-K;i.truthDocumentContent=e.getText(qt,at),i.truthDocumentOffset={start:qt,end:at,length:q},i.truthInnerContent=e.getText(K,z),i.truthInnerOffset={start:K,end:z,length:st}}else{let qt=t.children,at=[],q=[];i.elseNode=r;for(let te=0;te<qt.length;te++){let Bt=qt[te];if(Bt.refId==r.refId){q=qt.slice(te+1);break}else at.push(Bt)}i.truthNodes=at,q.length>0&&(i.tailNode=q.pop()),i.falseNodes=q;let K=((F=(P=t.startPosition)==null?void 0:P.index)!=null?F:0)-1,z=((j=(L=r.startPosition)==null?void 0:L.index)!=null?j:0)-1,st=z-K,ft=((J=(B=t.endPosition)==null?void 0:B.index)!=null?J:0)+1,ht=((Q=(et=r.startPosition)==null?void 0:et.index)!=null?Q:0)-1,$=ht-ft;i.truthDocumentContent=e.getText(K,z),i.truthDocumentOffset={start:K,end:z,length:st},i.truthInnerContent=e.getText(ft,ht),i.truthInnerOffset={start:ft,end:ht,length:$};let pt=((yt=(rt=r.startPosition)==null?void 0:rt.index)!=null?yt:0)-1,Pt=((Ct=(Nt=(Rt=t.isClosedBy)==null?void 0:Rt.startPosition)==null?void 0:Nt.index)!=null?Ct:0)-1,Yt=Pt-pt,xt=((vt=(Et=r.endPosition)==null?void 0:Et.index)!=null?vt:0)+1,wt=((ee=(ct=(dt=t.isClosedBy)==null?void 0:dt.startPosition)==null?void 0:ct.index)!=null?ee:0)-1,it=wt-xt;i.falseDocumentContent=e.getText(pt,Pt),i.falseDocumentOffset={start:pt,end:Pt,length:Yt},i.falseInnerContent=e.getText(xt,wt),i.falseInnerOffset={start:xt,end:wt,length:it}}i.truthDocument=fe.childFromText(e.getNodeText(i.truthNodes),e,Ki(i.truthNodes)),i.falseDocument=fe.childFromText(e.getNodeText(i.falseNodes),e,Ki(i.falseNodes));let a=((Qt=(It=t.startPosition)==null?void 0:It.index)!=null?Qt:0)-1,h=(kt=(V=(me=t.isClosedBy)==null?void 0:me.endPosition)==null?void 0:V.index)!=null?kt:0-((ot=(W=t.startPosition)==null?void 0:W.index)!=null?ot:0),c=h-a;return i.nodeContent=e.getText(a,h),i.documentContent=e.getText(a,h),i.offset={start:a,end:h,length:c},i}}});var ta,Gf=Dt(()=>{"use strict";on();hr();Ae();Hr();ta=class{static analyze(t,e){let i=[];return t.forEach(r=>{if(r instanceof _t&&r.isClosedBy!=null){let a=r.findFirstChildDirectiveOfType("else");a!=null&&a.isClosedBy==null?i.push(this.convertToConditionalNode(r,a,e)):i.push(r)}else i.push(r)}),i}static convertToConditionalNode(t,e,i){var Nt,Ct,Et,vt,dt,ct,ee,It,Qt,me,V,W,ot,kt,qt,at,q,K,z,st,ft,ht,$,pt,Pt,Yt;let r=new Ci,a=t.getFinalClosingDirective(),h=t.children,c=[],f=[],x=h.pop();r.withParser(i),r.parent=t.parent,r.startPosition=t.startPosition,r.endPosition=a.endPosition,r.constructedFrom=t;let d=((Ct=(Nt=t.startPosition)==null?void 0:Nt.index)!=null?Ct:0)-1,k=(ct=(Et=a==null?void 0:a.endPosition)==null?void 0:Et.index)!=null?ct:0-((dt=(vt=t.startPosition)==null?void 0:vt.index)!=null?dt:0),_=d+k;r.nodeContent=i.getText(d,k),r.offset={start:d,end:_,length:k};for(let xt=0;xt<h.length;xt++){let wt=h[xt];if(wt instanceof _t&&wt.refId==e.refId){f=h.slice(xt+1);break}else c.push(wt)}let l=new Bs,p=new Bs;l.withParser(i),p.withParser(i),t.isClosedBy=e,e.isOpenedBy=t,x.isOpenedBy=e,e.isClosedBy=x;let m=[...c],v=[...f];c.push(e),l.head=t,l.nodes=c,l.index=t.index;let C=(It=(ee=t.endPosition)==null?void 0:ee.index)!=null?It:0,P=((V=(me=(Qt=t.isClosedBy)==null?void 0:Qt.startPosition)==null?void 0:me.index)!=null?V:0)-1,F=P-C,L=((ot=(W=t.startPosition)==null?void 0:W.index)!=null?ot:0)-1,j=((at=(qt=(kt=t.isClosedBy)==null?void 0:kt.startPosition)==null?void 0:qt.index)!=null?at:0)-1,B=j-L;l.innerContent=i.getText(C,P),l.documentContent=i.getText(L,j),l.innerOffset={start:C,end:P,length:F},l.offset={start:L,end:j,length:B},f.push(x),p.head=e,p.nodes=f,p.index=e.index;let J=(K=(q=e.endPosition)==null?void 0:q.index)!=null?K:0,et=((ft=(st=(z=e.isClosedBy)==null?void 0:z.startPosition)==null?void 0:st.index)!=null?ft:0)-1,Q=et-J,rt=(($=(ht=e.startPosition)==null?void 0:ht.index)!=null?$:0)-1,yt=((Yt=(Pt=(pt=e.isClosedBy)==null?void 0:pt.startPosition)==null?void 0:Pt.index)!=null?Yt:0)-1,Rt=yt-rt;return p.innerContent=i.getText(J,et),p.documentContent=i.getText(rt,yt),p.innerOffset={start:J,end:et,length:Q},p.offset={start:rt,end:yt,length:Rt},r.chain=[t.index,e.index],r.logicBranches.push(l),r.logicBranches.push(p),l.startPosition=l.nodes[0].startPosition,l.endPosition=l.nodes[l.nodes.length-1].startPosition,l.childDocument=fe.childFromText(i.getNodeText(m),i,Ki(m)),p.childDocument=fe.childFromText(i.getNodeText(v),i,Ki(v)),p.startPosition=p.nodes[0].startPosition,p.endPosition=p.nodes[p.nodes.length-1].startPosition,ri.registerSpeculativeCondition(t.directiveName),r}}});var ea,qf=Dt(()=>{"use strict";on();hr();Ae();Hs();ea=class{static associate(t,e){let i=[];return t.forEach(r=>{r instanceof _t&&r.directiveName.toLowerCase()==Ft.Switch?i.push(this.createSwitchNode(r,e)):i.push(r)}),i}static createSwitchNode(t,e){var x,d,k,_,l,p,m,v,C,P,F,L,j,B,J,et,Q,rt,yt,Rt,Nt,Ct,Et,vt,dt,ct,ee,It,Qt,me,V,W;let i=new Vi,r=t.children;i.originalNode=t,i.startPosition=t.startPosition,i.endPosition=t.getFinalClosingDirective().endPosition,i.parent=t.parent,i.withParser(e),i.constructedFrom=t;let a=[];for(let ot=0;ot<r.length;ot++){let kt=r[ot];if(kt instanceof _t&&kt.name==Ft.Switch&&(ot+=kt.children.length),kt instanceof _t&&kt.name==Ft.Case){let qt=this.collectUntil(t,r.slice(ot+1),[Ft.Case,Ft.Default,Ft.EndSwitch]),at=new Rr;if(at.parent=kt.parent,i.cases.length==0&&a.length>0){if(at.leadingNodes=a,a.length>0){let $=a[0],pt=a[a.length-1],Pt=(d=(x=$.startPosition)==null?void 0:x.index)!=null?d:0,Yt=((_=(k=pt.endPosition)==null?void 0:k.index)!=null?_:0)+1,xt=e.getText(Pt,Yt);at.leadingDocument=fe.childFromText(xt,e,$.startPosition)}a=[]}if(at.refId=kt.refId,at.index=kt.index,at.startPosition=kt.startPosition,at.endPosition=kt.endPosition,at.order=i.cases.length,at.head=kt,at.isDefault=!1,at.children=qt.children,at.withParser(e),at.isClosedBy=qt.brokeOn,kt.isClosedBy=qt.brokeOn,at.children.length>0){let $=at.children[at.children.length-1];$ instanceof _t&&$==t.isClosedBy&&at.children.pop()}at.childDocument=fe.childFromText(e.getNodeText(at.children),e,Ki(at.children)),qt.brokeOn!=null&&(at.endPosition=qt.brokeOn.startPosition);let q=((p=(l=at.startPosition)==null?void 0:l.index)!=null?p:0)-1,K=((C=(v=(m=at.isClosedBy)==null?void 0:m.startPosition)==null?void 0:v.index)!=null?C:0)-1,z=K-q,st=((F=(P=kt.endPosition)==null?void 0:P.index)!=null?F:0)+1,ft=((B=(j=(L=at.isClosedBy)==null?void 0:L.startPosition)==null?void 0:j.index)!=null?B:0)-1,ht=ft-st;at.documentContent=e.getText(q,K),at.innerContent=e.getText(st,ft),at.offset={start:q,end:K,length:z},at.innerOffset={start:st,end:ft,length:ht},i.cases.push(at)}else if(kt instanceof _t&&kt.name==Ft.Default){let qt=r.slice(ot+1),at=new Rr;at.parent=kt.parent,at.refId=kt.refId,at.index=kt.index,at.startPosition=kt.startPosition,at.endPosition=t.startPosition,at.order=i.cases.length,at.head=kt,at.isDefault=!0,at.children=qt,at.withParser(e),at.isClosedBy=t.isClosedBy,kt.isClosedBy=t.isClosedBy;let q=[...at.children],K=q[q.length-1];K instanceof _t&&K.refId==((J=t.isClosedBy)==null?void 0:J.refId)&&q.pop();let z=((Q=(et=at.startPosition)==null?void 0:et.index)!=null?Q:0)-1,st=((Rt=(yt=(rt=at.isClosedBy)==null?void 0:rt.startPosition)==null?void 0:yt.index)!=null?Rt:0)-1,ft=st-z,ht=((Ct=(Nt=kt.endPosition)==null?void 0:Nt.index)!=null?Ct:0)+1,$=((dt=(vt=(Et=at.isClosedBy)==null?void 0:Et.startPosition)==null?void 0:vt.index)!=null?dt:0)-1,pt=$-ht;at.documentContent=e.getText(z,st),at.innerContent=e.getText(ht,$),at.offset={start:z,end:st,length:ft},at.innerOffset={start:ht,end:$,length:pt},at.childDocument=fe.childFromText(e.getNodeText(q),e,Ki(q)),i.cases.push(at);break}else a.push(kt)}if(i.cases.length>0){let ot=i.cases[i.cases.length-1];ot.children.length>0&&(i.tail=ot.children.pop())}if(i.cases.length==0){let ot=[...t.children];ot.length>0&&ot[ot.length-1]==t.isClosedBy&&ot.pop(),t.childrenDocument=fe.childFromText(e.getNodeText(ot),e,Ki(ot))}let h=((ee=(ct=t.startPosition)==null?void 0:ct.index)!=null?ee:0)-1,c=(W=(Qt=(It=t.isClosedBy)==null?void 0:It.endPosition)==null?void 0:Qt.index)!=null?W:0-((V=(me=t.startPosition)==null?void 0:me.index)!=null?V:0),f=h+c;if(i.nodeContent=e.getText(h,c),i.offset={start:h,end:f,length:c},i.cases.length>0){let ot=i.cases[i.cases.length-1];ot.isClosedBy==null&&(ot.isClosedBy=t.isClosedBy)}return i}static collectUntil(t,e,i){var h;let r=[],a=null;for(let c=0;c<e.length;c++){let f=e[c];if(f instanceof _t&&i.includes(f.name)&&((h=f.parent)==null?void 0:h.refId)==t.refId){a=f;break}r.push(f)}return{children:r,brokeOn:a}}}});var Ih,Vr,zf=Dt(()=>{"use strict";on();hr();Ae();Hs();Uf();Hf();Vf();Wf();Hr();Gf();qf();Ih=class{constructor(){this.document=null;this.parentNode=null;this.openDirectiveIndexCount=new Map;this.closingDirectiveIndex=new Map;this.closingDirectiveIndexCount=new Map;this.closingDirectiveNames=new Map;this.createdExecutionBranches=[];this.pairsCreated=0;this.stackCount=0}buildCloseIndex(t){var e,i,r;t.forEach(a=>{var x,d,k,_,l,p,m,v;if(!(a instanceof _t))return;let h=a;if(h.isClosingDirective==!1)return;this.closingDirectiveIndex.has(this.stackCount)==!1&&this.closingDirectiveIndex.set(this.stackCount,new Map),this.closingDirectiveIndexCount.has(this.stackCount)==!1&&this.closingDirectiveIndexCount.set(this.stackCount,new Map);let c=h.name;((x=this.closingDirectiveIndex.get(this.stackCount))==null?void 0:x.has(c))==!1&&((d=this.closingDirectiveIndex.get(this.stackCount))==null||d.set(c,[]),(k=this.closingDirectiveIndexCount.get(this.stackCount))==null||k.set(c,0)),(l=(_=this.closingDirectiveIndex.get(this.stackCount))==null?void 0:_.get(c))==null||l.push(a);let f=(m=(p=this.closingDirectiveIndexCount.get(this.stackCount))==null?void 0:p.get(c))!=null?m:0;(v=this.closingDirectiveIndexCount.get(this.stackCount))==null||v.set(c,f+1)}),this.closingDirectiveNames.has(this.stackCount)==!1&&this.closingDirectiveNames.set(this.stackCount,[]),this.closingDirectiveIndex.has(this.stackCount)&&(this.closingDirectiveNames.set(this.stackCount,Array.from((i=(e=this.closingDirectiveIndex.get(this.stackCount))==null?void 0:e.keys())!=null?i:[])),(r=this.closingDirectiveIndex.get(this.stackCount))==null||r.forEach((a,h)=>{var x,d,k,_,l;let c=a.length;if(c==0)return;let f=a[c-1];for(let p=0;p<c;p++){let m=t[p];if(m instanceof _t){if(m.index>=f.index)break;let v=m.name;if(m.isClosingDirective==!1&&v==h){this.openDirectiveIndexCount.has(this.stackCount)==!1&&this.openDirectiveIndexCount.set(this.stackCount,new Map),((x=this.openDirectiveIndexCount.get(this.stackCount))==null?void 0:x.has(h))==!1&&((d=this.openDirectiveIndexCount.get(this.stackCount))==null||d.set(h,0));let C=(_=(k=this.openDirectiveIndexCount.get(this.stackCount))==null?void 0:k.get(h))!=null?_:0;(l=this.openDirectiveIndexCount.get(this.stackCount))==null||l.set(h,C+1)}}}}))}getClosingCandidates(t){let e=[];return e.push(t.name),e}getScanForList(t){if(t.isClosingDirective==!1){let e=this.getClosingCandidates(t),i=this.closingDirectiveNames.get(this.stackCount);return Mf(e,i)}return[]}associate(t,e,i=null){var h;this.document=e;let r=[],a=[{documentNodes:t,parent:i}];for(;a.length>0;){let c=a.pop();if(c==null)continue;let f=c.documentNodes;this.parentNode=c.parent,this.stackCount+=1,this.buildCloseIndex(f),f=lr.pairConditionals(f),f=ur.pairComponents(f),f.forEach(_=>{if(_ instanceof _t&&ri.canClose(_)){if(lr.isConditionalStructure(_)){this.pairsCreated+=1;return}let l=this.getScanForList(_);this.findClosingPair(f,_,l)}});let x=f.length;for(let _=0;_<x;_++){let l=f[_];if(l instanceof _t&&l.isClosedBy!=null)for(let p=_+1;p<x;p++){let m=f[p];if(m.index>l.isClosedBy.index)break;if(m.parent=l,l.children.push(m),m instanceof _t&&m.index==l.index){m.parent=l;break}}}f.forEach(_=>{if(_ instanceof _t&&_.children.length>0){let l=[],p=[];_.children.forEach(m=>{if(m.parent!=null&&m.parent.index==_.index){let v=m.refId;if(!p.includes(v))m.parent=_,l.push(m),p.push(v);else return}}),a.push({documentNodes:l,parent:_})}});let d=[];f.forEach(_=>{var l;this.parentNode==null?_.parent==null&&d.push(_):((l=_.parent)==null?void 0:l.refId)==this.parentNode.refId&&d.push(_)}),d=this.reduceConditions(d,e),d=ea.associate(d,e),d=Zo.associate(d,e),d=ta.analyze(d,e),d=this.cleanNodes(d);let k=new Map;f.forEach(_=>{var l,p,m,v;if(_ instanceof _t&&_.isClosedBy!=null&&this.document!=null){let C=this.document.getText((p=(l=_.endPosition)==null?void 0:l.index)!=null?p:0,((v=(m=_.isClosedBy.startPosition)==null?void 0:m.index)!=null?v:0)-1);_.documentContent=C,(_.name=="php"||_.name=="verbatim")&&_.innerContent.trim().length==0&&(_.innerContent=_.documentContent)}});for(let _=0;_<d.length;_++){let l=d[_],p=(h=l.refId)!=null?h:"";k.set(p,1)}if(this.parentNode!=null&&this.parentNode instanceof _t&&(this.parentNode.children=this.cleanNodes(d),this.parentNode.parent!=null&&this.parentNode.parent instanceof _t)){let _=this.parentNode.parent.children,l=[];_.forEach(p=>{var m;k.has((m=p.refId)!=null?m:"")==!1&&l.push(p)}),this.parentNode.parent.children=this.cleanNodes(l)}this.stackCount<=1&&(r=this.cleanNodes(d))}return r}cleanNodes(t){let e=[],i=[];for(let r=0;r<t.length;r++){let a=t[r],h=a.refId;if(i.includes(h))break;e.push(a),i.push(h)}return e}reduceConditions(t,e){var r,a,h,c,f,x,d,k,_,l,p,m,v,C,P,F,L;let i=[];for(let j=0;j<t.length;j++){let B=t[j];if(B instanceof _t&&B.isClosingDirective==!1&&B.isClosedBy!=null)if(B.name==Ft.If){let et=new Ci,Q=B.getFinalClosingDirective();et.withParser(e),et.index=B.index,et.chain.push(B.index),et.startPosition=B.startPosition,et.endPosition=Q.endPosition,et.constructedFrom=B;let rt=((a=(r=B.startPosition)==null?void 0:r.index)!=null?a:0)-1,yt=(x=(h=Q==null?void 0:Q.endPosition)==null?void 0:h.index)!=null?x:0-((f=(c=B.startPosition)==null?void 0:c.index)!=null?f:0),Rt=rt+yt;et.nodeContent=e.getText(rt,yt),et.offset={start:rt,end:Rt,length:yt},this.parentNode!=null&&(et.parent=this.parentNode);let Nt=null,Ct=!0,Et=0;for(;Ct;){if(Et+=1,Et>Ih.ForceBreakLimit){Ct=!1;break}if(B instanceof _t){let vt=this.findEndOfBranch(t.slice(j+1),B,j),dt=new Bs;dt.withParser(e);let ct=vt.tail;dt.head=B,dt.tail=ct,dt.nodes=this.cleanNodes(B.children);let ee=[...dt.nodes],It=ee[ee.length-1];It instanceof _t&&It.refId==((d=B.isClosedBy)==null?void 0:d.refId)&&ee.pop();let Qt=(_=(k=B.endPosition)==null?void 0:k.index)!=null?_:0,me=((m=(p=(l=B.isClosedBy)==null?void 0:l.startPosition)==null?void 0:p.index)!=null?m:0)-1,V=me-Qt,W=((C=(v=B.startPosition)==null?void 0:v.index)!=null?C:0)-1,ot=((L=(F=(P=B.isClosedBy)==null?void 0:P.startPosition)==null?void 0:F.index)!=null?L:0)-1,kt=ot-W;if(dt.innerContent=e.getText(Qt,me),dt.documentContent=e.getText(W,ot),dt.innerOffset={start:Qt,end:me,length:V},dt.offset={start:W,end:ot,length:kt},dt.childDocument=fe.childFromText(e.getNodeText(ee),e,Ki(ee)),ct==null&&(ct=dt.head.isClosedBy),ct!=null&&ct.startPosition!=null&&(dt.startPosition=ct.startPosition),ct!=null&&(dt.index=ct.index),dt.nodes.length>0){let qt=dt.nodes[dt.nodes.length-1];qt.endPosition!=null&&(dt.endPosition=qt.endPosition)}else ct!=null&&ct.endPosition!=null&&(dt.endPosition=ct.endPosition);if(this.createdExecutionBranches.push(dt),et.logicBranches.push(dt),(ct==null?void 0:ct.isClosingDirective)&&ct.name==Ft.If){Nt=vt.offset,Ct=!1;break}else ct!=null&&et.chain.push(ct.index),j=vt.offset,ct instanceof _t&&(B=ct)}else Ct=!1}if(i.push(et),Nt!=null&&Nt==t.length)break}else i.push(B);else i.push(B)}return i}findEndOfBranch(t,e,i){let r=[],a=i,h=null;for(let c=0;c<t.length;c++){let f=t[c];if(f instanceof _t&&f.isOpenedBy!=null&&f.isOpenedBy==e){h=f;break}else r.push(f)}return{children:r,tail:h,offset:a}}getPairsCreated(){return this.pairsCreated}findClosingPair(t,e,i){let r=t.length,a=0;for(let h=0;h<r;h++){let c=t[h];if(!(c instanceof _t)||c.startPosition==null||e.endPosition==null||!e.endPosition.isBefore(c.startPosition))continue;let f=c;if(f.isClosingDirective&&f.isOpenedBy!=null||!f.isClosingDirective&&f.isClosedBy!=null)continue;let x=f.name;if(!f.isClosingDirective&&i.includes(x)){a+=1;continue}if(i.includes(x)&&a>0){a-=1;continue}if(a==0&&i.includes(x)){f.isOpenedBy=e,e.isClosedBy=f,this.pairsCreated+=1;break}}}},Vr=Ih;Vr.ForceBreakLimit=1e5});var ia,Jf=Dt(()=>{"use strict";Ae();ia=class{static setChildTypeCounts(t){t.forEach(e=>{if(!(e instanceof _t))return;let i=e;i.getImmediateChildren().forEach(r=>{let a="*unknown",h=0;r instanceof Jt?a="*literal":r instanceof Ln?a="*entities_echo":r instanceof wn?a="*escaped_echo":r instanceof we?a="*echo":r instanceof Qo?a="*verbatim":r instanceof _t&&(a=r.directiveName),i.childTypeCounts.has(a)==!1&&i.childTypeCounts.set(a,0);let c=i.childTypeCounts.get(a),f=c+1;i.childTypeCounts.set(a,f),r.parentTypeIndex=f,r.parentIndex=h,h+=1})})}}});var na,Yf=Dt(()=>{"use strict";Ae();na=class{constructor(t,e){this.documentParser=t,this.fragmentsParser=e}doesContainFragments(t){var r,a,h,c,f;let e=(a=(r=t.endPosition)==null?void 0:r.index)!=null?a:0,i=(f=(c=(h=t.isClosedBy)==null?void 0:h.startPosition)==null?void 0:c.index)!=null?f:0;return this.fragmentsParser.getFragmentsBetween(e,i).length>0}analyze(){let t=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(e=>{let i=e.name.toLowerCase();if(e.isClosingFragment==!1&&e.isSelfClosing==!1&&(i=="script"||i=="style")){let r=this.fragmentsParser.getClosingFragmentAfter(e);if(r==null)return;e.endPosition!=null&&r.startPosition!=null&&this.documentParser.getNodesBetween(e.endPosition,r.startPosition).forEach(h=>{(h instanceof Ci||h instanceof Wi||h instanceof si||h instanceof Vi||h instanceof _t&&h.isClosedBy!=null)&&(e.containsStructures=!0),i=="style"?h.isInStyleTag=!0:h.isInScriptTag=!0})}}),t.forEach(e=>{var h,c,f,x,d,k;if(e instanceof Jt||e.startPosition==null)return;e instanceof _t&&!e.isClosingDirective&&e.isClosedBy!=null&&(e.containsAnyFragments=this.doesContainFragments(e));let i=this.fragmentsParser.getFragmentContaining(e.startPosition);if(i==null)return;if(e.fragment=i,e.startPosition.index-((c=(h=i.startPosition)==null?void 0:h.index)!=null?c:0)<=3){e.fragmentPosition=0;return}if(i.parameters.length==0){e.fragmentPosition=2;return}let a=!1;for(let _=0;_<i.parameters.length;_++){let l=i.parameters[_];if(((x=(f=l.startPosition)==null?void 0:f.index)!=null?x:0)<e.startPosition.index&&((k=(d=l.endPosition)==null?void 0:d.index)!=null?k:0)>e.startPosition.index){e.fragmentPosition=1,a=!0;break}}a||(e.fragmentPosition=2)}))}}});var sa,Xf=Dt(()=>{"use strict";Ae();He();sa=class{static analyze(t){t.forEach(e=>{var i,r,a,h;if(e instanceof we){let c=!1,f=!1;if(e.nextNode==null)c=!0;else if(e.nextNode instanceof Jt){let x=H.getFirstLine(e.nextNode.content);(H.trimLeft(x," 	").startsWith(`
`)==!1&&x.trim().length>0||e.nextNode.nextNode instanceof we&&((i=e.nextNode.nextNode.startPosition)==null?void 0:i.line)==((r=e.endPosition)==null?void 0:r.line))&&(c=!0)}else e.nextNode instanceof we&&(c=!0);if(e.prevNode==null)f=!0;else if(e.prevNode instanceof Jt){let x=H.getLastLine(e.prevNode.content);(H.trimRight(x," 	").endsWith(`
`)==!1&&x.trim().length>0||e.prevNode.prevNode instanceof we&&((a=e.prevNode.prevNode.endPosition)==null?void 0:a.line)==((h=e.startPosition)==null?void 0:h.line))&&(f=!0)}else e.prevNode instanceof we&&(f=!0);e.isInlineEcho=c||f}})}}});var ra,Kf=Dt(()=>{"use strict";Ae();He();ra=class{static analyze(t){t.forEach(e=>{var i,r;if(e instanceof hi){if(((i=e.startPosition)==null?void 0:i.line)!=((r=e.endPosition)==null?void 0:r.line))return;let a=!1,h=!1;if(e.nextNode==null)a=!0;else if(e.nextNode instanceof Jt){let c=H.getFirstLine(e.nextNode.content);H.trimLeft(c," 	").startsWith(`
`)==!1&&c.trim().length>0&&(a=!0)}if(e.prevNode==null)h=!0;else if(e.prevNode instanceof Jt){let c=H.getLastLine(e.prevNode.content);H.trimRight(c," 	").endsWith(`
`)==!1&&c.trim().length>0&&(h=!0)}e.isInline=a&&h}})}}});var Fn,Qf=Dt(()=>{"use strict";mn();He();Fn=class{static findRightBeighboringNextPunctuation(t,e,i=4){e=e.replace("	"," ".repeat(i));let r=!1;for(let a=t+1;a<e.length;a++){let h=e[a];if(H.ctypeSpace(h)&&(r=!0),r&&(H.ctypeAlpha(h)||H.ctypeDigit(h)))return null;if(H.ctypePunct(h)||h==nt.String_Terminator_SingleQuote||h==nt.String_Terminator_DoubleQuote)return h}return null}static findRightNeighboringNextAlphaNumeric(t,e,i=4){e=e.replace("	"," ".repeat(i));let r=!1;for(let a=t+1;a<e.length;a++){let h=e[a];if((H.ctypeSpace(h)||H.ctypePunct(h)&&h!=nt.Punctuation_Underscore)&&(r=!0),r&&(H.ctypeAlpha(h)||H.ctypeDigit(h)))return a+1}return null}static findLeftNeighboringNextPunctuation(t,e,i=4){e=e.replace("	"," ".repeat(i));let r=!1;for(let a=t-2;a>=0;a--){let h=e[a];if(H.ctypeSpace(h)&&(r=!0),r&&(H.ctypeAlpha(h)||H.ctypeDigit(h)))return null;if(H.ctypePunct(h))return h}return null}static findLeftNeighboringNextAlphaNumeric(t,e,i=4){e=e.replace("	"," ".repeat(i));let r=!1;for(let a=t-1;a>=0;a--){let h=e[a];if((H.ctypeSpace(h)||H.ctypePunct(h)&&h!=nt.Punctuation_Underscore)&&(r=!0),r&&(H.ctypeAlpha(h)||H.ctypeDigit(h)))return a+1}return null}static scanWordAt(t,e,i=4){if(e=e.replace("	"," ".repeat(i)),t<0||t>e.length)return null;let r=[],a=[];for(let h=t-1;h>=0;h--){let c=e[h];if(H.ctypePunct(c)&&c!=nt.Punctuation_Underscore||H.ctypeSpace(c))break;r.push(c)}for(let h=t;h<e.length;h++){let c=e[h];if(H.ctypePunct(c)&&c!=nt.Punctuation_Underscore||H.ctypeSpace(c))break;a.push(c)}return r.reverse().join("")+a.join("")}}});var Rn,Ph=Dt(()=>{"use strict";Rn=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(t){let e=new Rn;return e.offset=this.offset+t,e.index=this.index+t,e.line=this.line,e.char=this.char+t,e}isBefore(t){return t==null?!1:t.line>this.line||t.line==this.line&&this.offset<t.offset}isWithin(t,e,i=0){return t==null||e==null?!1:this.index>=t.index&&this.index<=e.index+i}isWithinRange(t){return t==null?!1:t.start!=null&&t.end!=null?this.isWithin(t.start,t.end):!1}}});function cr(n){for(let t=n.getCurrentIndex()+1;t<n.inputLength();t++){let e=n.getChar(t);if(!H.ctypeSpace(e))return{didFind:!0,index:t,char:e}}return{didFind:!1,index:null,char:""}}var Oh=Dt(()=>{"use strict";He()});function Ei(n,t){for(n.getCurrentIndex();n.getCurrentIndex()<n.inputLength()&&(n.checkCurrentOffsets(),t&&n.pushChar(n.getCurrent()),n.getCurrent()!=nt.NewLine);n.incrementIndex());}var Ts=Dt(()=>{"use strict";mn()});function yi(n,t){for(n.getCurrentIndex();n.getCurrentIndex()<n.inputLength();n.incrementIndex())if(n.checkCurrentOffsets(),t&&n.pushChar(n.getCurrent()),n.getCurrent()==nt.Punctuation_Asterisk&&n.getNext()==nt.Punctuation_ForwardSlash){t&&n.pushChar(nt.Punctuation_ForwardSlash),n.incrementIndex(),n.checkCurrentOffsets();break}}var Cs=Dt(()=>{"use strict";mn()});function fr(n){let t=n.getCurrentIndex()+n.getSeedOffset(),e=n.getCurrentIndex(),i=0,r=0,a=!1;for(n.incrementIndex(),n.getCurrentIndex();n.getCurrentIndex()<n.inputLength();n.incrementIndex()){if(n.checkCurrentOffsets(),Ke(n.getCurrent())){let c=n.getCurrent(),f=n.getCurrentIndex();Fs(n),n.getNext()===null&&n.getCurrent()!==c&&(n.updateIndex(f+1),n.encounteredFailure());continue}if(n.getCurrent()==nt.Punctuation_ForwardSlash&&n.getNext()==nt.Punctuation_Asterisk){yi(n,!1);continue}if(n.getCurrent()==nt.Punctuation_ForwardSlash&&n.getNext()==nt.Punctuation_ForwardSlash){Ei(n,!1);continue}if(n.getCurrent()==nt.LeftParen){r+=1;continue}if(n.getCurrent()==nt.RightParen){if(r>0){r-=1;continue}i=n.getCurrentIndex()+n.getSeedOffset()+1,a=!0;break}if(n.getCurrent()==null)break}let h=n.getContentSubstring(t,i-t);return a||n.updateIndex(e-1),{start:t,end:i,content:h,foundEnd:a}}var wh=Dt(()=>{"use strict";mn();Nn();Ts();Cs();In()});var oa,Zf=Dt(()=>{"use strict";Ae();He();mn();Nn();Oh();wh();Ts();Cs();In();oa=class{constructor(t){this.content="";this.inputLen=0;this.chars=[];this.currentContent=[];this.prev=null;this.cur=null;this.next=null;this.currentIndex=0;this.hasFoundName=!1;this.nameStartsOn=0;this.nameEndsOn=-1;this.name="";this.parameterContent="";this.activeComponent=null;this.document=t}advance(t){for(let e=0;e<t;e++)this.currentIndex++,this.checkCurrentOffsets()}encounteredFailure(){}pushChar(t){this.currentContent.push(t)}updateIndex(t){this.currentIndex=t}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}getChar(t){return this.chars[t]}getSeedOffset(){return 0}getContentSubstring(t,e){return this.content.substr(t,e)}resetState(){return this.name="",this.parameterContent="",this.hasFoundName=!1,this.nameStartsOn=0,this.nameEndsOn=-1,this.currentIndex=0,this.content="",this.chars=[],this.currentContent=[],this.inputLen=0,this.prev=null,this.cur=null,this.next=null,this}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}makeDirective(t,e,i){let r=new _t,a=this.getComponentOffset();r.withParser(this.document),t.startsWith("@")&&(t=t.substring(1)),r.directiveName=t.trim(),r.name=t.trim(),t.startsWith("end")?r.name=t.substring(3):t.startsWith("else")&&t!="elseif"&&t!="else"&&(r.name="elseif");let h=this.document.positionFromOffset(a+e,a+e),c=this.document.positionFromOffset(a+i,a+i);if(r.startPosition=h,r.endPosition=c,r.namePosition={start:h,end:c},r.hasDirectiveParameters=!1,r.startPosition!=null&&r.endPosition!=null){let f=r.startPosition.index,x=r.endPosition.index-r.startPosition.index,d=f+x;r.sourceContent=this.document.getContentSubstring(f,x),r.offset={start:f,end:d,length:x}}return r}getComponentOffset(){var t,e,i;return((i=(e=(t=this.activeComponent)==null?void 0:t.startPosition)==null?void 0:e.offset)!=null?i:0)+3}makeDirectiveWithParameters(t,e,i,r){var d,k;let a=this.makeDirective(t,e,i),h=this.getComponentOffset();a.hasDirectiveParameters=!0,a.directiveParameters=r.content;let c=r.content.trim();c.startsWith("(")&&c.endsWith(")")&&(c=c.substring(1),c=c.substring(0,c.length-1),c=c.trim(),a.hasJsonParameters=c.startsWith("{")&&c.endsWith("}"));let f=this.document.positionFromOffset(r.start+h,r.start+h),x=this.document.positionFromOffset(r.end+h,r.end+h);if(a.startPosition=(k=(d=a.namePosition)==null?void 0:d.start)!=null?k:null,a.endPosition=x,a.directiveParametersPosition={start:f,end:x},a.startPosition!=null&&a.endPosition!=null){let _=a.startPosition.index,l=a.endPosition.index-a.startPosition.index,p=_+l;a.sourceContent=this.document.getContentSubstring(_,l),a.offset={start:_,end:p,length:l}}return a}prepare(t){return this.content=H.normalizeLineEndings(t),this.chars=this.content.split(""),this.inputLen=this.chars.length,this}peek(t){return this.chars[t]}peekRelative(t){return this.peek(this.currentIndex+t)}scanToEndOfComment(t){let e=this.getComponentOffset(),i=!1,r=!1,a=-1,h=-1;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==nt.NewLine&&!i&&(i=!0,a=this.currentIndex),H.ctypeSpace(this.cur)&&!r&&(r=!0,h=this.currentIndex),this.cur==nt.Punctuation_Minus&&this.next==nt.Punctuation_Minus||this.next==null){let c=this.peekRelative(2),f=this.peekRelative(3);if(c==nt.RightBrace&&f==nt.RightBrace||this.next==null){let x=new Hi;return x.startPosition=this.document.positionFromOffset(t-2+e,t-2+e),x.endPosition=this.document.positionFromOffset(this.currentIndex+4+e,this.currentIndex+4+e),x.innerContent=this.chars.slice(t+2,this.currentIndex).join(""),x.sourceContent=this.chars.slice(t-2,this.currentIndex+4).join(""),x}else{this.cur!=null&&this.currentContent.push(this.cur);continue}}if(this.cur==null)break;this.currentContent.push(this.cur)}return null}scanToEndOfDirective(){let t=this.currentIndex,e=!1,i="",r=0,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_Asterisk){yi(this,!0);continue}if(this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_ForwardSlash){Ei(this,!0);continue}if(this.cur==nt.NewLine){r=this.currentIndex,i=this.currentContent.join(""),this.currentContent=[],a=this.makeDirective(i,t,r);break}else if(this.next==null){this.currentContent.push(this.cur),r=this.currentIndex+1,i=this.currentContent.join(""),this.currentContent=[],a=this.makeDirective(i,t,r);break}let h=cr(this);if(this.cur!=nt.LeftParen&&h.didFind&&H.ctypePunct(h.char)&&h.char!=nt.LeftParen&&h.char!=nt.Punctuation_Minus&&h.char!="."){this.currentContent.push(this.cur),r=this.currentIndex+1,i=this.currentContent.join(""),this.currentContent=[],a=this.makeDirective(i,t,r);break}if(H.ctypeSpace(this.cur)){let c=cr(this);if(c.didFind&&c.char==nt.LeftParen){r=this.currentIndex-1,i=this.currentContent.join(""),this.currentContent=[],this.currentIndex=c.index,this.checkCurrentOffsets();let f=fr(this);a=this.makeDirectiveWithParameters(i,t,r,f);break}else{r=this.currentIndex,i=this.currentContent.join(""),this.currentContent=[],a=this.makeDirective(i,t,r);break}}else if(this.cur==nt.LeftParen){r=this.currentIndex-1,i=this.currentContent.join(""),this.currentContent=[];let c=fr(this);a=this.makeDirectiveWithParameters(i,t,r,c);break}if(this.cur==null)break;this.currentContent.push(this.cur)}return a}nextPunctuation(){for(let t=this.currentIndex+1;t<this.inputLen;t++){let e=this.chars[t];if(H.ctypePunct(e))return e}return null}scanToEndOfBladeEcho(t){let e=this.getComponentOffset(),i=new we;for(this.currentContent.unshift(),this.currentContent.unshift(),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==nt.RightBrace&&this.next==nt.RightBrace){let r=this.currentIndex+1;i.startPosition=this.document.positionFromOffset(t+e,t+e),i.endPosition=this.document.positionFromOffset(r+e,r+e),i.withParser(this.document);let a=i.startPosition.index-5,h=i.endPosition.index-i.startPosition.index+3,c=a+h;i.sourceContent=this.content.substr(a,h),i.offset={start:a,end:c,length:h},i.content=this.currentContent.join("");break}if(this.cur==null)break;this.currentContent.push(this.cur)}return i}parse(t){var f;this.resetState().prepare(t.innerContent),this.activeComponent=t;let e=t.getParser(),i=!1,r=-1,a=-1,h=-1,c='"';for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.hasFoundName&&this.cur==nt.LeftBrace&&this.next==nt.LeftBrace){this.currentIndex+=2;let x=this.peekRelative(0),d=this.peekRelative(1);if(x==nt.Punctuation_Minus&&d==nt.Punctuation_Minus){let k=this.scanToEndOfComment(this.currentIndex);if(k!=null){let _=new ys;_.type=1,_.startPosition=k.startPosition,_.endPosition=k.endPosition,_.inlineComment=k,_.type=4,t.hasParameters=!0,t.parameters.push(_),this.currentContent=[],this.currentIndex+=3;continue}debugger}else{let k=this.scanToEndOfBladeEcho(this.currentIndex);if(k!=null){let _=new ys;_.type=1,_.startPosition=k.startPosition,_.endPosition=k.endPosition,_.inlineEcho=k,_.type=3,t.hasParameters=!0,t.parameters.push(_),this.currentContent=[],this.currentIndex+=1;continue}}}if(this.hasFoundName&&this.cur==nt.AtChar&&this.currentContent.length==0&&this.nextPunctuation()!=nt.Punctuation_Equals){let x=this.scanToEndOfDirective();if(x!=null){let d=new ys;d.type=1,d.startPosition=x.startPosition,d.endPosition=x.endPosition,d.name=x.directiveName,d.directive=x,t.hasParameters=!0,t.parameters.push(d);continue}}if(this.hasFoundName){if(H.ctypeSpace(this.cur)||this.next==null){if(this.currentContent.length>0){let x=new ys,d=this.getComponentOffset();x.type=2,this.next==null&&!H.ctypeSpace(this.cur)&&this.currentContent.push(this.cur),x.name=this.currentContent.join("");let k=this.currentIndex+d-x.name.length;x.startPosition=this.document.positionFromCursor(k,k),x.endPosition=this.document.positionFromCursor(this.currentIndex+d,this.currentIndex+d),x.namePosition={start:x.startPosition,end:x.endPosition},t.parameters.push(x),t.hasParameters=!0,this.currentContent=[];continue}continue}else i||(i=!0,r=this.currentIndex);if(this.cur==nt.Punctuation_Equals&&Ke(this.next)){c=this.next,a=this.currentIndex-1,this.currentIndex+=1,this.checkCurrentOffsets(),h=this.currentIndex;let x=Ui(this),d=new ys;d.withParser(e),d.name=this.currentContent.join(""),d.value=x.value;let k=t.relativeOffset(r+3),_=t.relativeOffset(a+3),l=t.relativeOffset(h+3),p=t.relativeOffset(x.endedOn+3);d.namePosition={start:e.positionFromOffset(k,k),end:e.positionFromOffset(_,_)},d.valuePosition={start:e.positionFromOffset(l,l),end:e.positionFromOffset(p,p)},d.terminatorStyle=c,d.wrappedValue=c+d.value+c,d.content=d.name+"="+d.wrappedValue,d.realName=d.name,d.realName.startsWith(":")&&(d.isExpression=!0,d.realName=d.realName.substring(1),d.realName.startsWith(":")&&(d.isExpression=!1,d.realName=d.realName.substring(1),d.isEscapedExpression=!0)),t.hasParameters=!0,t.parameters.push(d),this.currentContent=[],i=!1,r=-1,a=-1,h=-1,c='"';continue}}else if((H.ctypeSpace(this.cur)||this.next==null)&&this.hasFoundName==!1){this.next==null&&!H.ctypeSpace(this.cur)&&this.currentContent.push(this.cur),this.name=this.currentContent.join(""),this.nameEndsOn=this.currentIndex-1,this.hasFoundName=!0,this.currentContent=[],this.parameterContent=this.chars.slice(this.currentIndex).join("");continue}this.currentContent.push(this.cur)}if(t.name=this.makeComponentName(t),t.parameterContent=this.parameterContent,t.hasParameters)for(let x=0;x<t.parameters.length;x++){let d=t.parameters[x];if(d.type==3&&((f=d.inlineEcho)==null?void 0:f.content.trim()).toLowerCase().startsWith("$attributes")){t.receivesAttributeBag=!0;break}}}makeComponentName(t){let e=t.getParser(),i=new Xo,r=t.relativeOffset(this.nameStartsOn+3),a=t.relativeOffset(this.nameEndsOn+3);if(i.withParser(e),i.name=this.name,t.isClosingTag&&(i.name=t.innerContent.trim().substring(1)),i.name.includes(":")){let h=i.name.split(":");i.name=h[0],i.inlineName=h.slice(1).join(":")}return i.startPosition=e.positionFromOffset(r,r),i.endPosition=e.positionFromOffset(a,a),i}}});var tp,ep=Dt(()=>{"use strict";tp=["x-ref","is","ref"]});var bs,aa=Dt(()=>{"use strict";on();Ae();Ph();He();mn();ep();Nn();Ts();Cs();In();bs=class{constructor(){this.content="";this.nodeIndex=[];this.nodeIndexSkipMap=new Map;this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map;this.extractAttributePositions=!1;this.extractAttributeNames=[];this.excludeAttributeNames=[];this.extractedAttributes=[];this.lastFragmentEnded=-1;this.parsingTracedStringHitEof=!1}advance(t){for(let e=0;e<t;e++)this.currentIndex++,this.checkCurrentOffsets()}getParsingTracedStringHitEof(){return this.parsingTracedStringHitEof}encounteredFailure(){}updateIndex(t){this.currentIndex=t}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(t){}getChar(t){return this.chars[t]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(t,e){return this.documentOffsets=t,this.lastDocumentOffsetKey=e,this}getClosingFragmentAfter(t){let e=t.name.toLowerCase();for(let i=0;i<this.fragments.length;i++){let r=this.fragments[i];if(r.isClosingFragment&&!r.isSelfClosing&&r.name.toLowerCase()==e&&r.index>t.index)return r}return null}setExcludeAttributes(t){this.excludeAttributeNames=t}setExtractAttributes(t){this.extractAttributePositions=t}setExtractAttributeNames(t){this.extractAttributeNames=t}getContentSubstring(t,e){return this.content.substr(t,e)}getExtractedAttributes(){return this.extractedAttributes}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(t,e,i=!1){let r=0,a=0;if(this.documentOffsets.has(t)){let c=this.documentOffsets.get(t);r=c.line,a=c.char}else if(this.documentOffsets.size==0)r=1,a=t+1;else{let c=null,f=null,x=null,d=null;for(let k of this.documentOffsets.keys()){if(k>=t){d!=null&&t>d?(c=x,f=d):(c=this.documentOffsets.get(k),f=k);break}x=this.documentOffsets.get(k),d=k}c==null&&(c=x,f=d),c!=null?(a=t-(f!=null?f:0),r=c.line,t<=(f!=null?f:0)?(r=c.line,a=t+1):r=c.line+1):this.lastDocumentOffsetKey!=null&&(r=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,a=t+this.lastDocumentOffsetKey)}let h=new Rn;return h.index=e,h.offset=t,h.line=r+this.shiftLine,h.char=a,h}getFragments(){return this.fragments}getFragmentsBetween(t,e){let i=[];return this.fragments.forEach(r=>{var c,f,x,d;let a=(f=(c=r.startPosition)==null?void 0:c.index)!=null?f:0,h=(d=(x=r.endPosition)==null?void 0:x.index)!=null?d:0;a>t&&h<e&&i.push(r)}),i}getFragmentContaining(t){var e,i,r,a;for(let h=0;h<this.fragments.length;h++){let c=this.fragments[h];if(((i=(e=c.startPosition)==null?void 0:e.index)!=null?i:0)<t.index&&((a=(r=c.endPosition)==null?void 0:r.index)!=null?a:0)>t.index)return c}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let t=!0;if(this.currentIndex==this.charLen-1){let e=H.split(H.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(t=!1),e.forEach(i=>{this.chars.push(i),this.charLen+=1})}t&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(t){this.content=t,this.inputLen=this.content.length;let e=[...this.content.matchAll(/(<(?!\?[php|\?=]))/gm)],i=[];e.forEach(r=>{var c;let a=(c=r.index)!=null?c:0;for(let f=0;f<this.nodeIndex.length;f++){let x=this.nodeIndex[f];if(a>=x.start&&a<=x.end)return}let h=this.fetchAt(a,2);h=="<="||h=="<>"||i.push(a)}),this.fragmentStartIndex=i}setIndexRanges(t){return this.nodeIndex=t,this.nodeIndex.forEach(e=>{this.nodeIndexSkipMap.set(e.start,e.end-e.start)}),this}fetchAt(t,e){return this.content.substr(t,e)}getEmbeddedDocumentStructures(){let t=[];return this.getEmbeddedFragments().forEach(e=>{if(!e.isClosingFragment&&!e.isSelfClosing){let i=this.getClosingFragmentAfter(e);i!=null&&t.push({start:e,end:i})}}),t}getFragmentsContainingStructures(){let t=[];return this.fragments.forEach(e=>{if(!e.isClosingFragment&&!e.isSelfClosing&&e.containsStructures){let i=this.getClosingFragmentAfter(e);i!=null&&t.push({start:e,end:i})}}),t}parse(t){if(this.resetState().processInputText(t),this.fragmentStartIndex.length==0)return[];for(let a=0;a<this.fragmentStartIndex.length;a++){let h=this.fragmentStartIndex[a];if(this.resetIntermediateState(),!(h<this.lastFragmentEnded)&&(this.seedOffset=h,this.currentChunkOffset=h,this.parseIntermediateText(),this.isScript)){let c=!1;for(let f=a+1;f<this.fragmentStartIndex.length;f++){let x=this.fragmentStartIndex[f];if(this.fetchAt(x,8).toLowerCase()=="<\/script"){a=f-1,this.isScript=!1,c=!0;break}}if(!c)break}}let i=0,r=0;return this.fragments.forEach(a=>{let h=a.name.toLowerCase();(h=="script"||h=="style")&&(a.embeddedIndex=r,this.embeddedIndexedFragments.set(r,a),r+=1),a.index=i,this.indexedFragments.set(i,a),i+=1}),this.fragments}getFragment(t){return this.indexedFragments.get(t)}getEmbeddedFragment(t){return this.embeddedIndexedFragments.get(t)}getEmbeddedFragments(){let t=[];return this.embeddedIndexedFragments.forEach(e=>{t.push(e)}),t}hasFragments(){return this.fragments.length>0}getCheckAttributeName(t){let e=t.indexOf("."),i=t.indexOf(":");return e!==-1&&(i===-1||e<i)?t.substring(0,e):i!==-1&&(e===-1||i<e)?t.substring(0,i):t}shouldSkip(t){let e=this.getCheckAttributeName(t).toLowerCase();return!!tp.includes(e)}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Ke(this.cur)&&Fs(this),this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_ForwardSlash){Ei(this,!0);continue}if(this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_Asterisk){yi(this,!0);continue}if(this.cur==nt.Punctuation_QuestionMark&&this.next==nt.Punctuation_GreaterThan||this.next==null)break}}scanBackToName(t){let e=[];for(let i=t;i>0;i--){let r=this.chars[i];if(H.ctypeSpace(r))break;e.push(r)}return e.reverse().join("")}shouldExtract(t){for(let e=0;e<this.excludeAttributeNames.length;e++)if(new RegExp(this.excludeAttributeNames[e]).test(t))return!1;if(this.extractAttributeNames.length>0){for(let e=0;e<this.extractAttributeNames.length;e++)if(new RegExp(this.extractAttributeNames[e]).test(t))return!0;return!1}return!0}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let t=this.currentIndex,e=[],i=[],r=!1,a=!1,h=null,c=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),H.ctypeSpace(this.cur)&&(r=!0),!Ke(this.cur)&&this.next==nt.Punctuation_LessThan){let f=1;this.cur==nt.Punctuation_ForwardSlash&&(f=2);let x=this.fetchAt(this.currentChunkOffset+f,5);if(x.toLowerCase()=="<?php"||x.startsWith("<?=")){this.skipToEndOfPhp(),c=!0;continue}}if(this.currentIndex>0&&this.cur==nt.Punctuation_LessThan||this.next==null&&this.cur!=nt.Punctuation_GreaterThan)break;if(!r&&this.cur==nt.Punctuation_LessThan&&this.next==nt.Punctuation_ForwardSlash&&(a=!0),!r&&this.cur!=nt.Punctuation_LessThan&&this.cur!=nt.Punctuation_ForwardSlash&&this.cur!=nt.Punctuation_GreaterThan&&i.push(this.cur),r&&this.cur=="@"){let f=this.currentIndex+this.seedOffset+1;if(this.nodeIndexSkipMap.has(f)){let x=this.nodeIndexSkipMap.get(f);this.advance(x);continue}}if(r&&this.cur=="{"){let f=this.currentIndex+this.seedOffset;if(this.nodeIndexSkipMap.has(f)){let x=this.nodeIndexSkipMap.get(f),d=this.fetchAt(f,x+3);if(d.endsWith('"')||d.endsWith("'")){let k=this.scanBackToName(this.currentIndex-1);this.shouldExtract(k)&&(h=k+d.substring(0,d.length-2))}this.advance(x);continue}}if(Ke(this.cur)){let f=this.currentIndex;this.skipToEndOfStringWithIndex();let x=new Yo;if(x.startPosition=this.positionFromOffset(f+this.seedOffset,f+this.seedOffset),x.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.push(x),this.extractAttributePositions==!0){let d=this.scanBackToName(f-2);if(h!=null&&(d=h),this.shouldExtract(d)){let k=this.getContentSubstring(x.startPosition.offset,x.endPosition.offset-x.startPosition.offset+1),_=fe.fromText(k),l=!0;this.nodeIndexSkipMap.has(x.startPosition.offset+2)&&this.nodeIndexSkipMap.get(x.startPosition.offset+2)+x.startPosition.offset+3==x.endPosition.offset&&(l=!1),k.trim()=="{}"&&(l=!1),this.shouldSkip(d)&&(l=!1),l&&!_.getParser().getHasPairedStructures()&&_.getParser().getFragmentsContainingStructures().length==0&&this.extractedAttributes.push({content:k,name:d,startedOn:x.startPosition.offset,endedOn:x.endPosition.offset+1})}}h=null;continue}if(this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_GreaterThan){let f=new Fr;f.startPosition=this.positionFromOffset(t+this.seedOffset,t+this.seedOffset),f.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),f.parameters=e,f.isSelfClosing=!0,f.name=i.join(""),f.isClosingFragment=a,this.fragments.push(f),a?this.fragmentOpeningIndex.set(f.startPosition.index+1,1):this.fragmentOpeningIndex.set(f.startPosition.index,1);break}if(this.cur==nt.Punctuation_GreaterThan){let f=new Fr;f.startPosition=this.positionFromOffset(t+this.seedOffset,t+this.seedOffset),f.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),f.parameters=e,f.name=i.join(""),f.isClosingFragment=a,this.fragments.push(f),a?this.fragmentOpeningIndex.set(f.startPosition.index+1,1):this.fragmentOpeningIndex.set(f.startPosition.index,1),f.name.toLowerCase()=="script"&&f.isClosingFragment==!1&&(this.isScript=!0);break}}this.lastFragmentEnded=this.currentIndex+this.seedOffset}skipToEndOfStringWithIndex(){let t=this.cur;for(this.incrementIndex(),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex++){this.checkCurrentOffsets();let e=this.currentIndex+this.seedOffset;if(this.nodeIndexSkipMap.has(e)){let i=this.nodeIndexSkipMap.get(e);this.advance(i-1),this.next==null&&(this.parsingTracedStringHitEof=!0);continue}if(this.cur==t&&this.prev!=nt.String_EscapeCharacter)break}}}});var Wr,Lh=Dt(()=>{"use strict";Wr=["media","charset","import","namespace","supports","document","page","font-face","keyframes","viewport","counter-style","font-feature-values","swash","ornaments","annotation","stylistic","styleset","character-variant","font-variant-alternates","property","color-profile"]});var ha,Fh=Dt(()=>{"use strict";ha=["click","submit","scroll","keydown","keypress","keyup","blur","change","contextmenu","copy","cut","paste","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","focus","focusin","focusout","input","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","mousewheel","resize","select","touchcancel","touchend","touchmove","touchstart","wheel"]});function ua(){return rS}var rS,Rh=Dt(()=>{"use strict";Lh();Fh();rS={ignoreDirectives:[...Wr,...ha],directives:[],customIfs:[]}});var la,ip=Dt(()=>{"use strict";Ae();He();la=class{static transform(t,e){let i=e;return t.forEach(r=>{r instanceof we?i=i.replace(r.sourceContent,this.transformContent(r.sourceContent)):r instanceof _t&&r.hasDirectiveParameters?i=i.replace(r.sourceContent,this.transformContent(r.sourceContent)):r instanceof hi&&(i=i.replace(r.sourceContent,H.replaceWithFillerExceptNewlines(r.sourceContent)))}),i}static transformContent(t){return t.replace(/>/g,"B").replace(/</g,"B")}}});var St,nt,mn=Dt(()=>{"use strict";wo();Bf();zf();Jf();Yf();Xf();Kf();Hr();on();Qf();Dh();Nh();hr();Ae();Ph();He();Hs();Zf();aa();Rh();Nn();Oh();wh();Ts();Cs();In();ip();St=class{constructor(){this.nodes=[];this.renderNodes=[];this.chars=[];this.currentIndex=0;this.currentContent=[];this.cur=null;this.next=null;this.prev=null;this.charLen=0;this.inputLen=0;this.maxLine=1;this.chunkSize=5;this.currentChunkOffset=0;this.parsingOffset=0;this.isVerbatim=!1;this.isPhpNode=!1;this.bladeStartIndex=[];this.bladeStartPositionIndex=new Map;this.lastBladeEndIndex=-1;this.lastNode=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.content="";this.originalContent="";this.seedOffset=0;this.seedStartLine=1;this.shiftLine=0;this.isParsingComponent=!1;this.shouldIgnoreStructures=!1;this.pushedErrors=new Map;this.errors=[];this.structureErrors=[];this.doesHaveUnclosedIfStructures=!1;this.doesHaveUnclosedSwitchStructures=!1;this.doesHaveUnclosedComments=!1;this.doesHaveUnclosedRegions=!1;this.phpValidator=null;this.didRecoveryLogic=!1;this.parseFragments=!0;this.hasPairedStructures=!1;this.hasComponents=!1;this.hasPhpContent=!1;this.unclosedRegionErrors=[Kt.TYPE_UNEXPECTED_END_OF_INPUT,Kt.TYPE_UNCLOSED_PHP_DIRECTIVE,Kt.TYPE_UNPAIRED_PHP_CLOSING_DIRECTIVE,Kt.TYPE_UNCLOSED_VERBATIM,Kt.TYPE_UNPAIRED_VERBATIM_CLOSING_DIRECTIVE,Kt.TYPE_UNCLOSED_FOR_DIRECTIVE,Kt.TYPE_UNPAIRED_FOR_CLOSING_DIRECTIVE,Kt.TYPE_UNCLOSED_FOR_ELSE_DIRECTIVE,Kt.TYPE_UNPAIRED_FOR_ELSE_CLOSING_DIRECTIVE];this.componentParser=new oa(this),this.fragmentsParser=new bs,this.fragmentsAnalyzer=new na(this,this.fragmentsParser),this.parserOptions=ua()}advance(t){for(let e=0;e<t;e++)this.currentIndex++,this.checkCurrentOffsets()}encounteredFailure(){this.didRecoveryLogic=!0}withPhpValidator(t){return this.phpValidator=t,this}getPhpValidator(){return this.phpValidator}withParserOptions(t){return this.parserOptions=t,this}getParserOptions(){return this.parserOptions}hasUnclosedIfStructures(){return this.doesHaveUnclosedIfStructures}hasUnclosedSwitchStructures(){return this.doesHaveUnclosedSwitchStructures}hasUnclosedComments(){return this.doesHaveUnclosedComments}hasUnclosedRegions(){return this.doesHaveUnclosedRegions}hasUnclosedStructures(){return this.doesHaveUnclosedComments||this.doesHaveUnclosedIfStructures||this.doesHaveUnclosedSwitchStructures||this.doesHaveUnclosedRegions}getErrors(){return this.errors}getStructureErrors(){return this.structureErrors}updateIndex(t){this.currentIndex=t}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}getChar(t){return this.chars[t]}pushChar(t){this.currentContent.push(t)}getSeedOffset(){return this.seedOffset}getContentSubstring(t,e){return this.content.substr(t,e)}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(t){return t==null?this.shiftLine=0:this.shiftLine=t.line,this}resetState(){this.nodes=[],this.renderNodes=[],this.charLen=0,this.bladeStartIndex=[],this.lastBladeEndIndex=-1}getHasPhpContent(){return this.hasPhpContent}getDidRecovery(){return this.didRecoveryLogic}isStartingPhp(){return this.cur==St.Punctuation_LessThan&&this.next==St.Punctuation_QuestionMark?this.fetchAt(this.currentChunkOffset,5).toLowerCase()=="<?php":!1}isStartingShorthandPhp(){return this.cur==St.Punctuation_LessThan&&this.next==St.Punctuation_QuestionMark?this.fetchAt(this.currentChunkOffset,3).toLowerCase()=="<?=":!1}isStartingDirective(){return this.next!=null&&!H.ctypeAlpha(this.next)?!1:this.cur==St.AtChar&&this.next!=null&&this.prev!=St.AtChar}isClosingComponent(){return this.cur==St.Punctuation_GreaterThan&&this.prev!=St.Punctuation_Minus&&this.prev!=St.Punctuation_Equals}isStartingClosingComponentTag(){return this.cur==St.Punctuation_LessThan&&this.next==St.Punctuation_ForwardSlash&&this.peekRelative(2)=="x"&&(this.peekRelative(3)==St.Punctuation_Minus||this.peekRelative(3)==St.Punctuation_Colon)}isStartingOpeningComponentTag(){return this.cur==St.Punctuation_LessThan&&this.next=="x"&&(this.peekRelative(2)==St.Punctuation_Minus||this.peekRelative(2)==St.Punctuation_Colon)}isStartingEscapedEcho(){return(this.prev==null||this.prev!=null&&this.prev!=St.AtChar)&&this.next==St.Punctuation_Exclamation&&this.cur==St.LeftBrace&&this.peek(2)==St.Punctuation_Exclamation}isStartingBladeNodeStructure(){return(this.prev==null||this.prev!=null&&this.prev!=St.AtChar)&&this.next==St.LeftBrace&&this.cur==St.LeftBrace&&this.next==St.LeftBrace}hasEncounteredAnotherStructure(){return this.shouldIgnoreStructures?!1:this.isStartingOpeningComponentTag()?!0:this.isParsingComponent?!1:!!(this.isStartingClosingComponentTag()||this.isStartingDirective()||this.isStartingEscapedEcho()||this.isStartingBladeNodeStructure())}endsWithTld(t){return/\.[a-z]{2,63}$/i.test(t)}processInputText(t){var p;this.originalContent=t,this.content=H.normalizeLineEndings(t),this.inputLen=this.content.length;let e=[...this.content.matchAll(/(\n)/gm)],i=e.length,r=this.seedStartLine,a=null,h=0,c=0;for(let m=0;m<i;m++){let v=e[m],C=(p=v.index)!=null?p:0,P=C;a!=null?P=C-a:P=P+1,this.documentOffsets.set(C,{char:P,line:r});let F=0,L=0;m==0?(L=P-1,F=0):(F=c+1,L=C),this.lineIndex.set(r,{char:P,line:r,startIndex:F,endIndex:L}),this.lastDocumentOffsetKey=C,this.maxLine=r,r+=1,a=C,c=L,h=F}this.maxLine+=1;let f=[...this.content.matchAll(/({{|<\?php|<\?=|@?{!!|@|<x-|<\/x-|<x:|<\/x:)/gm)],x=0,d=!1,k=!1,_,l=!1;return f.forEach(m=>{var rt,yt,Rt,Nt,Ct,Et;k?_!=null&&((rt=m.index)!=null?rt:0)-((yt=_.index)!=null?yt:0)>1&&(d=!1,k=!1,x=(Rt=m.index)!=null?Rt:0):l&&m.index&&(x=(Nt=m.index)!=null?Nt:0,l=!1);let v=m[0],C=this.content.indexOf(v,x),P=this.content.substr(C,10);if(P.startsWith("@@")||P.startsWith("@{{")){x=this.content.indexOf(v,x),d=!0,P.startsWith("@@")?k=!0:k=!1,_=m;return}let F=this.content.indexOf(v,x);if(d){if(_!=null)if(((Ct=m.index)!=null?Ct:0)-((Et=_.index)!=null?Et:0)<=1){x=F,_=m;return}else d=!1;if(x==F||F-x<=1){x=F,_=m;return}else d=!1}let L=3,j=!1,B=!1,J=[],et=[];this.parserOptions.ignoreDirectives.length>0&&(this.parserOptions.ignoreDirectives.forEach(vt=>{J.push(vt.toLowerCase()),vt.length>L&&(L=vt.length)}),L+=5,j=!0),this.parserOptions.directives.length>0&&(L=3,this.parserOptions.directives.forEach(vt=>{et.push(vt.toLowerCase()),vt.length>L&&(L=vt.length)}),L+=5,j=!1,B=!0);let Q=this.fetchAt(F,L);if(Q.includes(".")){let vt=Q;Q.includes(`
`)&&(vt=H.breakByNewLine(vt)[0]);let dt=Pn.fromText(vt);if(dt.includes(".")&&this.endsWithTld(dt)){_=m,l=!0;return}}if(Q.startsWith("@{")==!1){let vt=Q.substring(0,1),dt=Q.substring(1,2);if(vt=="@"&&H.ctypeAlpha(dt))if(B){let ct=this.breakPreFetch(Q).toLowerCase();et.includes(ct)&&this.bladeStartIndex.push(F)}else if(j){let ct=this.breakPreFetch(Q).toLowerCase();J.includes(ct)||this.bladeStartIndex.push(F)}else this.bladeStartIndex.push(F);else vt!="@"&&this.bladeStartIndex.push(F)}this.bladeStartPositionIndex.set(F,1),x=F+2,d=!1,_=m}),this.fragmentsParser.setDocumentOffsets(this.documentOffsets,this.lastDocumentOffsetKey),!0}breakPreFetch(t){let r=H.replaceAllInString(H.normalizeLineEndings(t),`
`," ").split(" ")[0].split("(")[0].trim();return r.startsWith("@")&&(r=r.substring(1)),r.toLowerCase()}fetchAt(t,e){return this.content.substr(t,e)}shouldSkipForward(){return this.lastNode==null?!0:!(this.lastNode instanceof _t&&(this.lastNode.directiveName==Ft.Verbatim||this.lastNode.directiveName==Ft.Php))}setParseFragments(t){this.parseFragments=t}pushError(t){let e=t.hash();this.pushedErrors.has(e)||(t.errorCode==Kt.TYPE_PARSE_UNCLOSED_CONDITION?(this.doesHaveUnclosedIfStructures=!0,this.structureErrors.push(t)):t.errorCode==Kt.TYPE_PARSE_UNCLOSED_SWITCH?(this.doesHaveUnclosedSwitchStructures=!0,this.structureErrors.push(t)):t.errorCode==Kt.TYPE_UNCLOSED_COMMENT?(this.doesHaveUnclosedComments=!0,this.structureErrors.push(t)):this.unclosedRegionErrors.includes(t.errorCode)&&(this.doesHaveUnclosedRegions=!0,this.structureErrors.push(t)),this.pushedErrors.set(e,t),this.errors.push(t))}getContent(){return this.content}getOriginalContent(){return this.originalContent}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}charLeftAt(t){return t==null||t.char<=1?null:this.charAt(this.positionFromCursor(t.line,t.char-1))}charLeftAtCursor(t,e){return this.charLeftAt(this.positionFromCursor(t,e))}charRightAt(t){return t==null?null:this.charAt(this.positionFromCursor(t.line,t.char+1))}charRightAtCursor(t,e){return this.charRightAt(this.positionFromCursor(t,e))}punctuationLeftAt(t,e=4){if(t==null)return null;let i=this.getLineText(t.line);return i==null?null:Fn.findLeftNeighboringNextPunctuation(t.char,i,e)}punctuationLeftAtCursor(t,e,i=4){return this.punctuationLeftAt(this.positionFromCursor(t,e),i)}punctuationRightAt(t,e=4){if(t==null)return null;let i=this.getLineText(t.line);return i==null?null:Fn.findRightBeighboringNextPunctuation(t.char,i,e)}punctuationRightAtCursor(t,e,i=4){return this.punctuationRightAt(this.positionFromCursor(t,e),i)}wordRightAt(t,e=4){if(t==null)return null;let i=this.getLineText(t.line);if(i==null)return null;let r=Fn.findRightNeighboringNextAlphaNumeric(t.char,i,e);return r==null?null:Fn.scanWordAt(r,i,e)}wordRightAtCursor(t,e,i=4){return this.wordRightAt(this.positionFromCursor(t,e),i)}wordLeftAt(t,e=4){if(t==null)return null;let i=this.getLineText(t.line);if(i==null)return null;let r=Fn.findLeftNeighboringNextAlphaNumeric(t.char,i,e);return r==null?null:Fn.scanWordAt(r,i,e)}wordLeftAtCursor(t,e,i=4){return this.wordLeftAt(this.positionFromCursor(t,e),i)}wordAt(t,e=4){if(t==null)return null;let i=this.getLineText(t.line);return i==null?null:Fn.scanWordAt(t.char,i,e)}getLineText(t){let e=this.getLineIndex(t);return e!=null?H.trimRight(this.getContent().substring(e.start,e.end+1)):null}wordAtCursor(t,e,i=4){return this.wordAt(this.positionFromCursor(t,e),i)}charAt(t){return t==null?null:this.content.substr(t.offset,1)}getLinesAround(t){var a;let e=new Map,i=t-3,r=t+3;i<1&&(i=1),r>this.maxLine&&(r=this.maxLine);for(let h=i;h<=r;h++)e.set(h,(a=this.getLineText(h))!=null?a:"");return e}charAtCursor(t,e){return this.charAt(this.positionFromCursor(t,e))}getLineIndex(t){if(t==this.maxLine){let i=this.lineIndex.get(t-1);if(i!=null){let r=i.endIndex+1;return{end:this.inputLen-1,start:r}}return null}let e=this.lineIndex.get(t);return e!=null?{start:e.startIndex,end:e.endIndex}:null}getHasPairedStructures(){return this.hasPairedStructures}getHasComponents(){return this.hasComponents}positionFromCursor(t,e){if(t==this.maxLine){let r=this.lineIndex.get(t-1);if(r!=null){let a=r.endIndex+1,h=a+(e-1),c=new Rn;return c.offset=h,c.line=t,c.char=e,c.index=h,c}return null}let i=this.lineIndex.get(t);if(i!=null){let r=new Rn;return r.offset=i.startIndex+(e-1),r.line=i.line,r.char=e,r.index=i.startIndex+(e-1),r}return null}parse(t){if(ri.customIfs.clear(),this.parserOptions.customIfs.forEach(c=>{ri.customIfs.set(c,1)}),!this.processInputText(t))return[];let e=this.bladeStartIndex.length,i=e-1;if(e==0&&!this.isVerbatim){let c=new Jt;c.withParser(this),c.content=this.prepareLiteralContent(this.content),c.startPosition=this.positionFromOffset(0,0),c.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(c)}else for(let c=0;c<e;c+=1){let f=this.bladeStartIndex[c];if(this.seedOffset=f,c==0&&f>0&&!this.isVerbatim){let d=new Jt;d.withParser(this),d.content=this.prepareLiteralContent(this.content.substr(0,f)),d.content.length>0&&(d.startPosition=this.positionFromOffset(0,0),d.endPosition=this.positionFromOffset(f,f-1),this.nodes.push(d))}if(f<this.lastBladeEndIndex)continue;if(this.currentChunkOffset=f,this.parsingOffset=f,this.resetIntermediateState(),this.parseIntermediateText(f),this.isVerbatim){let d=!1;for(let k=c+1;k<this.bladeStartIndex.length;k++){let _=this.bladeStartIndex[k];if(this.fetchAt(_,12)=="@endverbatim"){c=k-1,this.isVerbatim=!1,d=!0;break}}if(d)continue}if(this.isPhpNode){let d=!1;for(let k=c+1;k<this.bladeStartIndex.length;k++){let _=this.bladeStartIndex[k];if(this.fetchAt(_,7)=="@endphp"){c=k-1,this.isPhpNode=!1,d=!0;break}}if(d)continue}if(this.lastNode instanceof Hi||this.lastNode instanceof hi){let d=-1;for(let k=c;k<this.bladeStartIndex.length;k++){let _=this.bladeStartIndex[k];if(_>this.lastBladeEndIndex){d=_;break}}if(d!=-1){let k=1;this.lastNode instanceof hi&&(k=0);let _=this.lastBladeEndIndex+k,l=this.content.substr(this.lastBladeEndIndex+k,d-this.lastBladeEndIndex-k),p=d-1,m=new Jt;m.withParser(this),m.startPosition=this.positionFromOffset(_,_),m.endPosition=this.positionFromOffset(p,p),m.content=l,this.nodes.push(m),this.lastNode=m,this.lastBladeEndIndex=p;continue}}this.lastNode instanceof si&&(f-=2);let x=!1;if(this.bladeStartPositionIndex.has(this.currentChunkOffset)?this.lastBladeEndIndex<this.currentChunkOffset&&(x=!0):x=!0,x){if(c+1<e){let d=this.bladeStartIndex[c+1],k=1;this.lastNode instanceof hi&&(k=0);let _=this.lastBladeEndIndex+k;if(d<_)if(this.lastBladeEndIndex>d)c+2<e&&(d=this.bladeStartIndex[c+2]);else continue;if(this.shouldSkipForward())for(let l=c;l<this.bladeStartIndex.length;l++){let p=this.bladeStartIndex[l];if(p>this.lastBladeEndIndex){d=p;break}}if(c+1==i&&d<=this.lastBladeEndIndex){if(this.isVerbatim)break;let l=this.currentChunkOffset,p=this.content.substr(_),m=new Jt;m.withParser(this),m.content=this.prepareLiteralContent(p),m.content.length>0&&(m.startPosition=this.positionFromOffset(l,l),m.endPosition=this.positionFromOffset(d,d-1),this.nodes.push(m));break}else{let l=d-this.lastBladeEndIndex-1;if(l<0&&this.lastNode instanceof si){let v=!0;for(let C=c;C<this.bladeStartIndex.length;C++){let P=this.bladeStartIndex[C];if(P>this.lastBladeEndIndex){d=P,v=!1;break}}if(v){let C=this.currentIndex+f;if(C<this.inputLen&&!this.isVerbatim){let P=new Jt;P.withParser(this),P.content=this.prepareLiteralContent(this.content.substr(C)),P.content.length>0&&(P.startPosition=this.positionFromOffset(C,C),P.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(P));break}}}if(l==0||this.isVerbatim)continue;let p=this.content.substr(_,l),m=new Jt;m.withParser(this),m.content=this.prepareLiteralContent(p),m.content.length>0&&(m.startPosition=this.positionFromOffset(_,_),m.endPosition=this.positionFromOffset(d,d-1),this.nodes.push(m))}continue}if(c!==i&&this.lastNode!=null&&this.lastNode.endPosition!=null&&this.positionFromOffset(f,f).isBefore(this.lastNode.endPosition)){if(c+1<e){if(this.bladeStartIndex[c+1]<this.lastNode.endPosition.offset)continue}else if(c+1!=i)continue}if(c==i){let d=this.currentIndex+f;if(d<this.inputLen&&!this.isVerbatim){let k=new Jt;k.withParser(this),k.content=this.prepareLiteralContent(this.content.substr(d)),k.content.length>0&&(k.startPosition=this.positionFromOffset(d,d),k.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(k));break}}}}let r=0;this.nodes.forEach(c=>{c.index=r,r+=1});let a=null;for(let c=0;c<this.nodes.length;c++){let f=this.nodes[c],x=null;c+1<this.nodes.length&&(x=this.nodes[c+1]),f.prevNode=a,f.nextNode=x,a=f}ri.determineCandidates(this.nodes),this.nodes=$o.rewrite(this.nodes);let h=new Vr;return this.renderNodes=h.associate(this.nodes,this),this.hasPairedStructures=h.getPairsCreated()>0,sa.analyze(this.nodes),ra.analyze(this.nodes),this.nodes.forEach(c=>{if(c instanceof _t){let f=c,x=f.directiveName.toLowerCase();if(f.isClosedBy!=null){let d=f.getImmediateChildren();for(let k=0;k<d.length;k++){let _=d[k];if(_ instanceof _t&&_!=f.isClosedBy&&_.isClosedBy!=null){f.containsChildStructures=!0;break}else if(_ instanceof Ci||_ instanceof Vi||_ instanceof Wi){f.containsChildStructures=!0;break}}}x=="switch"&&f.isClosedBy==null||x=="endswitch"&&f.isOpenedBy==null?f.pushError(qe.makeSyntaxError(Kt.TYPE_PARSE_UNCLOSED_SWITCH,f,"Unclosed switch control structure",0)):x=="php"?f.hasDirectiveParameters==!1&&f.isClosedBy==null&&f.pushError(qe.makeSyntaxError(Kt.TYPE_UNCLOSED_PHP_DIRECTIVE,f,"Unclosed @php directive",0)):x=="endphp"&&f.isOpenedBy==null?f.pushError(qe.makeSyntaxError(Kt.TYPE_UNPAIRED_PHP_CLOSING_DIRECTIVE,f,"Unpaired @endphp directive",0)):x=="verbatim"&&f.isClosedBy==null?f.pushError(qe.makeSyntaxError(Kt.TYPE_UNCLOSED_VERBATIM,f,"Unclosed @verbatim directive",0)):x=="endverbatim"&&f.isOpenedBy==null?f.pushError(qe.makeSyntaxError(Kt.TYPE_UNPAIRED_VERBATIM_CLOSING_DIRECTIVE,f,"Unpaired @endverbatim directive",0)):x=="for"&&f.isClosedBy==null?f.pushError(qe.makeSyntaxError(Kt.TYPE_UNCLOSED_FOR_DIRECTIVE,f,"Unclosed @for directive",0)):x=="for"&&f.isClosingDirective==!0&&f.isOpenedBy==null?f.pushError(qe.makeSyntaxError(Kt.TYPE_UNPAIRED_FOR_CLOSING_DIRECTIVE,f,"Unpaired @endfor directive",0)):x=="forelse"?(f.isClosedBy==null&&f.pushError(qe.makeSyntaxError(Kt.TYPE_UNCLOSED_FOR_ELSE_DIRECTIVE,f,"Unclosed @forelse directive",0)),f.findFirstDirectChildDirectiveOfType("empty")==null&&f.pushError(qe.makeSyntaxError(Kt.TYPE_FOR_ELSE_MISSING_EMPTY_DIRECTIVE,f,"@forelse missing @empty directive",1))):x=="endforelse"&&f.isOpenedBy==null&&f.pushError(qe.makeSyntaxError(Kt.TYPE_UNPAIRED_FOR_ELSE_CLOSING_DIRECTIVE,f,"Unpaired @endforelse directive",0))}}),this.createChildDocuments(this.renderNodes),this.parseFragments&&this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(la.transform(this.nodes,this.content)),this.fragmentsAnalyzer.analyze(),this.renderNodes.forEach(c=>{var f,x,d,k,_,l,p,m,v,C,P,F;c instanceof Ci?(c.fragment=(x=(f=c.constructedFrom)==null?void 0:f.fragment)!=null?x:null,c.fragmentPosition=(k=(d=c.constructedFrom)==null?void 0:d.fragmentPosition)!=null?k:3):c instanceof Wi?(c.fragment=(l=(_=c.constructedFrom)==null?void 0:_.fragment)!=null?l:null,c.fragmentPosition=(m=(p=c.constructedFrom)==null?void 0:p.fragmentPosition)!=null?m:3):c instanceof Vi&&(c.fragment=(C=(v=c.constructedFrom)==null?void 0:v.fragment)!=null?C:null,c.fragmentPosition=(F=(P=c.constructedFrom)==null?void 0:P.fragmentPosition)!=null?F:3)}),ia.setChildTypeCounts(this.nodes),this.renderNodes}getNodeIndexRanges(){let t=[];return this.nodes.forEach(e=>{var i,r,a,h;e instanceof Jt||t.push({start:(r=(i=e.startPosition)==null?void 0:i.index)!=null?r:0,end:(h=(a=e.endPosition)==null?void 0:a.index)!=null?h:0})}),t}createChildDocuments(t){t.forEach(e=>{var i,r,a,h,c,f,x,d;if(e instanceof _t&&e.isClosedBy!=null){let k=e.isClosedBy,_=((r=(i=e.startPosition)==null?void 0:i.index)!=null?r:0)-1,l=((h=(a=k.endPosition)==null?void 0:a.index)!=null?h:0)-_;e.nodeContent=this.content.substr(_,l);let p=(f=(c=e.endPosition)==null?void 0:c.index)!=null?f:0,m=((d=(x=k.startPosition)==null?void 0:x.index)!=null?d:0)-1-p,v=this.content.substr(p,m);e.childrenDocument=fe.childFromText(v,this,Ki(e.getChildren()))}})}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}let t=Math.ceil(this.currentIndex/5);t>0&&(this.currentChunkOffset=this.parsingOffset+this.chunkSize*t),this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}parseIntermediateText(t){this.currentContent=[],this.chars=this.content.substring(t).split(""),this.charLen=this.chars.length;let e=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.isStartingShorthandPhp()){this.scanToEndOfPhp(this.currentIndex,!0),this.currentIndex+=2,this.lastBladeEndIndex=this.currentIndex+this.seedOffset,this.currentContent=[];break}if(this.isStartingPhp()){this.scanToEndOfPhp(this.currentIndex),this.currentIndex+=2,this.lastBladeEndIndex=this.currentIndex+this.seedOffset,this.currentContent=[];break}if(this.isStartingDirective()){this.currentIndex+=1,this.scanToEndOfDirective(),this.currentContent=[],this.currentIndex+=1,e=!0;break}if(this.isStartingClosingComponentTag()){let i=this.currentIndex;this.currentIndex+=4,this.currentContent=[],this.checkCurrentOffsets(),this.isParsingComponent=!0,this.scanToEndOfComponentTag(i,!0),this.isParsingComponent=!1,this.currentIndex+=3,this.currentContent=[],e=!0;break}if(this.isStartingOpeningComponentTag()){let i=this.currentIndex;this.currentIndex+=3,this.currentContent=[],this.checkCurrentOffsets(),this.isParsingComponent=!0,this.scanToEndOfComponentTag(i,!1),this.isParsingComponent=!1,this.currentContent=[],this.currentIndex+=3,e=!0;break}if(this.isStartingEscapedEcho()){let i=this.currentIndex;this.currentIndex+=3,this.currentContent=[],this.checkCurrentOffsets(),this.scanToEndOfEscapedEcho(i),this.currentContent=[],this.currentIndex+=3,e=!0;break}if(this.isStartingBladeNodeStructure()){let i=this.peek(2),r=this.peek(3);if(i==St.Punctuation_Minus&&r==St.Punctuation_Minus){let a=this.currentIndex;this.currentIndex+=4,this.currentContent=[],this.checkCurrentOffsets(),this.scanToEndOfComment(a),this.currentContent=[],this.currentIndex+=4,e=!0;break}else if(i==St.LeftBrace){let a=this.currentIndex;this.currentIndex+=3,this.scanToEndOfBladeEntitiesEcho(a+1),this.currentContent=[],this.currentIndex+=3,e=!0;break}else{let a=this.currentIndex;this.currentIndex+=2,this.scanToEndOfBladeEcho(a+1),this.currentContent=[],this.currentIndex+=2,e=!0;break}}}return e}peek(t){return this.chars[t]}peekRelative(t){return this.peek(this.currentIndex+t)}scanToEndOfPhp(t,e=!1){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Ke(this.cur)&&Fs(this),this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_ForwardSlash){this.shouldIgnoreStructures=!0,Ei(this,!0),this.shouldIgnoreStructures=!1;continue}if(this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_Asterisk){this.shouldIgnoreStructures=!0,yi(this,!0),this.shouldIgnoreStructures=!1;continue}if(this.cur==St.Punctuation_QuestionMark&&this.next==St.Punctuation_GreaterThan||this.next==null){let i=new hi;this.hasPhpContent=!0,e&&(i=new Ko),i.withParser(this),i.startPosition=this.positionFromOffset(t+this.seedOffset,t+this.seedOffset),i.endPosition=this.positionFromOffset(this.currentIndex+1+this.seedOffset,this.currentIndex+1+this.seedOffset);let r=i.startPosition.index,a=i.endPosition.index-i.startPosition.index+1;i.sourceContent=this.content.substr(r,a),this.nodes.push(i),this.lastNode=i;break}}}scanToEndOfComponentTag(t,e){let i=!1,r=!1,a=-1,h=-1,c=!1;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==St.NewLine&&!i&&(i=!0,a=this.currentIndex),H.ctypeSpace(this.cur)&&!r&&(r=!0,h=this.currentIndex),Ke(this.cur)){this.shouldIgnoreStructures=!0,Fs(this),this.shouldIgnoreStructures=!1;continue}let f=this.isClosingComponent();if((this.hasEncounteredAnotherStructure()||this.next==null&&!f)&&(c=!0,a!=-1?(this.currentIndex=a-2,this.currentContent=this.currentContent.slice(0,a-2),this.didRecoveryLogic=!0):h!=-1&&(this.currentIndex=h-2,this.currentContent=this.currentContent.slice(0,h-2),this.didRecoveryLogic=!0)),f||c){let x=new si;this.hasComponents=!0,x.withParser(this),x.startPosition=this.positionFromOffset(t+this.seedOffset,t+this.seedOffset),x.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let d=x.startPosition.index,k=x.endPosition.index-x.startPosition.index+1,_=d+k;x.sourceContent=this.content.substr(d,k),x.isClosingTag=e,x.isSelfClosing=this.prev==St.Punctuation_ForwardSlash,x.offset={start:d,end:_,length:k};let l=3;x.isSelfClosing&&(l+=1),x.innerContent=this.content.substr(x.startPosition.index+3,x.endPosition.index-x.startPosition.index-l),c&&x.pushError(qe.makeSyntaxError(Kt.TYPE_UNEXPECTED_END_OF_INPUT,x,"Unexpected end of input while parsing component tag",0)),this.componentParser.parse(x),this.currentContent=[],this.lastBladeEndIndex=this.currentIndex+this.seedOffset,this.lastNode=x,this.nodes.push(x);break}}}scanToEndOfEscapedEcho(t){let e=!1,i=!1,r=-1,a=-1,h=!1;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==St.NewLine&&!e&&(e=!0,r=this.currentIndex),H.ctypeSpace(this.cur)&&!i&&(i=!0,a=this.currentIndex),this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_ForwardSlash){this.shouldIgnoreStructures=!0,Ei(this,!0),this.shouldIgnoreStructures=!1;continue}if(this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_Asterisk){this.shouldIgnoreStructures=!0,yi(this,!0),this.shouldIgnoreStructures=!1;continue}if((this.hasEncounteredAnotherStructure()||this.next==null)&&(h=!0,r!=-1?(this.currentIndex=r-2,this.currentContent=this.currentContent.slice(0,r-2),this.didRecoveryLogic=!0):a!=-1&&(this.currentIndex=a-2,this.currentContent=this.currentContent.slice(0,a-2),this.didRecoveryLogic=!0)),this.cur==St.Punctuation_Exclamation&&this.next==St.Punctuation_Exclamation&&this.peekRelative(2)==St.RightBrace||h){let c=this.currentIndex+2,f=new wn;f.startPosition=this.positionFromOffset(t+this.seedOffset,t+this.seedOffset),f.endPosition=this.positionFromOffset(c+this.seedOffset,c+this.seedOffset),f.withParser(this);let x=f.startPosition.index,d=f.endPosition.index-f.startPosition.index+1,k=x+d;f.sourceContent=this.content.substr(x,d),f.offset={start:x,end:k,length:d},h&&f.pushError(qe.makeSyntaxError(Kt.TYPE_UNEXPECTED_END_OF_INPUT,f,"Unexpected end of input while parsing echo",0)),f.content=this.currentContent.join(""),this.currentContent=[],this.lastBladeEndIndex=this.currentIndex+2+this.seedOffset,this.lastNode=f,this.nodes.push(f);break}if(this.cur==null)break;this.currentContent.push(this.cur)}}scanToEndOfComment(t){var c,f,x,d,k,_,l,p,m;let e=!1,i=!1,r=-1,a=-1,h=!1;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==St.NewLine&&!e&&(e=!0,r=this.currentIndex),H.ctypeSpace(this.cur)&&!i&&(i=!0,a=this.currentIndex),this.next==null&&(h=!0,r!=-1?(this.currentIndex=r-2,this.currentContent=this.currentContent.slice(0,r-2),this.didRecoveryLogic=!0):a!=-1&&(this.currentIndex=a-2,this.currentContent=this.currentContent.slice(0,a-2),this.didRecoveryLogic=!0)),this.cur==St.Punctuation_Minus&&this.next==St.Punctuation_Minus||this.next==null){let v=this.peekRelative(2),C=this.peekRelative(3);if(v==St.RightBrace&&C==St.RightBrace||this.next==null){let P=this.currentIndex+3,F=new Hi;F.startPosition=this.positionFromOffset(t+this.seedOffset,t+this.seedOffset),F.endPosition=this.positionFromOffset(P+this.seedOffset,P+this.seedOffset),F.innerContentPosition={start:this.positionFromOffset(t+4+this.seedOffset,t+4+this.seedOffset),end:this.positionFromOffset(P-4+this.seedOffset,P-4+this.seedOffset)},F.withParser(this);let L=F.startPosition.index,j=F.endPosition.index-F.startPosition.index+1,B=L+j;F.sourceContent=this.content.substr(L,j),F.offset={start:L,end:B,length:j},h&&F.pushError(qe.makeSyntaxError(Kt.TYPE_UNCLOSED_COMMENT,F,"Unexpected end of input while parsing comment",0)),F.innerContent=this.content.substr((x=(f=(c=F.innerContentPosition)==null?void 0:c.start)==null?void 0:f.index)!=null?x:0,((_=(k=(d=F.innerContentPosition)==null?void 0:d.end)==null?void 0:k.index)!=null?_:0)-((m=(p=(l=F.innerContentPosition)==null?void 0:l.start)==null?void 0:p.index)!=null?m:0)+1),this.currentContent=[],this.lastBladeEndIndex=this.currentIndex+3+this.seedOffset,this.lastNode=F,this.nodes.push(F);break}else{this.cur!=null&&this.currentContent.push(this.cur);continue}}if(this.cur==null)break;this.currentContent.push(this.cur)}}scanToEndOfBladeEntitiesEcho(t){let e=!1,i=!1,r=-1,a=-1,h=!1;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==St.NewLine&&!e&&(e=!0,r=this.currentIndex),H.ctypeSpace(this.cur)&&!i&&(i=!0,a=this.currentIndex),Ke(this.cur)){let c=this.cur;this.shouldIgnoreStructures=!0;let f=Ui(this);this.shouldIgnoreStructures=!1,this.currentIndex=f.endedOn,this.currentContent.push(c),this.currentContent=this.currentContent.concat(f.value.split("")),this.currentContent.push(c),this.currentIndex=f.endedOn;continue}if(this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_ForwardSlash){this.shouldIgnoreStructures=!0,Ei(this,!0),this.shouldIgnoreStructures=!1;continue}if(this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_Asterisk){this.shouldIgnoreStructures=!0,yi(this,!0),this.shouldIgnoreStructures=!1;continue}if((this.hasEncounteredAnotherStructure()||this.next==null)&&(h=!0,r!=-1?(this.currentIndex=r-2,this.currentContent=this.currentContent.slice(0,r-2),this.didRecoveryLogic=!0):a!=-1&&(this.currentIndex=a-2,this.currentContent=this.currentContent.slice(0,a-2),this.didRecoveryLogic=!0)),this.cur==St.RightBrace&&this.next==St.RightBrace&&this.peekRelative(2)==St.RightBrace||h){let c=this.currentIndex+1,f=new Ln;f.startPosition=this.positionFromOffset(t+this.seedOffset,t+this.seedOffset),f.endPosition=this.positionFromOffset(c+this.seedOffset,c+this.seedOffset),f.withParser(this);let x=f.startPosition.index-1,d=f.endPosition.index-f.startPosition.index+3,k=x+d;f.sourceContent=this.content.substr(x,d),f.offset={start:x,end:k,length:d},h&&f.pushError(qe.makeSyntaxError(Kt.TYPE_UNEXPECTED_END_OF_INPUT,f,"Unexpected end of input while parsing echo",0)),f.content=this.currentContent.join(""),this.currentContent=[],this.lastBladeEndIndex=this.currentIndex+2+this.seedOffset,this.lastNode=f,this.nodes.push(f);break}if(this.cur==null)break;this.currentContent.push(this.cur)}}scanToEndOfBladeEcho(t){let e=!1,i=!1,r=-1,a=-1,h=!1;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==St.NewLine&&!e&&(e=!0,r=this.currentIndex),H.ctypeSpace(this.cur)&&!i&&(i=!0,a=this.currentIndex),Ke(this.cur)){let c=this.cur;this.shouldIgnoreStructures=!0;let f=Ui(this);this.shouldIgnoreStructures=!1,this.currentIndex=f.endedOn,this.currentContent.push(c),this.currentContent=this.currentContent.concat(f.value.split("")),this.currentContent.push(c),this.currentIndex=f.endedOn;continue}if(this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_ForwardSlash){this.shouldIgnoreStructures=!0,Ei(this,!0),this.shouldIgnoreStructures=!1;continue}if(this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_Asterisk){this.shouldIgnoreStructures=!0,yi(this,!0),this.shouldIgnoreStructures=!1;continue}if((this.hasEncounteredAnotherStructure()||this.next==null)&&(h=!0,r!=-1?(this.currentIndex=r-2,this.currentContent=this.currentContent.slice(0,r-2),this.didRecoveryLogic=!0):a!=-1&&(this.currentIndex=a-2,this.currentContent=this.currentContent.slice(0,a-2),this.didRecoveryLogic=!0)),this.cur==St.RightBrace&&this.next==St.RightBrace||h){let c=this.currentIndex+1,f=new we;f.startPosition=this.positionFromOffset(t+this.seedOffset,t+this.seedOffset),f.endPosition=this.positionFromOffset(c+this.seedOffset,c+this.seedOffset),f.withParser(this);let x=f.startPosition.index-1,d=f.endPosition.index-f.startPosition.index+2,k=x+d;f.sourceContent=this.content.substr(x,d),f.offset={start:x,end:k,length:d},h&&f.pushError(qe.makeSyntaxError(Kt.TYPE_UNEXPECTED_END_OF_INPUT,f,"Unexpected end of input while parsing echo",0)),f.content=this.currentContent.join(""),this.currentContent=[],this.lastBladeEndIndex=this.currentIndex+1+this.seedOffset,this.lastNode=f,this.nodes.push(f);break}if(this.cur==null)break;this.currentContent.push(this.cur)}}makeDirective(t,e,i){let r=new _t;if(r.withParser(this),t==Ft.Verbatim)this.isVerbatim=!0;else if(t==Ft.Php)this.isPhpNode=!0;else if((t==Ft.EndVerbatim||t==Ft.EndPhp)&&this.nodes[this.nodes.length-1]instanceof Jt){let x=this.nodes.pop();if(this.nodes[this.nodes.length-1]instanceof _t){let d=this.nodes[this.nodes.length-1];(d.directiveName==Ft.Verbatim||d.directiveName==Ft.Php)&&(d.innerContent=x.content)}}r.directiveName=t.trim(),r.name=t.trim();let a=r.name.toLowerCase();a=="endcan"||a=="endcannot"||a=="endauth"||a=="endguest"||a=="endenv"||a=="endproduction"?(r.name="if",r.isClosingDirective=!0):t.startsWith("end")?r.name=t.substring(3):t.startsWith("else")&&t!="elseif"&&t!="else"&&(r.name="elseif");let h=this.positionFromOffset(this.seedOffset+e,this.seedOffset+e),c=this.positionFromOffset(this.seedOffset+i,this.seedOffset+i);if(r.startPosition=h,r.endPosition=c,r.namePosition={start:h,end:c},r.hasDirectiveParameters=!1,r.startPosition!=null&&r.endPosition!=null){let f=r.startPosition.index-1,x=r.endPosition.index-r.startPosition.index+1,d=f+x;r.sourceContent=this.content.substr(f,x),r.offset={start:f,end:d,length:x}}return r}makeDirectiveWithParameters(t,e,i,r){var x,d;let a=this.makeDirective(t.trim(),e,i);this.isPhpNode&&t==Ft.Php&&(this.isPhpNode=!1),a.hasDirectiveParameters=!0,a.directiveParameters=r.content;let h=r.content.trim();h.startsWith("(")&&h.endsWith(")")&&(h=h.substring(1),h=h.substring(0,h.length-1),h=h.trim(),a.hasJsonParameters=h.startsWith("{")&&h.endsWith("}"));let c=this.positionFromOffset(r.start,r.start),f=this.positionFromOffset(r.end,r.end);if(a.startPosition=(d=(x=a.namePosition)==null?void 0:x.start)!=null?d:null,a.endPosition=f,a.directiveParametersPosition={start:c,end:f},a.startPosition!=null&&a.endPosition!=null){let k=a.startPosition.index-1,_=a.endPosition.index-a.startPosition.index+1,l=k+_;a.sourceContent=this.content.substr(k,_),a.offset={start:k,end:l,length:_}}return a}scanToEndOfDirective(){let t=this.currentIndex,e="",i=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_Asterisk){this.shouldIgnoreStructures=!0,yi(this,!0),this.shouldIgnoreStructures=!1;continue}if(this.cur==St.Punctuation_ForwardSlash&&this.next==St.Punctuation_ForwardSlash){this.shouldIgnoreStructures=!0,Ei(this,!0),this.shouldIgnoreStructures=!1;continue}if(this.cur==St.NewLine){i=this.currentIndex,e=this.currentContent.join(""),this.currentContent=[];let a=this.makeDirective(e.trim(),t,i);this.lastNode=a,this.nodes.push(a),this.lastBladeEndIndex=this.currentIndex+this.seedOffset-1;break}else if(this.next==null){this.currentContent.push(this.cur),i=this.currentIndex+1,e=this.currentContent.join(""),this.currentContent=[];let a=this.makeDirective(e.trim(),t,i);this.lastNode=a,this.nodes.push(a),this.lastBladeEndIndex=this.currentIndex+this.seedOffset;break}let r=cr(this);if(this.cur!=St.LeftParen&&r.didFind&&H.ctypePunct(r.char)&&r.char!=St.LeftParen&&r.char!=St.Punctuation_Minus&&r.char!="."&&r.char!="_"){let a=0,h=!1;H.ctypeSpace(this.cur)?(a=1,h=!0):this.currentContent.push(this.cur),i=this.currentIndex+1,e=this.currentContent.join(""),this.currentContent=[];let c=this.makeDirective(e.trim(),t,i-a);this.lastNode=c,this.nodes.push(c),this.lastBladeEndIndex=this.currentIndex+this.seedOffset-a,h&&(this.currentIndex-=1);break}if(H.ctypeSpace(this.cur)){let a=cr(this);if(a.didFind&&a.char==St.LeftParen){i=this.currentIndex-1,e=this.currentContent.join(""),this.currentContent=[],this.currentIndex=a.index,this.checkCurrentOffsets();let h=fr(this),c;h.foundEnd?c=this.makeDirectiveWithParameters(e.trim(),t,i,h):(c=this.makeDirective(e.trim(),t,i),this.didRecoveryLogic=!0),this.lastNode=c,this.nodes.push(c),this.lastBladeEndIndex=this.currentIndex+this.seedOffset;break}else{i=this.currentIndex,e=this.currentContent.join(""),this.currentContent=[];let h=this.makeDirective(e.trim(),t,i);this.lastNode=h,this.nodes.push(h),this.lastBladeEndIndex=this.currentIndex+this.seedOffset;break}}else if(this.cur==St.LeftParen){i=this.currentIndex-1,e=this.currentContent.join(""),this.currentContent=[];let a=fr(this),h;a.foundEnd?h=this.makeDirectiveWithParameters(e.trim(),t,i,a):h=this.makeDirective(e.trim(),t,i+1),this.lastNode=h,this.nodes.push(h),this.lastBladeEndIndex=this.currentIndex+this.seedOffset;break}if(this.cur==null)break;this.currentContent.push(this.cur)}}getText(t,e){return this.content.substr(t,e-t)}getNodeText(t){let e="";return t.forEach(i=>{var r,a,h,c,f;if(i instanceof Jt)e+=i.content;else if(i instanceof Wi)e+=i.nodeContent;else if(i instanceof Vi)e+=i.nodeContent;else if(i instanceof Ci)e+=i.nodeContent;else if(i instanceof _t)if((i.name=="php"||i.name=="verbatim")&&i.isClosedBy!=null){if(i.documentContent.trim().length==0){let x=(f=i.getParser())==null?void 0:f.getText((a=(r=i.endPosition)==null?void 0:r.index)!=null?a:0,((c=(h=i.isClosedBy.startPosition)==null?void 0:h.index)!=null?c:0)-1);e+=i.sourceContent,e+=x}}else e+=i.sourceContent;else e+=i.sourceContent}),e}getNodes(){return this.nodes}getNodesBetween(t,e){let i=[];return this.nodes.forEach(r=>{var a,h,c,f;((h=(a=r.startPosition)==null?void 0:a.offset)!=null?h:0)>t.offset&&((f=(c=r.endPosition)==null?void 0:c.offset)!=null?f:0)<e.offset&&i.push(r)}),i}getRenderNodes(){return this.renderNodes}prepareLiteralContent(t){return t}positionFromOffset(t,e,i=!1){let r=0,a=0;if(this.documentOffsets.has(t)){let c=this.documentOffsets.get(t);r=c.line,a=c.char}else if(this.documentOffsets.size==0)r=1,a=t+1;else{let c=null,f=null,x=null,d=null;for(let k of this.documentOffsets.keys()){if(k>=t){d!=null&&t>d?(c=x,f=d):(c=this.documentOffsets.get(k),f=k);break}x=this.documentOffsets.get(k),d=k}c==null&&(c=x,f=d),c!=null?(a=t-(f!=null?f:0),r=c.line,t<=(f!=null?f:0)?(r=c.line,a=t+1):r=c.line+1):this.lastDocumentOffsetKey!=null&&(r=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,a=t+this.lastDocumentOffsetKey)}let h=new Rn;return h.index=e,h.offset=t,h.line=r+this.shiftLine,h.char=a,h}},nt=St;nt.K_CHAR="char",nt.K_LINE="line",nt.NewLine=`
`,nt.AtChar="@",nt.Punctuation_Colon=":",nt.Punctuation_QuestionMark="?",nt.LeftParen="(",nt.RightParen=")",nt.LeftBrace="{",nt.RightBrace="}",nt.String_Terminator_DoubleQuote='"',nt.String_Terminator_SingleQuote="'",nt.Punctuation_LessThan="<",nt.Punctuation_GreaterThan=">",nt.Punctuation_Equals="=",nt.Punctuation_Exclamation="!",nt.LeftBracket="[",nt.RightBracket="]",nt.Punctuation_Comma=",",nt.Punctuation_Minus="-",nt.Punctuation_Asterisk="*",nt.Punctuation_ForwardSlash="/",nt.Punctuation_Underscore="_",nt.String_EscapeCharacter="\\"});var ui,Bh=Dt(()=>{"use strict";Ae();ui=class{static findNodeAfterPosition(t,e){if(t==null)return null;for(let i=0;i<e.length;i++){let r=e[i];if(!ui.isLiteralType(r)&&r.startPosition!=null&&r.startPosition.index>t.index)return r}return null}static findNodeBeforePosition(t,e){if(t==null)return null;let i=null;for(let r=0;r<e.length;r++){let a=e[r];if(!ui.isLiteralType(a)&&a.startPosition!=null){if(a.startPosition.index>t.index)break;i=a}}return i}static findNodeAtPosition(t,e){if(t==null)return null;for(let i=0;i<e.length;i++){let r=e[i];if(!ui.isLiteralType(r)&&r.startPosition!=null&&r.endPosition!=null&&t.index>=r.startPosition.index&&t.index<=r.endPosition.index)return r}return null}static isLiteralType(t){return t instanceof Jt}static findNodesBeforePosition(t,e){let i=[];if(t==null)return i;for(let r=0;r<e.length;r++){let a=e[r];if(!ui.isLiteralType(a)&&a.startPosition!=null&&a.endPosition!=null){if(a.startPosition.index>t.index)break;i.push(a)}}return i}static findNodesAfterPosition(t,e){let i=[];if(t==null)return i;for(let r=0;r<e.length;r++){let a=e[r];ui.isLiteralType(a)||a.startPosition!=null&&a.startPosition.index>t.index&&i.push(a)}return i}}});var ca,np=Dt(()=>{"use strict";Bh();ca=class{constructor(t){this.doc=t}getNodeAt(t,e){return ui.findNodeAtPosition(this.position(t,e),this.doc.getParser().getNodes())}getNodeBefore(t,e){return ui.findNodeBeforePosition(this.position(t,e),this.doc.getParser().getNodes())}getNodeAfter(t,e){return ui.findNodeAfterPosition(this.position(t,e),this.doc.getParser().getNodes())}getNodesBefore(t,e){return ui.findNodesBeforePosition(this.position(t,e),this.doc.getParser().getNodes())}getNodesAfter(t,e){return ui.findNodesAfterPosition(this.position(t,e),this.doc.getParser().getNodes())}position(t,e){return this.doc.getParser().positionFromCursor(t,e)}charLeftAt(t,e){return this.doc.getParser().charLeftAtCursor(t,e)}charAt(t,e){return this.doc.getParser().charAtCursor(t,e)}charRightAt(t,e){return this.doc.getParser().charRightAtCursor(t,e)}wordLeftAt(t,e,i=4){return this.doc.getParser().wordLeftAtCursor(t,e,i)}wordRightAt(t,e,i=4){return this.doc.getParser().wordRightAtCursor(t,e,i)}wordAt(t,e,i=4){return this.doc.getParser().wordAtCursor(t,e,i)}punctuationLeftAt(t,e,i=4){return this.doc.getParser().punctuationLeftAtCursor(t,e,i)}punctuationRightAt(t,e,i=4){return this.doc.getParser().punctuationRightAtCursor(t,e,i)}}});var fa,sp=Dt(()=>{"use strict";fa=class{constructor(t){this.doc=t}hasStructureErrors(){return this.doc.getParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let t=[],e=[];return this.doc.getAllNodes().forEach(i=>{i.getErrors().forEach(r=>{t.includes(r.hash())==!1&&(t.push(r.hash()),e.push(r))})}),this.doc.getParser().getErrors().forEach(i=>{t.includes(i.hash())==!1&&(t.push(i.hash()),e.push(i))}),e}}});var pa,rp=Dt(()=>{"use strict";Ae();Bh();pa=class{constructor(t){this.doc=t}firstDirectiveOfType(t){let e=this.doc.getAllNodes();for(let i=0;i<e.length;i++){let r=e[i];if(r instanceof _t&&r.directiveName==t)return r}return null}getNodeAt(t){return ui.findNodeAtPosition(t,this.doc.getParser().getNodes())}getNodesBefore(t){return ui.findNodesBeforePosition(t,this.doc.getParser().getNodes())}getNodeBefore(t){return ui.findNodeBeforePosition(t,this.doc.getParser().getNodes())}getNodeAfter(t){return ui.findNodeAfterPosition(t,this.doc.getParser().getNodes())}getNodesAfter(t){return ui.findNodesAfterPosition(t,this.doc.getParser().getNodes())}filter(t){return this.doc.getParser().getNodes().filter(t)}getComments(){let t=[];return this.doc.getAllNodes().forEach(e=>{e instanceof Hi&&t.push(e)}),t}getAllLiteralNodes(){let t=[];return this.doc.getAllNodes().forEach(e=>{e instanceof Jt&&t.push(e)}),t}}});var pe,Gr=Dt(()=>{"use strict";He();pe=class{static relativeIndentLevel(t,e){let i=H.breakByNewLine(e);for(let r=0;r<i.length;r++){let a=i[r];if(a.includes(t)){let h=a.trimLeft();return a.length-h.length}}return 0}static indentLast(t,e,i){let r=" ".repeat(e),a=H.breakByNewLine(t),h=[];if(a.length==3)return h.push(a[0]),h.push(r+" ".repeat(i)+a[1].trim()),h.push(r+a[2]),h.join(`
`);for(let c=0;c<a.length;c++){let f=a[c];c==0?h.push(f):c==a.length-1?h.push(r+f):f.includes("=")||f.trim().includes(" ")==!1&&!f.trimLeft().startsWith("@")?h.push(r+" ".repeat(i)+f.trimLeft()):h.push(r+f)}return h.join(`
`)}static indentRelative(t,e,i){let r=H.breakByNewLine(t),a=[];for(let f=0;f<r.length;f++)if(r[f].trim().length>0){a=r.slice(f);break}for(let f=a.length-1;f>=0&&a[f].trim().length==0;f--)a.pop();let h=-1,c="";for(let f=0;f<a.length;f++){let x=a[f],d=x.trimLeft(),k=x.length-d.length;x.trim().length!=0&&(f==0||k<h)&&(h=k,c=x)}if(h==i&&(h=0),h>=0){let f=" ".repeat(e);for(let x=0;x<a.length;x++){let d=a[x];if(d.trim().length==0){a[x]="";continue}let k=d.substring(h);if(x==0){a[x]=d.trimLeft();continue}else a[x]=f+k}}return a.join(`
`)}static shiftIndentWithLastLineInline(t,e,i,r=!1){let a=H.breakByNewLine(t.trim()),h=[];if(a.length>1){let c=!0;for(let f=1;f<a.length;f++){let x=a[f],d=x.length-x.trim().length;if(i-d!=0){c=!1;break}}if(c)return t.trim()}for(let c=0;c<a.length;c++){if(c==0&&r){h.push(a[c]);continue}let f=a[c];f.trim().length==0?h.push(""):h.push(" ".repeat(Math.max(0,i-e))+f)}return h.join(`
`)}static shiftHtmlAttributeContent(t,e,i){let r=H.breakByNewLine(t.trim()),a=[];for(let h=0;h<r.length;h++){let c=r[h];if(h==0){if(e==i){a.push(" ".repeat(e)+c.trimLeft());continue}a.push(" ".repeat(e-2*i)+c.trimLeft());continue}if(h==r.length-1){a.push(" ".repeat(e)+c.trimLeft());continue}a.push(" ".repeat(e)+c)}return a.join(`
`)}static shiftParameterContent(t,e,i){let r=H.breakByNewLine(t.trim()),a=[];for(let h=0;h<r.length;h++){let c=r[h];if(h==0){a.push(c);continue}if(h==r.length-1&&c.trim()=='"'){a.push(" ".repeat(e)+c.trimLeft());continue}c.length-c.trimLeft().length==i?a.push(" ".repeat(e+i*2)+c.trimLeft()):a.push(" ".repeat(i+e)+c.trimLeft())}return a.join(`
`)}static removeLeadingWhitespace(t,e){let i=H.breakByNewLine(t.trim()),r=[],a=-1;for(let h=0;h<i.length;h++){let c=i[h];if(h==0||c.trim().length==0)continue;let f=c.length-c.trimLeft().length;if(a<0&&f>0){a=f;continue}f>0&&f<a&&(a=f)}if(a<=0||a==e)return t;for(let h=0;h<i.length;h++){let c=i[h];if(h==0){r.push(c);continue}let f=c.length-c.trimLeft().length;if(f==e){r.push(c);continue}f>=a?r.push(c.substring(a)):r.push(c)}return r.join(`
`)}static shiftIndent(t,e,i=!1,r,a=!1,h=!1){let c=H.breakByNewLine(t.trim()),f=[];if(c.length>1){let x=!0;for(let d=1;d<c.length;d++){let k=c[d],_=k.length-k.trim().length;if(e-_!=0){x=!1;break}}if(x){if(c[0].trimLeft().length==c[0].length&&e==r.tabSize&&a){let d=" ".repeat(r.tabSize);return c.forEach(k=>{f.push(d+k)}),f.join(`
`)}return t.trim()}}for(let x=0;x<c.length;x++){if(x==0&&i){f.push(c[x]);continue}let d=c[x];d.trim().length==0?f.push(""):h&&x==c.length-1?f.push(" ".repeat(e-r.tabSize)+d):f.push(" ".repeat(e)+d)}return f.join(`
`)}static shiftClean(t,e){let i=H.breakByNewLine(t),r=[],a=" ".repeat(e),h=!1;return i.forEach(c=>{c.trim().length>0&&(h=!0),h&&(c.trim().length==0?r.push(""):r.push(a+c))}),r.join(`
`)}static indentAll(t,e,i){let r=i*e,a=H.breakByNewLine(t)}static inferIndentLevel(t,e,i){let r=0,a=-1;for(let h=0;h<t.length;h++){let c=t[h];if(c.includes(e)){let f=c.trimLeft();r=c.length-f.length,a=h;break}}if(a>0)for(let h=a-1;h>=0;h--){let c=t[h],f=c.trim(),x=c.trimLeft(),d=c.length-f.length;if(x.length!=0&&d!=r&&d<r){let k=r-d;return{targetLevel:r,referenceLevel:d,sourceTabSize:k}}}return{targetLevel:r,referenceLevel:r,sourceTabSize:i}}static indent(t,e,i){let r=pe.inferIndentLevel(t,e,i);return" ".repeat(r.targetLevel)}}});var qr,Ve,zr=Dt(()=>{"use strict";Ae();mn();Nn();Ts();Cs();In();He();qr=class{constructor(){this.content="";this.chars=[];this.inputLen=0;this.prev=null;this.cur=null;this.next=null;this.currentIndex=0;this.currentContent=[];this.tokens=[]}advance(t){for(let e=0;e<t;e++)this.currentIndex++,this.checkCurrentOffsets()}encounteredFailure(){}updateIndex(t){this.currentIndex=t}inputLength(){return this.inputLen}getCurrentIndex(){return this.currentIndex}incrementIndex(){this.currentIndex+=1}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}pushChar(t){this.currentContent.push(t)}getChar(t){return this.chars[t]}getSeedOffset(){return 0}getContentSubstring(t,e){return this.content.substr(t,e)}getTokens(){return this.tokens}static couldReflow(t){return qr.breakOperators.some(e=>t.includes(e))}safeReflow(t){return qr.couldReflow(t)?this.reflow(t):t}parse(t){for(this.tokens=[],this.content=H.normalizeLineEndings(t),this.chars=this.content.split(""),this.inputLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),H.ctypeSpace(this.cur)){this.currentContent.push(this.cur);continue}if(Ke(this.cur)){let e=this.cur,i=Ui(this);this.pushChar(e),this.currentContent=this.currentContent.concat(i.value.split("")),this.pushChar(e),this.currentIndex=i.endedOn;continue}if(this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_ForwardSlash){Ei(this,!0);continue}if(this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_Asterisk){yi(this,!0);continue}if(this.cur!=null)if(this.cur==="!"&&this.next!=="="){if(this.currentContent.length>0){let i=new Jt;i.content=this.currentContent.join(""),this.currentContent=[],this.tokens.push(i)}let e=new Br;e.sourceContent=this.cur,this.tokens.push(e),this.currentContent=[];continue}else this.currentContent.push(this.cur)}if(this.currentContent.length>0){let e=new Jt;e.content=this.currentContent.join(""),this.currentContent=[],this.tokens.push(e)}}reflow(t){try{this.parse(t)}catch{return t}let e="",i=!1;return this.tokens.forEach(r=>{if(r instanceof Br){i=!0,e+=r.sourceContent+" ";return}r instanceof Jt&&(i?e+=r.content.trimLeft():e+=r.content),i=!1}),e}},Ve=qr;Ve.breakOperators=["!"],Ve.instance=new qr});var ap=Y((da,op)=>{(function(n,t){typeof da=="object"&&typeof op<"u"?t(da,require("prettier/standalone")):typeof define=="function"&&define.amd?define(["exports","prettier/standalone"],t):t(((n=typeof globalThis<"u"?globalThis:n||self).prettierPlugins=n.prettierPlugins||{},n.prettierPlugins.php={}),n.prettier)})(da,function(n,t){"use strict";function e(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var i=e(t);function r(s,o){var u=Object.keys(s);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(s);o&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(s,y).enumerable})),u.push.apply(u,g)}return u}function a(s){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?r(Object(u),!0).forEach(function(g){f(s,g,u[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):r(Object(u)).forEach(function(g){Object.defineProperty(s,g,Object.getOwnPropertyDescriptor(u,g))})}return s}function h(){h=function(){return s};var s={},o=Object.prototype,u=o.hasOwnProperty,g=typeof Symbol=="function"?Symbol:{},y=g.iterator||"@@iterator",S=g.asyncIterator||"@@asyncIterator",w=g.toStringTag||"@@toStringTag";function T(lt,ut,zt){return Object.defineProperty(lt,ut,{value:zt,enumerable:!0,configurable:!0,writable:!0}),lt[ut]}try{T({},"")}catch{T=function(ut,zt,Xt){return ut[zt]=Xt}}function U(lt,ut,zt,Xt){var Mt=ut&&ut.prototype instanceof Wt?ut:Wt,Ne=Object.create(Mt.prototype),Be=new Ge(Xt||[]);return Ne._invoke=function(ti,vi,he){var Ye="suspendedStart";return function(Bi,vs){if(Ye==="executing")throw new Error("Generator is already running");if(Ye==="completed"){if(Bi==="throw")throw vs;return xi()}for(he.method=Bi,he.arg=vs;;){var Es=he.delegate;if(Es){var pn=Ee(Es,he);if(pn){if(pn===O)continue;return pn}}if(he.method==="next")he.sent=he._sent=he.arg;else if(he.method==="throw"){if(Ye==="suspendedStart")throw Ye="completed",he.arg;he.dispatchException(he.arg)}else he.method==="return"&&he.abrupt("return",he.arg);Ye="executing";var sn=M(ti,vi,he);if(sn.type==="normal"){if(Ye=he.done?"completed":"suspendedYield",sn.arg===O)continue;return{value:sn.arg,done:he.done}}sn.type==="throw"&&(Ye="completed",he.method="throw",he.arg=sn.arg)}}}(lt,zt,Be),Ne}function M(lt,ut,zt){try{return{type:"normal",arg:lt.call(ut,zt)}}catch(Xt){return{type:"throw",arg:Xt}}}s.wrap=U;var O={};function Wt(){}function Vt(){}function ce(){}var xe={};T(xe,y,function(){return this});var Gt=Object.getPrototypeOf,Ce=Gt&&Gt(Gt(fn([])));Ce&&Ce!==o&&u.call(Ce,y)&&(xe=Ce);var ie=ce.prototype=Wt.prototype=Object.create(xe);function Pe(lt){["next","throw","return"].forEach(function(ut){T(lt,ut,function(zt){return this._invoke(ut,zt)})})}function Oe(lt,ut){function zt(Mt,Ne,Be,ti){var vi=M(lt[Mt],lt,Ne);if(vi.type!=="throw"){var he=vi.arg,Ye=he.value;return Ye&&typeof Ye=="object"&&u.call(Ye,"__await")?ut.resolve(Ye.__await).then(function(Bi){zt("next",Bi,Be,ti)},function(Bi){zt("throw",Bi,Be,ti)}):ut.resolve(Ye).then(function(Bi){he.value=Bi,Be(he)},function(Bi){return zt("throw",Bi,Be,ti)})}ti(vi.arg)}var Xt;this._invoke=function(Mt,Ne){function Be(){return new ut(function(ti,vi){zt(Mt,Ne,ti,vi)})}return Xt=Xt?Xt.then(Be,Be):Be()}}function Ee(lt,ut){var zt=lt.iterator[ut.method];if(zt===void 0){if(ut.delegate=null,ut.method==="throw"){if(lt.iterator.return&&(ut.method="return",ut.arg=void 0,Ee(lt,ut),ut.method==="throw"))return O;ut.method="throw",ut.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var Xt=M(zt,lt.iterator,ut.arg);if(Xt.type==="throw")return ut.method="throw",ut.arg=Xt.arg,ut.delegate=null,O;var Mt=Xt.arg;return Mt?Mt.done?(ut[lt.resultName]=Mt.value,ut.next=lt.nextLoc,ut.method!=="return"&&(ut.method="next",ut.arg=void 0),ut.delegate=null,O):Mt:(ut.method="throw",ut.arg=new TypeError("iterator result is not an object"),ut.delegate=null,O)}function ne(lt){var ut={tryLoc:lt[0]};1 in lt&&(ut.catchLoc=lt[1]),2 in lt&&(ut.finallyLoc=lt[2],ut.afterLoc=lt[3]),this.tryEntries.push(ut)}function be(lt){var ut=lt.completion||{};ut.type="normal",delete ut.arg,lt.completion=ut}function Ge(lt){this.tryEntries=[{tryLoc:"root"}],lt.forEach(ne,this),this.reset(!0)}function fn(lt){if(lt){var ut=lt[y];if(ut)return ut.call(lt);if(typeof lt.next=="function")return lt;if(!isNaN(lt.length)){var zt=-1,Xt=function Mt(){for(;++zt<lt.length;)if(u.call(lt,zt))return Mt.value=lt[zt],Mt.done=!1,Mt;return Mt.value=void 0,Mt.done=!0,Mt};return Xt.next=Xt}}return{next:xi}}function xi(){return{value:void 0,done:!0}}return Vt.prototype=ce,T(ie,"constructor",ce),T(ce,"constructor",Vt),Vt.displayName=T(ce,w,"GeneratorFunction"),s.isGeneratorFunction=function(lt){var ut=typeof lt=="function"&&lt.constructor;return!!ut&&(ut===Vt||(ut.displayName||ut.name)==="GeneratorFunction")},s.mark=function(lt){return Object.setPrototypeOf?Object.setPrototypeOf(lt,ce):(lt.__proto__=ce,T(lt,w,"GeneratorFunction")),lt.prototype=Object.create(ie),lt},s.awrap=function(lt){return{__await:lt}},Pe(Oe.prototype),T(Oe.prototype,S,function(){return this}),s.AsyncIterator=Oe,s.async=function(lt,ut,zt,Xt,Mt){Mt===void 0&&(Mt=Promise);var Ne=new Oe(U(lt,ut,zt,Xt),Mt);return s.isGeneratorFunction(ut)?Ne:Ne.next().then(function(Be){return Be.done?Be.value:Ne.next()})},Pe(ie),T(ie,w,"Generator"),T(ie,y,function(){return this}),T(ie,"toString",function(){return"[object Generator]"}),s.keys=function(lt){var ut=[];for(var zt in lt)ut.push(zt);return ut.reverse(),function Xt(){for(;ut.length;){var Mt=ut.pop();if(Mt in lt)return Xt.value=Mt,Xt.done=!1,Xt}return Xt.done=!0,Xt}},s.values=fn,Ge.prototype={constructor:Ge,reset:function(lt){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(be),!lt)for(var ut in this)ut.charAt(0)==="t"&&u.call(this,ut)&&!isNaN(+ut.slice(1))&&(this[ut]=void 0)},stop:function(){this.done=!0;var lt=this.tryEntries[0].completion;if(lt.type==="throw")throw lt.arg;return this.rval},dispatchException:function(lt){if(this.done)throw lt;var ut=this;function zt(vi,he){return Ne.type="throw",Ne.arg=lt,ut.next=vi,he&&(ut.method="next",ut.arg=void 0),!!he}for(var Xt=this.tryEntries.length-1;Xt>=0;--Xt){var Mt=this.tryEntries[Xt],Ne=Mt.completion;if(Mt.tryLoc==="root")return zt("end");if(Mt.tryLoc<=this.prev){var Be=u.call(Mt,"catchLoc"),ti=u.call(Mt,"finallyLoc");if(Be&&ti){if(this.prev<Mt.catchLoc)return zt(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return zt(Mt.finallyLoc)}else if(Be){if(this.prev<Mt.catchLoc)return zt(Mt.catchLoc,!0)}else{if(!ti)throw new Error("try statement without catch or finally");if(this.prev<Mt.finallyLoc)return zt(Mt.finallyLoc)}}}},abrupt:function(lt,ut){for(var zt=this.tryEntries.length-1;zt>=0;--zt){var Xt=this.tryEntries[zt];if(Xt.tryLoc<=this.prev&&u.call(Xt,"finallyLoc")&&this.prev<Xt.finallyLoc){var Mt=Xt;break}}Mt&&(lt==="break"||lt==="continue")&&Mt.tryLoc<=ut&&ut<=Mt.finallyLoc&&(Mt=null);var Ne=Mt?Mt.completion:{};return Ne.type=lt,Ne.arg=ut,Mt?(this.method="next",this.next=Mt.finallyLoc,O):this.complete(Ne)},complete:function(lt,ut){if(lt.type==="throw")throw lt.arg;return lt.type==="break"||lt.type==="continue"?this.next=lt.arg:lt.type==="return"?(this.rval=this.arg=lt.arg,this.method="return",this.next="end"):lt.type==="normal"&&ut&&(this.next=ut),O},finish:function(lt){for(var ut=this.tryEntries.length-1;ut>=0;--ut){var zt=this.tryEntries[ut];if(zt.finallyLoc===lt)return this.complete(zt.completion,zt.afterLoc),be(zt),O}},catch:function(lt){for(var ut=this.tryEntries.length-1;ut>=0;--ut){var zt=this.tryEntries[ut];if(zt.tryLoc===lt){var Xt=zt.completion;if(Xt.type==="throw"){var Mt=Xt.arg;be(zt)}return Mt}}throw new Error("illegal catch attempt")},delegateYield:function(lt,ut,zt){return this.delegate={iterator:fn(lt),resultName:ut,nextLoc:zt},this.method==="next"&&(this.arg=void 0),O}},s}function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},c(s)}function f(s,o,u){return o in s?Object.defineProperty(s,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[o]=u,s}function x(s,o){return function(u){if(Array.isArray(u))return u}(s)||function(u,g){var y=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(y!=null){var S,w,T=[],U=!0,M=!1;try{for(y=y.call(u);!(U=(S=y.next()).done)&&(T.push(S.value),!g||T.length!==g);U=!0);}catch(O){M=!0,w=O}finally{try{U||y.return==null||y.return()}finally{if(M)throw w}}return T}}(s,o)||k(s,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(s){return function(o){if(Array.isArray(o))return _(o)}(s)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(s)||k(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(s,o){if(s){if(typeof s=="string")return _(s,o);var u=Object.prototype.toString.call(s).slice(8,-1);return u==="Object"&&s.constructor&&(u=s.constructor.name),u==="Map"||u==="Set"?Array.from(s):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?_(s,o):void 0}}function _(s,o){(o==null||o>s.length)&&(o=s.length);for(var u=0,g=new Array(o);u<o;u++)g[u]=s[u];return g}function l(s,o){var u=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!u){if(Array.isArray(s)||(u=k(s))||o&&s&&typeof s.length=="number"){u&&(s=u);var g=0,y=function(){};return{s:y,n:function(){return g>=s.length?{done:!0}:{done:!1,value:s[g++]}},e:function(U){throw U},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,w=!0,T=!1;return{s:function(){u=u.call(s)},n:function(){var U=u.next();return w=U.done,U},e:function(U){T=!0,S=U},f:function(){try{w||u.return==null||u.return()}finally{if(T)throw S}}}}var p={attributeIndex:0,attributeListDepth:{},matchST_ATTRIBUTE:function(){var s=this.input();if(this.is_WHITESPACE()){do s=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(s){case"]":return this.attributeListDepth[this.attributeIndex]===0?(delete this.attributeListDepth[this.attributeIndex],this.attributeIndex--,this.popState()):this.attributeListDepth[this.attributeIndex]--,"]";case"(":case")":case":":case"=":case"|":case"&":case"^":case"-":case"+":case"*":case"%":case"~":case"<":case">":case"!":return this.consume_TOKEN();case"[":return this.attributeListDepth[this.attributeIndex]++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN()}if(this.is_LABEL_START()||s==="\\"){for(;this.offset<this.size;){var o=this.input();if(!this.is_LABEL()&&o!=="\\"){o&&this.unput(1);break}}return this.T_STRING()}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(s,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}};p.attributeIndex,p.attributeListDepth,p.matchST_ATTRIBUTE;var m={T_COMMENT:function(){for(;this.offset<this.size;){var s=this.input();if(s===`
`||s==="\r")return this.tok.T_COMMENT;if(s==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(s==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){var s=this.input(),o=this.tok.T_COMMENT;if(s==="*"){if(s=this.input(),this.is_WHITESPACE()&&(o=this.tok.T_DOC_COMMENT),s==="/")return o;this.unput(1)}for(;this.offset<this.size;)if((s=this.input())==="*"&&this._input[this.offset]==="/"){this.input();break}return o}};m.T_COMMENT,m.T_DOC_COMMENT;var v={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){var s=this.input();if(s=="<"){if((s=this.ahead(1))=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&((s=this._input[this.offset+4])===" "||s==="	"||s===`
`||s==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&s=="%"){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}};v.nextINITIAL,v.matchINITIAL;var C={consume_NUM:function(){var s=this.yytext[0],o=s===".";if(s==="0")if((s=this.input())==="x"||s==="X"){if((s=this.input())!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(s?2:1)}else if(s==="b"||s==="B"){if((s=this.input())!=="_"&&s==="0"||s==="1")return this.consume_BNUM();this.unput(s?2:1)}else if(s==="o"||s==="O"){if((s=this.input())!=="_"&&this.is_OCTAL())return this.consume_ONUM();this.unput(s?2:1)}else this.is_NUM()||s&&this.unput(1);for(;this.offset<this.size;){var u=s;if((s=this.input())==="_"){if(u==="_"){this.unput(2);break}if(u==="."){this.unput(1);break}if(u==="e"||u==="E"){this.unput(2);break}}else{if(s==="."){if(o){this.unput(1);break}if(u==="_"){this.unput(2);break}o=!0;continue}if(s==="e"||s==="E"){if(u==="_"){this.unput(1);break}var g=2;if((s=this.input())!=="+"&&s!=="-"||(g=3,s=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(s?g:g-1);break}}if(!this.is_NUM()){s&&this.unput(1);break}}return o?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||this.yytext.length==10&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){var s=this.input();if(!this.is_HEX()){s&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){var s=this.input();if(!this.is_NUM()){s&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){for(var s;this.offset<this.size;)if((s=this.input())!=="0"&&s!=="1"&&s!=="_"){s&&this.unput(1);break}return this.tok.T_LNUMBER},consume_ONUM:function(){for(;this.offset<this.size;){var s=this.input();if(!this.is_OCTAL()){s&&this.unput(1);break}}return this.tok.T_LNUMBER}};C.consume_NUM,C.consume_HNUM,C.consume_LNUM,C.consume_BNUM,C.consume_ONUM;var P={matchST_LOOKING_FOR_PROPERTY:function(){var s=this.input();if(s==="-"){if((s=this.input())===">")return this.tok.T_OBJECT_OPERATOR;s&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),s&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){var s=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),(s=this.input())==="["||s==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else s&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){var s=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(s==="]")return this.popState(),"]";if(s==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||s==="\\"||s==="'"||s==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(s==="["||s==="{"||s==="}"||s==='"'||s==="`"||this.is_TOKEN())return s;throw new Error("Unexpected terminal")}};P.matchST_LOOKING_FOR_PROPERTY,P.matchST_LOOKING_FOR_VARNAME,P.matchST_VAR_OFFSET;var F={matchST_IN_SCRIPTING:function(){var s=this.input();switch(s){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this.version>=800&&this._input[this.offset]==="["?(this.input(),this.attributeListDepth[++this.attributeIndex]=0,this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var o=this._input[this.offset];return o!==`
`&&o!=="\r"||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),(s=this._input[this.offset])!==`
`&&s!=="\r"||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(s==="."){if(s=this.input(),this.is_NUM_START())return this.consume_NUM();s&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+s+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){var s=this.input();if(s!==" "&&s!=="	"&&s!==`
`&&s!=="\r"){s&&this.unput(1);break}}return this.tok.T_WHITESPACE}};F.matchST_IN_SCRIPTING,F.T_WHITESPACE;var L=[`
`,"\r"],j=[`
`,"\r",";"],B=j.concat(["	"," ",",","]",")","/","=","!"]),J={T_CONSTANT_ENCAPSED_STRING:function(){for(var s;this.offset<this.size;)if((s=this.input())=="\\")this.input();else if(s=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var s=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););var o=this._input[this.offset-1];if(o==="'"||o==='"'?this.offset++:o=null,this.is_LABEL_START()){for(var u=this.offset-1;this.offset<this.size&&(this.offset++,this.is_LABEL()););var g=this._input.substring(u,this.offset-1);if((!o||o===this._input[this.offset-1])&&(o&&this.offset++,L.includes(this._input[this.offset-1])))return this.heredoc_label.label=g,this.heredoc_label.length=g.length,this.heredoc_label.finished=!1,u=this.offset-s,this.offset=s,this.consume(u),o==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=s,!1},ST_DOUBLE_QUOTES:function(){for(var s;this.offset<this.size;)if((s=this.input())=="\\")this.input();else{if(s=='"')break;if(s=="$"){if((s=this.input())=="{"||this.is_LABEL_START()){this.unput(2);break}s&&this.unput(1)}else if(s=="{"){if((s=this.input())=="$"){this.unput(2);break}s&&this.unput(1)}}if(s=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;var o=1;return this.yytext[0]!=="b"&&this.yytext[0]!=="B"||(o=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-o),this.unput(this.yytext.length-o),this.begin("ST_DOUBLE_QUOTES"),this.yytext},isDOC_MATCH:function(s,o){var u=this._input[s-2];if(!L.includes(u))return!1;var g=!1,y=!1,S=0,w=this._input[s-1];if(this.version>=703){for(;w==="	"||w===" ";)w===" "?g=!0:w==="	"&&(y=!0),w=this._input[s+S],S++;if(s+=S,L.includes(this._input[s-1]))return!1}if(this._input.substring(s-1,s-1+this.heredoc_label.length)===this.heredoc_label.label){var T=this._input[s-1+this.heredoc_label.length];if((this.version>=703?B:j).includes(T)){if(o){if(this.consume(S),g&&y)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=S,this.heredoc_label.indentation_uses_spaces=g,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;for(var s=this.offset+1;s<this._input.length;){if(this.isDOC_MATCH(s,!1))return;if(!L.includes(this._input[s-1]))for(;!L.includes(this._input[s++])&&s<this._input.length;);s++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;for(var s=this._input[this.offset-1];this.offset<this.size;)if(L.includes(s)){if(s=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else s=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var s=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(s==="\\"&&(s=this.input(),L.includes(s)||(s=this.input())),L.includes(s)){if(s=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(s==="$"){if((s=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var o=this.offset,u=this.consume_VARIABLE();return this.yytext.length>this.offset-o+2?(this.appendToken(u,this.offset-o+2),this.unput(this.offset-o+2),this.tok.T_ENCAPSED_AND_WHITESPACE):u}}else if(s==="{"){if((s=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else s=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();var s=this.input();if(s=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(s==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else s&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){var s=this.input();if(s==="$"){if((s=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(s==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(s==="`")return this.popState(),"`";for(;this.offset<this.size;){if(s==="\\")this.input();else{if(s==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}if(s==="$"){if((s=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var o=this.offset,u=this.consume_VARIABLE();return this.yytext.length>this.offset-o+2?(this.appendToken(u,this.offset-o+2),this.unput(this.offset-o+2),this.tok.T_ENCAPSED_AND_WHITESPACE):u}continue}if(s==="{"){if((s=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}s=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var s=this.input();if(s==="$"){if((s=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(s==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(s==='"')return this.popState(),'"';for(;this.offset<this.size;){if(s==="\\")this.input();else{if(s==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}if(s==="$"){if((s=this.input())==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var o=this.offset,u=this.consume_VARIABLE();return this.yytext.length>this.offset-o+2?(this.appendToken(u,this.offset-o+2),this.unput(this.offset-o+2),this.tok.T_ENCAPSED_AND_WHITESPACE):u}s&&this.unput(1)}else if(s==="{"){if((s=this.input())==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);s&&this.unput(1)}}s=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}};J.T_CONSTANT_ENCAPSED_STRING,J.is_HEREDOC,J.ST_DOUBLE_QUOTES,J.isDOC_MATCH,J.prematch_ENDOFDOC,J.matchST_NOWDOC,J.matchST_HEREDOC,J.consume_VARIABLE,J.matchST_BACKQUOTE,J.matchST_DOUBLE_QUOTES;var et={T_STRING:function(){var s=this.yytext.toLowerCase(),o=this.keywords[s];if(typeof o!="number"){if(s==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),o=this.tok.T_YIELD_FROM):o=this.tok.T_YIELD;else if(o=this.tok.T_STRING,s==="b"||s==="B"){var u=this.input();if(u==='"')return this.ST_DOUBLE_QUOTES();if(u==="'")return this.T_CONSTANT_ENCAPSED_STRING();u&&this.unput(1)}}if(o===this.tok.T_ENUM){if(this.version<801)return this.tok.T_STRING;for(var g=this.offset,y=this.input();y==" ";)y=this.input();var S=!1;if(this.is_LABEL_START()){for(;this.is_LABEL();)y+=this.input();var w=y.slice(0,-1).toLowerCase();S=w!=="extends"&&w!=="implements"}return this.unput(this.offset-g),S?this.tok.T_ENUM:this.tok.T_STRING}if(this.offset<this.size&&o!==this.tok.T_YIELD_FROM){var T=this.input();if(T==="\\"){o=s==="namespace"?this.tok.T_NAME_RELATIVE:this.tok.T_NAME_QUALIFIED;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),T=this.input()}while(T==="\\")}T&&this.unput(1)}return o},consume_TOKEN:function(){var s=this._input[this.offset-1],o=this.tokenTerminals[s];return o?o.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){var s=this._input[this.offset];return s===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):s==="-"?(this.input(),this.tok.T_DEC):s==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){if(this.offset<this.size){if(this.input(),this.is_LABEL_START()){var s;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),s=this.input()}while(s==="\\");return this.unput(1),this.tok.T_NAME_FULLY_QUALIFIED}this.unput(1)}return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){var s=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){var o=this.yytext.length;this.consume_LABEL();var u=this.yytext.substring(o-1).toLowerCase(),g=this.castKeywords[u];if(typeof g=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return g}return this.unput(this.offset-s),"("},"=":function(){var s=this._input[this.offset];return s===">"?(this.input(),this.tok.T_DOUBLE_ARROW):s==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){var s=this._input[this.offset];return s==="+"?(this.input(),this.tok.T_INC):s==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){var s=this._input[this.offset];return s==="<"?(s=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SL_EQUAL):s==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL):s==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):s===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){var s=this._input[this.offset];return s==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):s===">"?(s=this._input[this.offset+1])==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR):">"},"*":function(){var s=this._input[this.offset];return s==="="?(this.input(),this.tok.T_MUL_EQUAL):s==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){var s=this._input[this.offset];return s==="="?(this.input(),this.tok.T_CONCAT_EQUAL):s==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){var s=this._input[this.offset];return s==="="?(this.input(),this.tok.T_AND_EQUAL):s==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){var s=this._input[this.offset];return s==="="?(this.input(),this.tok.T_OR_EQUAL):s==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}};et.T_STRING,et.consume_TOKEN,et.tokenTerminals;var Q={is_NUM:function(){var s=this._input.charCodeAt(this.offset-1);return s>47&&s<58||s===95},is_NUM_START:function(){var s=this._input.charCodeAt(this.offset-1);return s>47&&s<58},is_LABEL:function(){var s=this._input.charCodeAt(this.offset-1);return s>96&&s<123||s>64&&s<91||s===95||s>47&&s<58||s>126},is_LABEL_START:function(){var s=this._input.charCodeAt(this.offset-1);return s>64&&s<91||s>96&&s<123||s===95||s>126},consume_LABEL:function(){for(;this.offset<this.size;){var s=this.input();if(!this.is_LABEL()){s&&this.unput(1);break}}return this},is_TOKEN:function(){var s=this._input[this.offset-1];return";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(s)!==-1},is_WHITESPACE:function(){var s=this._input[this.offset-1];return s===" "||s==="	"||s===`
`||s==="\r"},is_TABSPACE:function(){var s=this._input[this.offset-1];return s===" "||s==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){var s=this.input();if(!this.is_TABSPACE()){s&&this.unput(1);break}}return this},is_HEX:function(){var s=this._input.charCodeAt(this.offset-1);return s>47&&s<58||s>64&&s<71||s>96&&s<103||s===95},is_OCTAL:function(){var s=this._input.charCodeAt(this.offset-1);return s>47&&s<56||s===95}};Q.is_NUM,Q.is_NUM_START,Q.is_LABEL,Q.is_LABEL_START,Q.consume_LABEL,Q.is_TOKEN,Q.is_WHITESPACE,Q.is_TABSPACE,Q.consume_TABSPACE,Q.is_HEX,Q.is_OCTAL;var rt=function(s){this.engine=s,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=801,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,enum:this.tok.T_ENUM,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH,readonly:this.tok.T_READ_ONLY},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};rt.prototype.setInput=function(s){return this._input=s,this.size=s.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},rt.prototype.input=function(){var s=this._input[this.offset];return s?(this.yytext+=s,this.offset++,s==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),s===`
`||s==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,s):""},rt.prototype.unput=function(s){if(s===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,s++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-s);else if(s>0)if(this.offset-=s,s<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-s),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(var o=0;o<this.yytext.length;o++){var u=this.yytext[o];u==="\r"?(u=this.yytext[++o],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,u!==`
`&&(u==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):u===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},rt.prototype.tryMatch=function(s){return s===this.ahead(s.length)},rt.prototype.tryMatchCaseless=function(s){return s===this.ahead(s.length).toLowerCase()},rt.prototype.ahead=function(s){var o=this._input.substring(this.offset,this.offset+s);return o[o.length-1]==="\r"&&this._input[this.offset+s+1]===`
`&&(o+=`
`),o},rt.prototype.consume=function(s){for(var o=0;o<s;o++){var u=this._input[this.offset];if(!u)break;this.yytext+=u,this.offset++,u==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,o++),u===`
`||u==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},rt.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},rt.prototype.setState=function(s){return this.yytext=s.yytext,this.offset=s.offset,this.yylineno=s.yylineno,this.yyprevcol=s.yyprevcol,this.yylloc=s.yylloc,s.heredoc_label&&(this.heredoc_label=s.heredoc_label),this},rt.prototype.appendToken=function(s,o){return this.tokens.push([s,o]),this},rt.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;var s=this.next()||this.lex();if(!this.all_tokens){for(;s===this.tok.T_WHITESPACE||!this.comment_tokens&&(s===this.tok.T_COMMENT||s===this.tok.T_DOC_COMMENT)||s===this.tok.T_OPEN_TAG;)s=this.next()||this.lex();if(s==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(s===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),s},rt.prototype.begin=function(s){if(this.conditionStack.push(s),this.curCondition=s,this.stateCb=this["match"+s],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+s+'"');return this},rt.prototype.popState=function(){var s=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return s},rt.prototype.next=function(){var s;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(c((s=this.tokens.shift())[1])==="object"?this.setState(s[1]):this.consume(s[1]),s=s[0]):s=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){var o=s;o=typeof o=="number"?this.engine.tokens.values[o]:'"'+o+'"';var u=new Error(o+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(u.stack)}return s},[p,m,v,C,P,F,J,et,Q].forEach(function(s){for(var o in s)rt.prototype[o]=s[o]});var yt=rt,Rt=function(s,o,u){this.line=s,this.column=o,this.offset=u},Nt={read_array:function(){var s=null,o=!1,u=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),s=")"):(o=!0,s="]");var g=[];return this.next().token!==s&&(g=this.read_array_pair_list(o)),this.expect(s),this.next(),u(o,g)},read_array_pair_list:function(s){var o=this;return this.read_list(function(){return o.read_array_pair(s)},",",!0)},read_array_pair:function(s){if(!(!s&&this.token===")"||s&&this.token==="]")){if(this.token===",")return this.node("noop")();var o=this.node("entry"),u=null,g=null,y=!1,S=!1;if(this.token==="&")this.next(),y=!0,g=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),S=!0,g=this.read_expr();else{var w=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),u=w,this.token==="&"?(this.next(),y=!0,g=this.read_variable(!0,!1)):g=this.read_expr()):g=w}return o(u,g,y,S)}}};Nt.read_array,Nt.read_array_pair_list,Nt.read_array_pair;var Ct={read_class_declaration_statement:function(s){var o=this.node("class"),u=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);var g=this.node("identifier"),y=this.text();this.next(),g=g(y);var S=this.read_extends_from(),w=this.read_implements_list();this.expect("{");var T=o(g,S,w,this.next().read_class_body(!0,!1),u);return s&&(T.attrGroups=s),T},read_class_modifiers:function(){var s=this.read_class_modifier({readonly:0,final_or_abstract:0});return[0,0,s.final_or_abstract,s.readonly]},read_class_modifier:function(s){return this.token===this.tok.T_READ_ONLY?(this.next(),s.readonly=1,s=this.read_class_modifier(s)):s.final_or_abstract===0&&this.token===this.tok.T_ABSTRACT?(this.next(),s.final_or_abstract=1,s=this.read_class_modifier(s)):s.final_or_abstract===0&&this.token===this.tok.T_FINAL&&(this.next(),s.final_or_abstract=2,s=this.read_class_modifier(s)),s},read_class_body:function(s,o){for(var u=[],g=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT)if(this.token!==this.tok.T_USE)if(o&&this.token===this.tok.T_CASE){var y=this.read_enum_case();this.expect(";")&&this.next(),u=u.concat(y)}else{this.token===this.tok.T_ATTRIBUTE&&(g=this.read_attr_list());var S=this.position(),w=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(s&&this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),w[0]=null,w[1]=0),this.token===this.tok.T_FUNCTION)u.push(this.read_function(!1,w,g,S)),g=[];else if(s&&(this.token===this.tok.T_VARIABLE||this.version>=801&&this.token===this.tok.T_READ_ONLY||this.version>=704&&(this.token==="?"||this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING))){var T=this.read_variable_list(w,g);g=[],this.expect(";"),this.next(),u=u.concat(T)}else this.error([this.tok.T_CONST].concat(d(s?[this.tok.T_VARIABLE]:[]),d(o?[this.tok.T_CASE]:[]),[this.tok.T_FUNCTION])),this.next();else{var U=this.read_constant_list(w,g);this.expect(";")&&this.next(),u=u.concat(U)}}else u=u.concat(this.read_trait_use_statement());else u.push(this.read_doc_comment());else u.push(this.read_comment());return this.expect("}"),this.next(),u},read_variable_list:function(s,o){var u=this.node("propertystatement"),g=this.read_list(function(){var y=this.node("property"),S=!1;this.token===this.tok.T_READ_ONLY&&(S=!0,this.next());var w=x(this.read_optional_type(),2),T=w[0],U=w[1];this.expect(this.tok.T_VARIABLE);var M=this.node("identifier"),O=this.text().substring(1);return this.next(),M=M(O),this.token===";"||this.token===","?y(M,null,S,T,U,o||[]):this.token==="="?y(M,this.next().read_expr(),S,T,U,o||[]):(this.expect([",",";","="]),y(M,null,T,U,o||[]))},",");return u(null,g,s)},read_constant_list:function(s,o){this.expect(this.tok.T_CONST)&&this.next();var u=this.node("classconstant"),g=this.read_list(function(){var y=this.node("constant"),S=null,w=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){S=this.node("identifier");var T=this.text();this.next(),S=S(T)}else this.expect("IDENTIFIER");return this.expect("=")&&(w=this.next().read_expr()),y(S,w)},",");return u(null,g,s,o||[])},read_member_flags:function(s){var o=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var u=0,g=0;do{switch(this.token){case this.tok.T_PUBLIC:u=0,g=0;break;case this.tok.T_PROTECTED:u=0,g=1;break;case this.tok.T_PRIVATE:u=0,g=2;break;case this.tok.T_STATIC:u=1,g=1;break;case this.tok.T_ABSTRACT:u=2,g=1;break;case this.tok.T_FINAL:u=2,g=2}s&&(u==0&&g==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),g=-1):u==2&&g==1&&(this.error(),g=-1)),o[u]!==-1?this.error():g!==-1&&(o[u]=g)}while(this.next().is("T_MEMBER_FLAGS"))}return o[1]==-1&&(o[1]=0),o[2]==-1&&(o[2]=0),o},read_optional_type:function(){var s=!1;this.token==="?"&&(s=!0,this.next());var o=this.read_types();if(s&&!o&&this.raiseError("Expecting a type definition combined with nullable operator"),!s&&!o)return[!1,null];if(this.token==="|"){o=[o];do{this.next();var u=this.read_type();if(!u){this.raiseError("Expecting a type definition");break}o.push(u)}while(this.token==="|")}return[s,o]},read_interface_declaration_statement:function(s){var o=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);var u=this.node("identifier"),g=this.text();this.next(),u=u(g);var y=this.read_interface_extends_list();return this.expect("{"),o(u,y,this.next().read_interface_body(),s||[])},read_interface_body:function(){for(var s=[],o=[];this.token!==this.EOF&&this.token!=="}";)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT){var u=this.position();o=this.read_attr_list();var g=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){var y=this.read_constant_list(g,o);this.expect(";")&&this.next(),s=s.concat(y),o=[]}else if(this.token===this.tok.T_FUNCTION){var S=this.read_function_declaration(2,g,o,u);S.parseFlags(g),s.push(S),this.expect(";")&&this.next(),o=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}else s.push(this.read_doc_comment());else s.push(this.read_comment());return this.expect("}")&&this.next(),s},read_trait_declaration_statement:function(){var s=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);var o=this.node("identifier"),u=this.text();return this.next(),o=o(u),this.expect("{"),s(o,this.next().read_class_body(!0,!1))},read_trait_use_statement:function(){var s=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();for(var o=[this.read_namespace_name()],u=null;this.token===",";)o.push(this.next().read_namespace_name());if(this.token==="{"){for(u=[];this.next().token!==this.EOF&&this.token!=="}";)u.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return s(o,u)},read_trait_use_alias:function(){var s,o=this.node(),u=null;if(this.is("IDENTIFIER")){s=this.node("identifier");var g=this.text();this.next(),s=s(g)}else if(s=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){u=s,s=this.node("identifier");var y=this.text();this.next(),s=s(y)}else this.expect(this.tok.T_STRING);else s=s.name;if(this.token===this.tok.T_INSTEADOF)return o("traitprecedence",u,s,this.next().read_name_list());if(this.token===this.tok.T_AS){var S=null,w=null;if(this.next().is("T_MEMBER_FLAGS")&&(S=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){w=this.node("identifier");var T=this.text();this.next(),w=w(T)}else S===!1&&this.expect(this.tok.T_STRING);return o("traitalias",u,s,w,S)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),o("traitalias",u,s,null,null)}};Ct.read_class_declaration_statement,Ct.read_class_modifiers,Ct.read_class_modifier,Ct.read_class_body,Ct.read_variable_list,Ct.read_constant_list,Ct.read_member_flags,Ct.read_optional_type,Ct.read_interface_declaration_statement,Ct.read_interface_body,Ct.read_trait_declaration_statement,Ct.read_trait_use_statement,Ct.read_trait_use_alias;var Et={read_comment:function(){var s=this.text(),o=this.ast.prepare(s.substring(0,2)==="/*"?"commentblock":"commentline",null,this),u=this.lexer.yylloc.first_offset,g=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(o=o(s)).offset=u,this.prev=g,o},read_doc_comment:function(){var s=this.ast.prepare("commentblock",null,this),o=this.lexer.yylloc.first_offset,u=this.text(),g=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(s=s(u)).offset=o,this.prev=g,s}};Et.read_comment,Et.read_doc_comment;var vt={read_expr:function(s){var o=this.node();if(this.token==="@")return s||(s=this.next().read_expr()),o("silent",s);if(s||(s=this.read_expr_item()),this.token==="|")return o("bin","|",s,this.next().read_expr());if(this.token==="&")return o("bin","&",s,this.next().read_expr());if(this.token==="^")return o("bin","^",s,this.next().read_expr());if(this.token===".")return o("bin",".",s,this.next().read_expr());if(this.token==="+")return o("bin","+",s,this.next().read_expr());if(this.token==="-")return o("bin","-",s,this.next().read_expr());if(this.token==="*")return o("bin","*",s,this.next().read_expr());if(this.token==="/")return o("bin","/",s,this.next().read_expr());if(this.token==="%")return o("bin","%",s,this.next().read_expr());if(this.token===this.tok.T_POW)return o("bin","**",s,this.next().read_expr());if(this.token===this.tok.T_SL)return o("bin","<<",s,this.next().read_expr());if(this.token===this.tok.T_SR)return o("bin",">>",s,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return o("bin","||",s,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return o("bin","or",s,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return o("bin","&&",s,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return o("bin","and",s,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return o("bin","xor",s,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return o("bin","===",s,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return o("bin","!==",s,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return o("bin","==",s,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return o("bin","!=",s,this.next().read_expr());if(this.token==="<")return o("bin","<",s,this.next().read_expr());if(this.token===">")return o("bin",">",s,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return o("bin","<=",s,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return o("bin",">=",s,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return o("bin","<=>",s,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(s=o("bin","instanceof",s,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(s=this.read_expr(s))),this.token===this.tok.T_COALESCE)return o("bin","??",s,this.next().read_expr());if(this.token==="?"){var u=null;return this.next().token!==":"&&(u=this.read_expr()),this.expect(":")&&this.next(),o("retif",s,u,this.read_expr())}return o.destroy(s),s},read_expr_cast:function(s){return this.node("cast")(s,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){var s=null;switch(this.token){case this.tok.T_ISSET:s=this.node("isset"),this.next().expect("(")&&this.next();var o=this.read_isset_variables();this.expect(")")&&this.next(),s=s(o);break;case this.tok.T_EMPTY:s=this.node("empty"),this.next().expect("(")&&this.next();var u=this.read_expr();this.expect(")")&&this.next(),s=s(u);break;case this.tok.T_INCLUDE:s=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:s=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:s=this.node("eval"),this.next().expect("(")&&this.next();var g=this.read_expr();this.expect(")")&&this.next(),s=s(g);break;case this.tok.T_REQUIRE:s=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:s=this.node("include")(!0,!0,this.next().read_expr())}return s},read_optional_expr:function(s){return this.token!==s?this.read_expr():null},read_exit_expr:function(){var s=null;return this.token==="("&&(this.next(),s=this.read_optional_expr(")"),this.expect(")")&&this.next()),s},read_expr_item:function(){var s,o,u=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return(o=this.next().read_expr()).parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(o);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){var g=null,y=this.innerList;s=this.node("list"),y||(g=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);var S=this.read_array_pair_list(!1);this.expect(")")&&this.next();for(var w=!1,T=0;T<S.length;T++)if(S[T]!==null&&S[T].kind!=="noop"){w=!0;break}return w||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),y?s(S,!1):(this.innerList=!1,this.expect("=")?g(s(S,!1),this.next().read_expr(),"="):s(S,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(u=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:var U=this.lexer.yytext.toLowerCase()==="die";return s=this.node("exit"),this.next(),s(this.read_exit_expr(),U);case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:var M=null,O=null;return s=this.node("yield"),this.next().is("EXPR")&&(M=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(O=M,M=this.next().read_expr())),s(M,O);case this.tok.T_YIELD_FROM:return(s=this.node("yieldfrom"))(o=this.next().read_expr());case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,u);case this.tok.T_STATIC:var Wt=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],u);this.lexer.tokens.push(Wt),this.next()}if(this.is("VARIABLE")){s=this.node();var Vt=(o=this.read_variable(!1,!1)).kind==="identifier"||o.kind==="staticlookup"&&o.offset.kind==="identifier";switch(this.token){case"=":return Vt&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(s,o):s("assign",o,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return Vt&&this.error("VARIABLE"),s("assign",o,this.next().read_expr(),"??=");case this.tok.T_INC:return Vt&&this.error("VARIABLE"),this.next(),s("post","+",o);case this.tok.T_DEC:return Vt&&this.error("VARIABLE"),this.next(),s("post","-",o);default:s.destroy(o)}}else{if(this.is("SCALAR")){if(s=this.node(),(o=this.read_scalar()).kind==="array"&&o.shortForm&&this.token==="="){var ce=this.convertToList(o);return o.loc&&(ce.loc=o.loc),s("assign",ce,this.next().read_expr(),"=")}return s.destroy(o),this.handleDereferencable(o)}this.error("EXPR"),this.next()}return o},convertToList:function(s){var o=this,u=s.items.map(function(y){return y.value&&y.value.kind==="array"&&y.value.shortForm&&(y.value=o.convertToList(y.value)),y}),g=this.node("list")(u,!0);return s.loc&&(g.loc=s.loc),s.leadingComments&&(g.leadingComments=s.leadingComments),s.trailingComments&&(g.trailingComments=s.trailingComments),g},read_assignref:function(s,o){var u;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),u=this.read_new_expr()):u=this.read_variable(!1,!1),s("assignref",o,u)},read_inline_function:function(s,o){if(this.token===this.tok.T_FUNCTION){var u=this.read_function(!0,s,o);return u.attrGroups=o,u}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");var g=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();var y=this.is_reference();this.expect("(")&&this.next();var S=this.read_parameter_list();this.expect(")")&&this.next();var w=!1,T=null;this.token===":"&&(this.next().token==="?"&&(w=!0,this.next()),T=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();var U=g(S,y,this.read_expr(),T,w,!!s);return U.attrGroups=o,U},read_match_expression:function(){var s=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");var o,u;return this.expect("(")&&this.next(),o=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),u=this.read_match_arms(),this.expect("}")&&this.next(),s(o,u)},read_match_arms:function(){var s=this;return this.read_list(function(){return s.read_match_arm()},",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){var s=[];if(this.token===this.tok.T_DEFAULT)s=null,this.next();else for(s.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),s;s.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),s},read_attribute:function(){var s=this.text(),o=[];return this.next(),this.token==="("&&(o=this.read_argument_list()),this.node("attribute")(s,o)},read_attr_list:function(){var s=[];if(this.token===this.tok.T_ATTRIBUTE)do{var o=this.node("attrgroup")([]);for(this.next(),o.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&o.attrs.push(this.read_attribute());s.push(o),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return s},read_new_expr:function(){var s=this.node("new");this.expect(this.tok.T_NEW)&&this.next();var o=[];if(this.token==="("){this.next();var u=this.read_expr();return this.expect(")"),this.next(),this.token==="("&&(o=this.read_argument_list()),s(u,o)}var g=this.read_attr_list();if(this.token===this.tok.T_CLASS){var y=this.node("class");this.next().token==="("&&(o=this.read_argument_list());var S=this.read_extends_from(),w=this.read_implements_list(),T=null;this.expect("{")&&(T=this.next().read_class_body(!0,!1));var U=y(null,S,w,T,[0,0,0]);return U.attrGroups=g,s(U,o)}for(var M=this.read_new_class_name();this.token==="[";){var O=this.node("offsetlookup"),Wt=this.next().read_encaps_var_offset();this.expect("]")&&this.next(),M=O(M,Wt)}return this.token==="("&&(o=this.read_argument_list()),s(M,o)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){var s=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(s=this.read_static_getter(s)),s}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(s){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)s=this.recursive_variable_chain_scan(s,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")s=this.read_dereferencable(s);else{if(this.token!=="(")return s;s=this.node("call")(s,this.read_argument_list())}return s}};vt.read_expr,vt.read_expr_cast,vt.read_isset_variable,vt.read_isset_variables,vt.read_internal_functions_in_yacc,vt.read_optional_expr,vt.read_exit_expr,vt.read_expr_item,vt.convertToList,vt.read_assignref,vt.read_inline_function,vt.read_match_expression,vt.read_match_arms,vt.read_match_arm,vt.read_match_arm_conds,vt.read_attribute,vt.read_attr_list,vt.read_new_expr,vt.read_new_class_name,vt.handleDereferencable;var dt={read_enum_declaration_statement:function(s){var o=this.node("enum");if(!this.expect(this.tok.T_ENUM))return null;this.next().expect(this.tok.T_STRING);var u=this.node("identifier"),g=this.text();this.next(),u=u(g);var y=this.read_enum_value_type(),S=this.read_implements_list();this.expect("{");var w=o(u,y,S,this.next().read_class_body(!1,!0));return s&&(w.attrGroups=s),w},read_enum_value_type:function(){return this.token===":"?this.next().read_namespace_name():null},read_enum_case:function(){this.expect(this.tok.T_CASE);var s=this.node("enumcase"),o=this.node("identifier"),u=this.next().text();this.next(),o=o(u);var g=this.token==="="?this.next().read_expr():null;return this.expect(";"),s(o,g)}};dt.read_enum_declaration_statement,dt.read_enum_value_type,dt.read_enum_case;var ct={is_reference:function(){return this.token==="&"&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(s,o,u,g){var y=this.read_function_declaration(s?1:o?2:0,o&&o[1]===1,u||[],g);return o&&o[2]==1?(y.parseFlags(o),this.expect(";")&&this.next()):(this.expect("{")&&(y.body=this.read_code_block(!1),y.loc&&y.body.loc&&(y.loc.end=y.body.loc.end)),!s&&o&&y.parseFlags(o)),y},read_function_declaration:function(s,o,u,g){var y=this,S="function";s===1?S="closure":s===2&&(S="method");var w=this.node(S);this.expect(this.tok.T_FUNCTION)&&this.next();var T=this.is_reference(),U=!1,M=[],O=null,Wt=!1;if(s!==1){var Vt=this.node("identifier");s===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(U=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(U=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(U=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(U=this.text()),this.next()),U=Vt(U)}this.expect("(")&&this.next();var ce=this.read_parameter_list(U.name==="__construct");this.expect(")")&&this.next(),s===1&&(M=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(Wt=!0,this.next()),O=this.read_types());var xe=function(Gt){return Gt.attrGroups=u||[],g&&Gt.loc&&(Gt.loc.start=g,Gt.loc.source&&(Gt.loc.source=y.lexer._input.substr(Gt.loc.start.offset,Gt.loc.end.offset-Gt.loc.start.offset))),Gt};return xe(s===1?w(ce,T,M,O,Wt,o):w(U,ce,T,O,Wt))},read_lexical_vars:function(){var s=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),s=this.read_lexical_var_list(),this.expect(")")&&this.next()),s},read_list_with_dangling_comma:function(s){for(var o=[];this.token!=this.EOF;){if(o.push(s()),this.token!=","){if(this.token==")")break;this.error([",",")"]);break}if(this.next(),this.version>=800&&this.token===")")return o}return o},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));var s=this.node("variable");this.expect(this.tok.T_VARIABLE);var o=this.text().substring(1);return this.next(),s(o,!1)},read_parameter_list:function(s){if(this.token!==")"){var o=!1;return this.read_list_with_dangling_comma(function(){var u=this.read_parameter(s);return u&&(o&&this.raiseError("Unexpected parameter after a variadic parameter"),u.variadic&&(o=!0)),u}.bind(this),",")}return[]},read_parameter:function(s){var o,u=this.node("parameter"),g=null,y=null,S=!1,w=!1,T=[];this.token===this.tok.T_ATTRIBUTE&&(T=this.read_attr_list()),this.version>=801&&this.token===this.tok.T_READ_ONLY&&(s?(this.next(),w=!0):this.raiseError("readonly properties can be used only on class constructor"));var U=this.read_promoted();!w&&this.version>=801&&this.token===this.tok.T_READ_ONLY&&(s?(this.next(),w=!0):this.raiseError("readonly properties can be used only on class constructor")),this.token==="?"&&(this.next(),S=!0),o=this.read_types(),S&&!o&&this.raiseError("Expecting a type definition combined with nullable operator");var M=this.is_reference(),O=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){g=this.node("identifier");var Wt=this.text().substring(1);this.next(),g=g(Wt)}this.token=="="&&(y=this.next().read_expr());var Vt=u(g,o,y,M,O,w,S,U);return T&&(Vt.attrGroups=T),Vt},read_types:function(){var s="unset",o="union",u="intersection",g=[],y=s,S=this.read_type();if(!S)return null;for(g.push(S);this.token==="|"||this.version>=801&&this.token==="&";){var w=this.peek();if(w===this.tok.T_ELLIPSIS||w===this.tok.T_VARIABLE)break;y===s?y=this.token==="|"?o:u:(y===o&&this.token!=="|"||y===u&&this.token!=="&")&&this.raiseError('Unexpect token "'+this.token+'", "|" and "&" can not be mixed'),this.next(),g.push(this.read_type())}return g.length===1?g[0]:y===u?this.node("intersectiontype")(g):this.node("uniontype")(g)},read_promoted:function(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){var s=[];return this.expect("(")&&this.next(),this.version>=801&&this.token===this.tok.T_ELLIPSIS&&this.peek()===")"?(s.push(this.node("variadicplaceholder")()),this.next()):this.token!==")"&&(s=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),s},read_non_empty_argument_list:function(){var s=!1;return this.read_function_list(function(){var o=this.read_argument();if(o){var u=o.kind==="variadic";s&&!u&&this.raiseError("Unexpected non-variadic argument after a variadic argument"),u&&(s=!0)}return o}.bind(this),",")},read_argument:function(){return this.token===this.tok.T_ELLIPSIS?this.node("variadic")(this.next().read_expr()):(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token))&&this.peek()===":"?(this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())):this.read_expr()},read_type:function(){var s=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){var o=this.text();return this.next(),s("typereference",o.toLowerCase(),o)}if(this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){var u=this.text(),g=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(u.toLowerCase())>-1?s("typereference",u.toLowerCase(),u):(this.lexer.tokens.push(g),this.next(),s.destroy(),this.read_namespace_name())}return s.destroy(),null}};ct.is_reference,ct.is_variadic,ct.read_function,ct.read_function_declaration,ct.read_lexical_vars,ct.read_list_with_dangling_comma,ct.read_lexical_var_list,ct.read_lexical_var,ct.read_parameter_list,ct.read_parameter,ct.read_types,ct.read_promoted,ct.read_argument_list,ct.read_non_empty_argument_list,ct.read_argument,ct.read_type;var ee={read_if:function(){var s=this.node("if"),o=this.next().read_if_expr(),u=null,g=null,y=!1;if(this.token===":"){y=!0,this.next(),u=this.node("block");for(var S=[];this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){g=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){g=this.read_else_short();break}S.push(this.read_inner_statement())}u=u(null,S),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else u=this.read_statement(),this.token===this.tok.T_ELSEIF?g=this.read_if():this.token===this.tok.T_ELSE&&(g=this.next().read_statement());return s(o,u,g,y)},read_if_expr:function(){this.expect("(")&&this.next();var s=this.read_expr();return this.expect(")")&&this.next(),s},read_elseif_short:function(){var s=null,o=this.node("if"),u=this.next().read_if_expr();this.expect(":")&&this.next();for(var g=this.node("block"),y=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){s=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){s=this.read_else_short();break}y.push(this.read_inner_statement())}return o(u,g(null,y),s,!0)},read_else_short:function(){this.next().expect(":")&&this.next();for(var s=this.node("block"),o=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)o.push(this.read_inner_statement());return s(null,o)}};ee.read_if,ee.read_if_expr,ee.read_elseif_short,ee.read_else_short;var It={read_while:function(){var s=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();var o,u=null,g=!1;return this.expect("(")&&this.next(),o=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(g=!0,u=this.read_short_form(this.tok.T_ENDWHILE)):u=this.read_statement(),s(o,u,g)},read_do:function(){var s=this.node("do");this.expect(this.tok.T_DO)&&this.next();var o,u=null;return o=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),u=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),s(u,o)},read_for:function(){var s=this.node("for");this.expect(this.tok.T_FOR)&&this.next();var o=[],u=[],g=[],y=null,S=!1;return this.expect("(")&&this.next(),this.token!==";"?(o=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(u=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(g=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(S=!0,y=this.read_short_form(this.tok.T_ENDFOR)):y=this.read_statement(),s(o,u,g,y,S)},read_foreach:function(){var s=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();var o,u=null,g=null,y=null,S=!1;return this.expect("(")&&this.next(),o=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),g=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(u=g,g=this.next().read_foreach_variable())),u&&u.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(S=!0,y=this.read_short_form(this.tok.T_ENDFOREACH)):y=this.read_statement(),s(o,u,g,y,S)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){var s=this.token==="[",o=this.node("list");this.next(),!s&&this.expect("(")&&this.next();var u=this.read_array_pair_list(s);return this.expect(s?"]":")")&&this.next(),o(u,s)}return this.read_variable(!1,!1)}};It.read_while,It.read_do,It.read_for,It.read_foreach,It.read_foreach_variable;var Qt={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}};Qt.read_start;var me={read_namespace:function(){var s,o,u=this.node("namespace");return this.expect(this.tok.T_NAMESPACE)&&this.next(),o=this.token==="{"?{name:[""]}:this.read_namespace_name(),this.currentNamespace=o,this.token===";"?(this.currentNamespace=o,s=this.next().read_top_statements(),this.expect(this.EOF),u(o.name,s,!1)):this.token==="{"?(this.currentNamespace=o,s=this.next().read_top_statements(),this.expect("}")&&this.next(),s.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&s.push(this.node("noop")()),u(o.name,s,!0)):(this.error(["{",";"]),this.currentNamespace=o,s=this.read_top_statements(),this.expect(this.EOF),u(o,s,!1))},read_namespace_name:function(s){var o,u=this.node(),g=this.text();switch(this.token){case this.tok.T_NAME_RELATIVE:o=this.ast.name.RELATIVE_NAME,g=g.replace(/^namespace\\/,"");break;case this.tok.T_NAME_QUALIFIED:o=this.ast.name.QUALIFIED_NAME;break;case this.tok.T_NAME_FULLY_QUALIFIED:o=this.ast.name.FULL_QUALIFIED_NAME;break;default:if(o=this.ast.name.UNQUALIFIED_NAME,!this.expect(this.tok.T_STRING))return u("name","",this.ast.name.FULL_QUALIFIED_NAME)}if(this.next(),s||this.token!=="("){if(g.toLowerCase()==="parent")return u("parentreference",g);if(g.toLowerCase()==="self")return u("selfreference",g)}return u("name",g,o)},read_use_statement:function(){var s=this.node("usegroup"),o=[],u=null;this.expect(this.tok.T_USE)&&this.next();var g=this.read_use_type();return o.push(this.read_use_declaration(!1)),this.token===","?o=o.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(u=o[0].name,o=this.next().read_use_declarations(g===null),this.expect("}")&&this.next()),s=s(u,g,o),this.expect(";")&&this.next(),s},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(s){var o=this.node("useitem"),u=null;s&&(u=this.read_use_type());var g=this.read_namespace_name(),y=this.read_use_alias();return o(g.name,y,u)},read_use_declarations:function(s){for(var o=[this.read_use_declaration(s)];this.token===",";){if(this.next(),s){if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;o.push(this.read_use_declaration(s))}return o},read_use_alias:function(){var s=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){var o=this.node("identifier"),u=this.text();this.next(),s=o(u)}return s},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};me.read_namespace,me.read_namespace_name,me.read_use_statement,me.read_class_name_reference,me.read_use_declaration,me.read_use_declarations,me.read_use_alias,me.read_use_type;var V={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)},W={resolve_special_chars:function(s,o){return o?s.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,function(u,g,y){return V[g]?V[g]:g[0]==="x"||g[0]==="X"?String.fromCodePoint(parseInt(g.substr(1),16)):g[0]==="u"?String.fromCodePoint(parseInt(y,16)):String.fromCodePoint(parseInt(g,8))}):s.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(s,o,u,g){if(o===0)return s;this.check_heredoc_indentation_level(s,o,u,g);var y=u?" ":"	",S=new RegExp("\\n".concat(y,"{").concat(o,"}"),"g"),w=new RegExp("^".concat(y,"{").concat(o,"}"));return g&&(s=s.replace(w,"")),s.replace(S,`
`)},check_heredoc_indentation_level:function(s,o,u,g){var y=s.length,S=0,w=0,T=!0,U=u?" ":"	",M=!1;if(!g){if((S=s.indexOf(`
`))===-1)return;S++}for(;S<y;)T?s[S]===U?w++:M=!0:T=!1,s[S]!==`
`&&M&&w<o?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(o,")")):M=!1,s[S]===`
`&&(T=!0,w=0),S++},read_dereferencable_scalar:function(){var s=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:var o=this.node("string"),u=this.text(),g=0;u[0]!=="b"&&u[0]!=="B"||(g=1);var y=u[g]==='"';this.next(),o=o(y,this.resolve_special_chars(u.substring(g+1,u.length-1),y),g===1,u),s=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(o):o;break;case this.tok.T_ARRAY:case"[":s=this.read_array()}return s},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();var s,o;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:var u=this.node("number");return s=this.text(),this.next(),u(s,null);case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){var g=this.lexer.yylloc.first_offset;o=this.node("nowdoc"),s=this.next().text(),this.lexer.heredoc_label.indentation>0&&(s=s.substring(0,s.length-this.lexer.heredoc_label.indentation));var y=s[s.length-1];y===`
`?s=s[s.length-2]==="\r"?s.substring(0,s.length-2):s.substring(0,s.length-1):y==="\r"&&(s=s.substring(0,s.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();var S=this.lexer._input.substring(g,this.lexer.yylloc.first_offset);return o=o(this.remove_heredoc_leading_whitespace_chars(s,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),S,this.lexer.heredoc_label.label),this.lexer.heredoc_label.finished=!0,o}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:var w=this.error("SCALAR");return this.next(),w}},read_dereferencable:function(s){var o,u,g=this.node("offsetlookup");return this.token==="["?(u=this.next().read_expr(),this.expect("]")&&this.next(),o=g(s,u)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(o=g(s,u=this.read_encapsed_string_item(!1))),o},read_encapsed_string_item:function(s){var o,u,g,y=this.node("encapsedpart"),S=null,w=!1,T=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){var U=this.text();this.next(),T=T("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(U,s),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):U,!1,U)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(S="simple",w=!0,g=null,this.next().token===this.tok.T_STRING_VARNAME){g=this.node("variable");var M=this.text();this.next(),T.destroy(),this.token==="["?(g=g(M,!1),u=this.node("offsetlookup"),o=this.next().read_expr(),this.expect("]")&&this.next(),T=u(g,o)):T=g(M,!1)}else T=T("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)S="complex",T.destroy(),T=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(S="simple",T.destroy(),T=this.read_simple_variable(),this.token==="["&&(u=this.node("offsetlookup"),o=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),T=u(T,o)),this.token===this.tok.T_OBJECT_OPERATOR){u=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);var O=this.node("identifier");g=this.text(),this.next(),T=u(T,O(g))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);var Wt=this.text();this.next(),T.destroy(),T=T("string",!1,Wt,!1,Wt)}return this.lexer.heredoc_label.first_encaps_node=!1,y(T,S,w)},read_encapsed_string:function(s){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],u=this.lexer.yylloc.first_offset,g=this.node("encapsed");this.next();var y=this.lexer.yylloc.prev_offset-(o?1:0),S=[],w=null;for(w=s==="`"?this.ast.encapsed.TYPE_SHELL:s==='"'?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==s&&this.token!==this.EOF;)S.push(this.read_encapsed_string_item(!0));if(S.length>0&&S[S.length-1].kind==="encapsedpart"&&S[S.length-1].expression.kind==="string"){var T=S[S.length-1].expression,U=T.value[T.value.length-1];U===`
`?T.value[T.value.length-2]==="\r"?T.value=T.value.substring(0,T.value.length-2):T.value=T.value.substring(0,T.value.length-1):U==="\r"&&(T.value=T.value.substring(0,T.value.length-1))}this.expect(s)&&this.next();var M=this.lexer._input.substring(w==="heredoc"?u:y-1,this.lexer.yylloc.first_offset);return g=g(S,M,w),s===this.tok.T_END_HEREDOC&&(g.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),g},get_magic_constant:function(){var s=this.node("magic"),o=this.text();return this.next(),s(o.toUpperCase(),o)}};W.resolve_special_chars,W.remove_heredoc_leading_whitespace_chars,W.check_heredoc_indentation_level,W.read_dereferencable_scalar,W.read_scalar,W.read_dereferencable,W.read_encapsed_string_item,W.read_encapsed_string,W.get_magic_constant;var ot={read_top_statements:function(){for(var s=[];this.token!==this.EOF&&this.token!=="}";){var o=this.read_top_statement();o&&(Array.isArray(o)?s=s.concat(o):s.push(o))}return s},read_top_statement:function(){var s=[];switch(this.token===this.tok.T_ATTRIBUTE&&(s=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,s);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_READ_ONLY:case this.tok.T_CLASS:return this.read_class_declaration_statement(s);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(s);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement(s);case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:var o=this.node("constantstatement"),u=this.next().read_const_list();return this.expectEndOfStatement(),o(null,u);case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:var g=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,g(this.lexer._input.substring(this.lexer.offset));default:return this.read_statement()}},read_inner_statements:function(){for(var s=[];this.token!=this.EOF&&this.token!=="}";){var o=this.read_inner_statement();o&&(Array.isArray(o)?s=s.concat(o):s.push(o))}return s},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);var s=this.node("constant"),o=this.node("identifier"),u=this.text();return this.next(),o=o(u),this.expect("=")?s(o,this.next().read_expr()):s(o,null)},",",!1)},read_declare_list:function(){for(var s=[];this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);var o=this.node("declaredirective"),u=this.node("identifier"),g=this.text();this.next(),u=u(g);var y=null;if(this.expect("=")&&(y=this.next().read_expr()),s.push(o(u,y)),this.token!==",")break;this.next()}return s},read_inner_statement:function(){var s=[];switch(this.token===this.tok.T_ATTRIBUTE&&(s=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:var o=this.read_function(!1,!1);return o.attrGroups=s,o;case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement();case this.tok.T_HALT_COMPILER:this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");var u=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),u=u(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),u;default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:var s=this.node("return");this.next();var o=this.read_optional_expr(";");return this.expectEndOfStatement(),s(o);case this.tok.T_BREAK:case this.tok.T_CONTINUE:var u=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();var g=this.read_optional_expr(";");return this.expectEndOfStatement(),u(g);case this.tok.T_GLOBAL:var y=this.node("global"),S=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),y(S);case this.tok.T_STATIC:var w=[this.token,this.lexer.getState()],T=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(w);var U=this.next().read_expr();return this.expectEndOfStatement(U),T("expressionstatement",U)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);var M=this.read_variable_declarations();return this.expectEndOfStatement(),T("static",M);case this.tok.T_ECHO:var O=this.node("echo"),Wt=this.text(),Vt=Wt==="<?="||Wt==="<%=",ce=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),O(ce,Vt);case this.tok.T_INLINE_HTML:var xe=this.text(),Gt=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,Ce=Gt==="\r"||Gt===`
`;Ce&&Gt===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(Gt=`\r
`);var ie=this.node("inline");return this.next(),ie(xe,Ce?Gt+xe:xe);case this.tok.T_UNSET:var Pe=this.node("unset");this.next().expect("(")&&this.next();var Oe=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),Pe(Oe);case this.tok.T_DECLARE:var Ee,ne=this.node("declare"),be=[];this.next().expect("(")&&this.next();var Ge=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)be.push(this.read_top_statement());be.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&be.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),Ee=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)be.push(this.read_top_statement());be.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&be.push(this.node("noop")()),this.expect("}")&&this.next(),Ee=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),Ee=this.ast.declare.MODE_NONE;return ne(Ge,be,Ee);case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:var fn=this.node("throw"),xi=this.next().read_expr();return this.expectEndOfStatement(),fn(xi);case";":return this.next(),null;case this.tok.T_STRING:var lt=this.node(),ut=[this.token,this.lexer.getState()],zt=this.text(),Xt=this.node("identifier");if(this.next().token===":")return Xt=Xt(zt),this.next(),lt("label",Xt);Xt.destroy(),lt.destroy(),this.lexer.tokens.push(ut);var Mt=this.node("expressionstatement"),Ne=this.next().read_expr();return this.expectEndOfStatement(Ne),Mt(Ne);case this.tok.T_GOTO:var Be=this.node("goto"),ti=null;if(this.next().expect(this.tok.T_STRING)){ti=this.node("identifier");var vi=this.text();this.next(),ti=ti(vi),this.expectEndOfStatement()}return Be(ti);default:var he=this.node("expressionstatement"),Ye=this.read_expr();return this.expectEndOfStatement(Ye),he(Ye)}},read_code_block:function(s){var o=this.node("block");this.expect("{")&&this.next();var u=s?this.read_top_statements():this.read_inner_statements();return u.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&u.push(this.node("noop")()),this.expect("}")&&this.next(),o(null,u)}};ot.read_top_statements,ot.read_top_statement,ot.read_inner_statements,ot.read_const_list,ot.read_declare_list,ot.read_inner_statement,ot.read_statement,ot.read_code_block;var kt={read_switch:function(){var s=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();var o=this.read_expr();this.expect(")")&&this.next();var u=this.token===":";return s(o,this.read_switch_case_list(),u)},read_switch_case_list:function(){var s=null,o=this.node("block"),u=[];for(this.token==="{"?s="}":this.token===":"?s=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==s;)u.push(this.read_case_list(s));return u.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&u.push(this.node("noop")()),this.expect(s)&&this.next(),s===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),o(null,u)},read_case_list:function(s){var o=this.node("case"),u=null;this.token===this.tok.T_CASE?u=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();for(var g=this.node("block"),y=[];this.token!==this.EOF&&this.token!==s&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)y.push(this.read_inner_statement());return o(u,g(null,y))}};kt.read_switch,kt.read_switch_case_list,kt.read_case_list;var qt={read_try:function(){this.expect(this.tok.T_TRY);for(var s=this.node("try"),o=null,u=[],g=this.next().read_statement();this.token===this.tok.T_CATCH;){var y=this.node("catch");this.next().expect("(")&&this.next();var S=this.read_list(this.read_namespace_name,"|",!1),w=null;(this.version<800||this.token===this.tok.T_VARIABLE)&&(w=this.read_variable(!0,!1)),this.expect(")"),u.push(y(this.next().read_statement(),S,w))}return this.token===this.tok.T_FINALLY&&(o=this.next().read_statement()),s(g,u,o)}};qt.read_try;var at={read_short_form:function(s){var o=this.node("block"),u=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==s;)u.push(this.read_inner_statement());return u.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&u.push(this.node("noop")()),this.expect(s)&&this.next(),this.expectEndOfStatement(),o(null,u)},read_function_list:function(s,o){var u=[];do{if(this.token==o&&this.version>=703&&u.length>0){u.push(this.node("noop")());break}if(u.push(s.apply(this,[])),this.token!=o||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return u},read_list:function(s,o,u){var g=[];if(this.token==o&&(u&&g.push(typeof s=="function"?this.node("noop")():null),this.next()),typeof s=="function")do{var y=s.apply(this,[]);if(y&&g.push(y),this.token!=o)break}while(this.next().token!=this.EOF);else{if(!this.expect(s))return[];for(g.push(this.text());this.next().token!=this.EOF&&this.token==o&&this.next().token==s;)g.push(this.text())}return g},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(s){var o=this.node("byref");this.next(),o=o(null);var u=s();return u&&(this.ast.swapLocations(u,o,u,this),u.byref=!0),u},read_variable_declarations:function(){return this.read_list(function(){var s=this.node("staticvariable"),o=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){var u=this.text().substring(1);this.next(),o=o(u,!1)}else o=o("#ERR",!1);return this.token==="="?s(o,this.next().read_expr()):o},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}};at.read_short_form,at.read_function_list,at.read_list,at.read_name_list,at.read_byref,at.read_variable_declarations,at.read_extends_from,at.read_interface_extends_list,at.read_implements_list;var q={read_variable:function(s,o){var u;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,s,o));if(this.is([this.tok.T_VARIABLE,"$"]))u=this.read_reference_variable(o);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE])){u=this.node();var g=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(g.kind)===-1){var y=g.name.toLowerCase();y==="true"?u=g.destroy(u("boolean",!0,g.name)):y==="false"?u=g.destroy(u("boolean",!1,g.name)):y==="null"?u=g.destroy(u("nullkeyword",g.name)):(u.destroy(g),u=g)}else u.destroy(g),u=g}else if(this.token===this.tok.T_STATIC){u=this.node("staticreference");var S=this.text();this.next(),u=u(S)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(u=this.read_static_getter(u,o)),this.recursive_variable_chain_scan(u,s,o)},read_static_getter:function(s,o){var u,g,y=this.node("staticlookup");return this.next().is([this.tok.T_VARIABLE,"$"])?u=this.read_reference_variable(o):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(u=this.node("identifier"),g=this.text(),this.next(),u=u(g)):this.token==="{"?(u=this.node("literal"),g=this.next().read_expr(),this.expect("}")&&this.next(),u=u("literal",g,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),u=this.node("identifier"),g=this.text(),this.next(),u=u(g)),y(s,u)},read_what:function(){var s=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=null,u=null;switch(this.next().token){case this.tok.T_STRING:o=this.node("identifier"),u=this.text(),this.next(),o=o(u),s&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:o=this.node("variable"),u=this.text().substring(1),this.next(),o=o(u,!1);break;case"$":o=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(u=this.next().read_expr(),this.expect("}")&&this.next(),o=o("variable",u,!0)):o=o("variable",u=this.read_expr(),!1);break;case"{":o=this.node("encapsedpart"),u=this.next().read_expr(),this.expect("}")&&this.next(),o=o(u,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),o=this.node("identifier"),u=this.text(),this.next(),o=o(u)}return o},recursive_variable_chain_scan:function(s,o,u){var g,y;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(o)return s;s=this.node("call")(s,this.read_argument_list());break;case"[":case"{":var S=this.token==="[";g=this.node("offsetlookup"),this.next(),y=!1,u?(y=this.read_encaps_var_offset(),this.expect(S?"]":"}")&&this.next()):(S?this.token!=="]":this.token!=="}")?(y=this.read_expr(),this.expect(S?"]":"}")&&this.next()):this.next(),s=g(s,y);break;case this.tok.T_DOUBLE_COLON:s.kind==="staticlookup"&&s.offset.kind==="identifier"&&this.error(),s=(g=this.node("staticlookup"))(s,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:s=(g=this.node("propertylookup"))(s,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:s=(g=this.node("nullsafepropertylookup"))(s,this.read_what());break;default:break t}return s},read_encaps_var_offset:function(){var s=this.node();if(this.token===this.tok.T_STRING){var o=this.text();this.next(),s=s("identifier",o)}else if(this.token===this.tok.T_NUM_STRING){var u=this.text();this.next(),s=s("number",u,null)}else if(this.token==="-"){this.next();var g=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),s=s("number",g,null)}else if(this.token===this.tok.T_VARIABLE){var y=this.text().substring(1);this.next(),s=s("variable",y,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);var S=this.text();this.next(),s=s("identifier",S)}return s},read_reference_variable:function(s){for(var o,u=this.read_simple_variable();this.token!=this.EOF;){var g=this.node();if(this.token!="{"||s){g.destroy();break}o=this.next().read_expr(),this.expect("}")&&this.next(),u=g("offsetlookup",u,o)}return u},read_simple_variable:function(){var s,o=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)s=this.text().substring(1),this.next(),o=o(s,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":var u=this.next().read_expr();this.expect("}")&&this.next(),o=o(u,!0);break;case"$":o=o(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:s=this.text().substring(1);var g=this.node("variable");this.next(),o=o(g(s,!1),!1);break;default:this.error(["{","$",this.tok.T_VARIABLE]),s=this.text(),this.next(),o=o(s,!1)}return o}};function K(s){return s!="."&&s!=","&&!isNaN(parseFloat(s))&&isFinite(s)}q.read_variable,q.read_static_getter,q.read_what,q.recursive_variable_chain_scan,q.read_encaps_var_offset,q.read_reference_variable,q.read_simple_variable;var z=function(s,o){this.lexer=s,this.ast=o,this.tok=s.tok,this.EOF=s.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=801,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;var u=function(g){return[g,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_ENUM,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_READ_ONLY,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(u)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(u)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(u)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(u)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(u)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(u)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(u))}};z.prototype.getTokenName=function(s){return K(s)?s==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[s]:"'"+s+"'"},z.prototype.parse=function(s,o){this._errors=[],this.filename=o||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(s),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;var u=this.node("program"),g=[];for(this.next();this.token!=this.EOF;)g.push(this.read_start());g.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&g.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];var y=u(g,this._errors,this._docs,this._tokens);if(this.debug){var S=this.ast.checkNodes();if(S.length>0)throw S.forEach(function(w){w.position&&console.log("Node at line "+w.position.line+", column "+w.position.column),console.log(w.stack.join(`
`))}),new Error("Some nodes are not closed")}return y},z.prototype.raiseError=function(s,o,u,g){if(s+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){var y=new SyntaxError(s,this.filename,this.lexer.yylloc.first_line);throw y.lineNumber=this.lexer.yylloc.first_line,y.fileName=this.filename,y.columnNumber=this.lexer.yylloc.first_column,y}var S=this.ast.prepare("error",null,this)(s,g,this.lexer.yylloc.first_line,u);return this._errors.push(S),S},z.prototype.error=function(s){var o="Parse Error : syntax error",u=this.getTokenName(this.token),g="";if(this.token!==this.EOF){if(K(this.token)){var y=this.text();y.length>10&&(y=y.substring(0,7)+"..."),u="'"+y+"' ("+u+")"}o+=", unexpected "+u}return s&&!Array.isArray(s)&&((K(s)||s.length===1)&&(g=", expecting "+this.getTokenName(s)),o+=g),this.raiseError(o,g,s,u)},z.prototype.position=function(){return new Rt(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},z.prototype.node=function(s){if(this.extractDoc){var o=null;this._docIndex<this._docs.length&&(o=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+s)),console.log(o)));var u=this.ast.prepare(s,o,this);return u.postBuild=function(g){if(this._docIndex<this._docs.length)if(this._lastNode){for(var y=this.prev[2],S=this._docIndex;S<this._docs.length&&!(this._docs[S].offset>y);S++);S>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,S)),this._docIndex=S)}else this.token===this.EOF&&(g.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=g}.bind(this),u}return this.ast.prepare(s,null,this)},z.prototype.expectEndOfStatement=function(s){if(this.token===";")s&&this.lexer.yytext===";"&&s.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var st=["parser.next","parser.node","parser.showlog"];z.prototype.showlog=function(){for(var s,o=new Error().stack.split(`
`),u=2;u<o.length;u++){s=o[u].trim();for(var g=!1,y=0;y<st.length;y++)if(s.substring(3,3+st[y].length)===st[y]){g=!0;break}if(!g)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+s),this},z.prototype.expect=function(s){if(Array.isArray(s)){if(s.indexOf(this.token)===-1)return this.error(s),!1}else if(this.token!=s)return this.error(s),!1;return!0},z.prototype.text=function(){return this.lexer.yytext},z.prototype.next=function(){if(this.token===";"&&this.lexer.yytext!==";"||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},z.prototype.peek=function(){var s=this.lexer.getState(),o=this.lexer.lex();return this.lexer.setState(s),o},z.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;var s=this.lexer.yytext;if(s=Object.prototype.hasOwnProperty.call(this.lexer.engine.tokens.values,this.token)?[this.lexer.engine.tokens.values[this.token],s,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,s,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(s),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},z.prototype.is=function(s){return Array.isArray(s)?s.indexOf(this.token)!==-1:this.entries[s].has(this.token)},[Nt,Ct,Et,vt,dt,ct,ee,It,Qt,me,W,ot,kt,qt,at,q].forEach(function(s){for(var o in s){if(Object.prototype.hasOwnProperty.call(z.prototype,o))throw new Error("Function "+o+" is already defined - collision");z.prototype[o]=s[o]}});var ft=z,ht={T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238,T_ENUM:239,T_READ_ONLY:240,T_NAME_RELATIVE:241,T_NAME_QUALIFIED:242,T_NAME_FULLY_QUALIFIED:243},$={values:Object.entries(ht).reduce(function(s,o){var u=x(o,2),g=u[0],y=u[1];return a(a({},s),{},f({},y,g))},{}),names:ht},pt=Object.freeze($),Pt=function(s,o,u){this.source=s,this.start=o,this.end=u},Yt=function(s,o,u){this.kind=s,o&&(this.leadingComments=o),u&&(this.loc=u)};Yt.prototype.setTrailingComments=function(s){this.trailingComments=s},Yt.prototype.destroy=function(s){if(!s)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(s.leadingComments?s.leadingComments=Array.concat(this.leadingComments,s.leadingComments):s.leadingComments=this.leadingComments),this.trailingComments&&(s.trailingComments?s.trailingComments=Array.concat(this.trailingComments,s.trailingComments):s.trailingComments=this.trailingComments),s},Yt.prototype.includeToken=function(s){return this.loc&&(this.loc.end&&(this.loc.end.line=s.lexer.yylloc.last_line,this.loc.end.column=s.lexer.yylloc.last_column,this.loc.end.offset=s.lexer.offset),s.ast.withSource&&(this.loc.source=s.lexer._input.substring(this.loc.start.offset,s.lexer.offset))),this},Yt.extends=function(s,o){return o.prototype=Object.create(this.prototype),o.extends=this.extends,o.prototype.constructor=o,o.kind=s,o};var xt=Yt,wt="expression",it=xt.extends(wt,function(s,o,u){xt.apply(this,[s||wt,o,u])}),te="array",Bt=it.extends(te,function(s,o,u,g){it.apply(this,[te,u,g]),this.items=o,this.shortForm=s}),Qe="arrowfunc",Ai=it.extends(Qe,function(s,o,u,g,y,S,w,T){it.apply(this,[Qe,w,T]),this.arguments=s,this.byref=o,this.body=u,this.type=g,this.nullable=y,this.isStatic=S||!1}),ii="assign",je=it.extends(ii,function(s,o,u,g,y){it.apply(this,[ii,g,y]),this.left=s,this.right=o,this.operator=u}),$e="assignref",en=it.extends($e,function(s,o,u,g){it.apply(this,[$e,u,g]),this.left=s,this.right=o}),un="attribute",qn=xt.extends(un,function(s,o,u,g){xt.apply(this,[un,u,g]),this.name=s,this.args=o}),Tt="attrgroup",ls=xt.extends(Tt,function(s,o,u){xt.apply(this,[Tt,o,u]),this.attrs=s||[]}),zn="operation",We=it.extends(zn,function(s,o,u){it.apply(this,[s||zn,o,u])}),Jn=We.extends("bin",function(s,o,u,g,y){We.apply(this,["bin",g,y]),this.type=s,this.left=o,this.right=u}),Si="statement",Ot=xt.extends(Si,function(s,o,u){xt.apply(this,[s||Si,o,u])}),I="block",b=Ot.extends(I,function(s,o,u,g){Ot.apply(this,[s||I,u,g]),this.children=o.filter(Boolean)}),A="literal",D=it.extends(A,function(s,o,u,g,y){it.apply(this,[s||A,g,y]),this.value=o,u&&(this.raw=u)}),E="boolean",N=D.extends(E,function(s,o,u,g){D.apply(this,[E,s,o,u,g])}),R="break",G=Ot.extends(R,function(s,o,u){Ot.apply(this,[R,o,u]),this.level=s}),X="byref",tt=it.extends(X,function(s,o,u){it.apply(this,[X,o,u]),this.what=s}),mt="call",Ut=it.extends(mt,function(s,o,u,g){it.apply(this,[mt,u,g]),this.what=s,this.arguments=o}),$t="case",re=Ot.extends($t,function(s,o,u,g){Ot.apply(this,[$t,u,g]),this.test=s,this.body=o}),ge="cast",_e=We.extends(ge,function(s,o,u,g,y){We.apply(this,[ge,g,y]),this.type=s,this.raw=o,this.expr=u}),ve="catch",fi=Ot.extends(ve,function(s,o,u,g,y){Ot.apply(this,[ve,g,y]),this.body=s,this.what=o,this.variable=u}),ke="declaration",Di=Ot.extends(ke,function(s,o,u,g){Ot.apply(this,[s||ke,u,g]),this.name=o});Di.prototype.parseFlags=function(s){this.isAbstract=s[2]===1,this.isFinal=s[2]===2,this.isReadonly=s[3]===1,this.kind!=="class"&&(s[0]===-1?this.visibility="":s[0]===null?this.visibility=null:s[0]===0?this.visibility="public":s[0]===1?this.visibility="protected":s[0]===2&&(this.visibility="private"),this.isStatic=s[1]===1)};var Fe=Di,Ni="class",cs=Fe.extends(Ni,function(s,o,u,g,y,S,w){Fe.apply(this,[Ni,s,S,w]),this.isAnonymous=!s,this.extends=o,this.implements=u,this.body=g,this.attrGroups=[],this.parseFlags(y)}),ze="constantstatement",jn=Ot.extends(ze,function(s,o,u,g){Ot.apply(this,[s||ze,u,g]),this.constants=o}),Cn="classconstant",Yn=jn.extends(Cn,function(s,o,u,g,y,S){jn.apply(this,[s||Cn,o,y,S]),this.parseFlags(u),this.attrGroups=g});Yn.prototype.parseFlags=function(s){s[0]===-1?this.visibility="":s[0]===null?this.visibility=null:s[0]===0?this.visibility="public":s[0]===1?this.visibility="protected":s[0]===2&&(this.visibility="private")};var Ha=Yn,ro="clone",Va=it.extends(ro,function(s,o,u){it.apply(this,[ro,o,u]),this.what=s}),Cr="closure",se=it.extends(Cr,function(s,o,u,g,y,S,w,T){it.apply(this,[Cr,w,T]),this.uses=u,this.arguments=s,this.byref=o,this.type=g,this.nullable=y,this.isStatic=S||!1,this.body=null,this.attrGroups=[]}),Ze=xt.extends("comment",function(s,o,u,g){xt.apply(this,[s,u,g]),this.value=o}),fs="commentblock",oo=Ze.extends(fs,function(s,o,u){Ze.apply(this,[fs,s,o,u])}),ao="commentline",Xs=Ze.extends(ao,function(s,o,u){Ze.apply(this,[ao,s,o,u])}),Ps="constant",jt=xt.extends(Ps,function(s,o,u,g){xt.apply(this,[Ps,u,g]),this.name=s,this.value=o}),Re="continue",_i=Ot.extends(Re,function(s,o,u){Ot.apply(this,[Re,o,u]),this.level=s}),Ie="declare",pi=b.extends(Ie,function(s,o,u,g,y){b.apply(this,[Ie,o,g,y]),this.directives=s,this.mode=u});pi.MODE_SHORT="short",pi.MODE_BLOCK="block",pi.MODE_NONE="none";var bn=pi,ki="declaredirective",Xn=xt.extends(ki,function(s,o,u,g){xt.apply(this,[ki,u,g]),this.key=s,this.value=o}),Ri=Ot.extends("do",function(s,o,u,g){Ot.apply(this,["do",u,g]),this.test=s,this.body=o}),qi="echo",ni=Ot.extends(qi,function(s,o,u,g){Ot.apply(this,[qi,u,g]),this.shortForm=o,this.expressions=s}),Ii="empty",ho=it.extends(Ii,function(s,o,u){it.apply(this,[Ii,o,u]),this.expression=s}),oi="encapsed",An=D.extends(oi,function(s,o,u,g,y){D.apply(this,[oi,s,o,g,y]),this.type=u});An.TYPE_STRING="string",An.TYPE_SHELL="shell",An.TYPE_HEREDOC="heredoc",An.TYPE_OFFSET="offset";var Os=An,ln="encapsedpart",Ks=it.extends(ln,function(s,o,u,g,y){it.apply(this,[ln,g,y]),this.expression=s,this.syntax=o,this.curly=u}),Kn="entry",OT=it.extends(Kn,function(s,o,u,g,y,S){it.apply(this,[Kn,y,S]),this.key=s,this.value=o,this.byRef=u,this.unpack=g}),mu="enum",wT=Fe.extends(mu,function(s,o,u,g,y,S){Fe.apply(this,[mu,s,y,S]),this.valueType=o,this.implements=u,this.body=g,this.attrGroups=[]}),gu="enumcase",LT=xt.extends(gu,function(s,o,u,g){xt.apply(this,[gu,u,g]),this.name=s,this.value=o}),_u="error",FT=xt.extends(_u,function(s,o,u,g,y,S){xt.apply(this,[_u,y,S]),this.message=s,this.token=o,this.line=u,this.expected=g}),xu="eval",RT=it.extends(xu,function(s,o,u){it.apply(this,[xu,o,u]),this.source=s}),vu="exit",BT=it.extends(vu,function(s,o,u,g){it.apply(this,[vu,u,g]),this.expression=s,this.useDie=o}),Eu="expressionstatement",MT=Ot.extends(Eu,function(s,o,u){Ot.apply(this,[Eu,o,u]),this.expression=s}),UT=Ot.extends("for",function(s,o,u,g,y,S,w){Ot.apply(this,["for",S,w]),this.init=s,this.test=o,this.increment=u,this.shortForm=y,this.body=g}),yu="foreach",HT=Ot.extends(yu,function(s,o,u,g,y,S,w){Ot.apply(this,[yu,S,w]),this.source=s,this.key=o,this.value=u,this.shortForm=y,this.body=g}),ku="function",Wa=Fe.extends(ku,function(s,o,u,g,y,S,w){Fe.apply(this,[ku,s,S,w]),this.arguments=o,this.byref=u,this.type=g,this.nullable=y,this.body=null,this.attrGroups=[]}),Tu="global",VT=Ot.extends(Tu,function(s,o,u){Ot.apply(this,[Tu,o,u]),this.items=s}),Cu="goto",WT=Ot.extends(Cu,function(s,o,u){Ot.apply(this,[Cu,o,u]),this.label=s}),bu="halt",GT=Ot.extends(bu,function(s,o,u){Ot.apply(this,[bu,o,u]),this.after=s}),Au="identifier",qT=xt.extends(Au,function(s,o,u){xt.apply(this,[Au,o,u]),this.name=s}),zT=qT,JT=Ot.extends("if",function(s,o,u,g,y,S){Ot.apply(this,["if",y,S]),this.test=s,this.body=o,this.alternate=u,this.shortForm=g}),Su="include",jT=it.extends(Su,function(s,o,u,g,y){it.apply(this,[Su,g,y]),this.once=s,this.require=o,this.target=u}),Du="inline",YT=D.extends(Du,function(s,o,u,g){D.apply(this,[Du,s,o,u,g])}),Nu="interface",XT=Fe.extends(Nu,function(s,o,u,g,y,S){Fe.apply(this,[Nu,s,y,S]),this.extends=o,this.body=u,this.attrGroups=g}),Iu="intersectiontype",KT=Fe.extends(Iu,function(s,o,u){Fe.apply(this,[Iu,null,o,u]),this.types=s}),Pu="isset",QT=it.extends(Pu,function(s,o,u){it.apply(this,[Pu,o,u]),this.variables=s}),Ou="label",$T=Ot.extends(Ou,function(s,o,u){Ot.apply(this,[Ou,o,u]),this.name=s}),wu="list",ZT=it.extends(wu,function(s,o,u,g){it.apply(this,[wu,u,g]),this.items=s,this.shortForm=o}),Lu="lookup",Qn=it.extends(Lu,function(s,o,u,g,y){it.apply(this,[s||Lu,g,y]),this.what=o,this.offset=u}),Fu="magic",t0=D.extends(Fu,function(s,o,u,g){D.apply(this,[Fu,s,o,u,g])}),Ru="match",e0=it.extends(Ru,function(s,o,u,g){it.apply(this,[Ru,u,g]),this.cond=s,this.arms=o}),Bu="matcharm",i0=it.extends(Bu,function(s,o,u,g){it.apply(this,[Bu,u,g]),this.conds=s,this.body=o}),Mu="method",n0=Wa.extends(Mu,function(){Wa.apply(this,arguments),this.kind=Mu}),Uu="reference",xn=xt.extends(Uu,function(s,o,u){xt.apply(this,[s||Uu,o,u])}),Hu="name",br=xn.extends(Hu,function(s,o,u,g){xn.apply(this,[Hu,u,g]),this.name=s.replace(/\\$/,""),this.resolution=o});br.UNQUALIFIED_NAME="uqn",br.QUALIFIED_NAME="qn",br.FULL_QUALIFIED_NAME="fqn",br.RELATIVE_NAME="rn";var s0=br,Vu="namespace",r0=b.extends(Vu,function(s,o,u,g,y){b.apply(this,[Vu,o,g,y]),this.name=s,this.withBrackets=u||!1}),Wu="namedargument",o0=it.extends(Wu,function(s,o,u,g){it.apply(this,[Wu,u,g]),this.name=s,this.value=o}),a0=it.extends("new",function(s,o,u,g){it.apply(this,["new",u,g]),this.what=s,this.arguments=o}),Gu="noop",h0=xt.extends(Gu,function(s,o){xt.apply(this,[Gu,s,o])}),qu="nowdoc",u0=D.extends(qu,function(s,o,u,g,y){D.apply(this,[qu,s,o,g,y]),this.label=u}),zu="nullkeyword",l0=xt.extends(zu,function(s,o,u){xt.apply(this,[zu,o,u]),this.raw=s}),Ju="nullsafepropertylookup",c0=Qn.extends(Ju,function(s,o,u,g){Qn.apply(this,[Ju,s,o,u,g])}),ju="number",f0=D.extends(ju,function(s,o,u,g){D.apply(this,[ju,s,o,u,g])}),Yu="offsetlookup",p0=Qn.extends(Yu,function(s,o,u,g){Qn.apply(this,[Yu,s,o,u,g])}),Xu="parameter",d0=Fe.extends(Xu,function(s,o,u,g,y,S,w,T,U,M){Fe.apply(this,[Xu,s,U,M]),this.value=u,this.type=o,this.byref=g,this.variadic=y,this.readonly=S,this.nullable=w,this.flags=T||0,this.attrGroups=[]}),Ku="parentreference",m0=xn.extends(Ku,function(s,o,u){xn.apply(this,[Ku,o,u]),this.raw=s}),Qu="post",g0=We.extends(Qu,function(s,o,u,g){We.apply(this,[Qu,u,g]),this.type=s,this.what=o}),_0=We.extends("pre",function(s,o,u,g){We.apply(this,["pre",u,g]),this.type=s,this.what=o}),$u="print",x0=it.extends($u,function(s,o,u){it.apply(this,[$u,o,u]),this.expression=s}),Zu="program",v0=b.extends(Zu,function(s,o,u,g,y,S){b.apply(this,[Zu,s,y,S]),this.errors=o,u&&(this.comments=u),g&&(this.tokens=g)}),tl="property",E0=Ot.extends(tl,function(s,o,u,g,y,S,w,T){Ot.apply(this,[tl,w,T]),this.name=s,this.value=o,this.readonly=u,this.nullable=g,this.type=y,this.attrGroups=S}),el="propertylookup",y0=Qn.extends(el,function(s,o,u,g){Qn.apply(this,[el,s,o,u,g])}),il="propertystatement",nl=Ot.extends(il,function(s,o,u,g,y){Ot.apply(this,[il,g,y]),this.properties=o,this.parseFlags(u)});nl.prototype.parseFlags=function(s){s[0]===-1?this.visibility="":s[0]===null?this.visibility=null:s[0]===0?this.visibility="public":s[0]===1?this.visibility="protected":s[0]===2&&(this.visibility="private"),this.isStatic=s[1]===1};var k0=nl,sl="retif",T0=it.extends(sl,function(s,o,u,g,y){it.apply(this,[sl,g,y]),this.test=s,this.trueExpr=o,this.falseExpr=u}),rl="return",C0=Ot.extends(rl,function(s,o,u){Ot.apply(this,[rl,o,u]),this.expr=s}),ol="selfreference",b0=xn.extends(ol,function(s,o,u){xn.apply(this,[ol,o,u]),this.raw=s}),al="silent",A0=it.extends(al,function(s,o,u){it.apply(this,[al,o,u]),this.expr=s}),hl="static",S0=Ot.extends(hl,function(s,o,u){Ot.apply(this,[hl,o,u]),this.variables=s}),ul="staticvariable",D0=xt.extends(ul,function(s,o,u,g){xt.apply(this,[ul,u,g]),this.variable=s,this.defaultValue=o}),ll="staticlookup",N0=Qn.extends(ll,function(s,o,u,g){Qn.apply(this,[ll,s,o,u,g])}),cl="staticreference",I0=xn.extends(cl,function(s,o,u){xn.apply(this,[cl,o,u]),this.raw=s}),fl="string",P0=D.extends(fl,function(s,o,u,g,y,S){D.apply(this,[fl,o,g,y,S]),this.unicode=u,this.isDoubleQuote=s}),pl="switch",O0=Ot.extends(pl,function(s,o,u,g,y){Ot.apply(this,[pl,g,y]),this.test=s,this.body=o,this.shortForm=u}),dl="throw",w0=Ot.extends(dl,function(s,o,u){Ot.apply(this,[dl,o,u]),this.what=s}),ml="trait",L0=Fe.extends(ml,function(s,o,u,g){Fe.apply(this,[ml,s,u,g]),this.body=o}),gl="traitalias",F0=xt.extends(gl,function(s,o,u,g,y,S){xt.apply(this,[gl,y,S]),this.trait=s,this.method=o,this.as=u,this.visibility="",g&&(g[0]===0?this.visibility="public":g[0]===1?this.visibility="protected":g[0]===2&&(this.visibility="private"))}),_l="traitprecedence",R0=xt.extends(_l,function(s,o,u,g,y){xt.apply(this,[_l,g,y]),this.trait=s,this.method=o,this.instead=u}),xl="traituse",B0=xt.extends(xl,function(s,o,u,g){xt.apply(this,[xl,u,g]),this.traits=s,this.adaptations=o}),M0=Ot.extends("try",function(s,o,u,g,y){Ot.apply(this,["try",g,y]),this.body=s,this.catches=o,this.always=u}),vl="typereference",El=xn.extends(vl,function(s,o,u,g){xn.apply(this,[vl,u,g]),this.name=s,this.raw=o});El.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var U0=El,yl="unary",H0=We.extends(yl,function(s,o,u,g){We.apply(this,[yl,u,g]),this.type=s,this.what=o}),kl="uniontype",V0=Fe.extends(kl,function(s,o,u){Fe.apply(this,[kl,null,o,u]),this.types=s}),Tl="unset",W0=Ot.extends(Tl,function(s,o,u){Ot.apply(this,[Tl,o,u]),this.variables=s}),Cl="usegroup",G0=Ot.extends(Cl,function(s,o,u,g,y){Ot.apply(this,[Cl,g,y]),this.name=s,this.type=o,this.items=u}),bl="useitem",Ga=Ot.extends(bl,function(s,o,u,g,y){Ot.apply(this,[bl,g,y]),this.name=s,this.alias=o,this.type=u});Ga.TYPE_CONST="const",Ga.TYPE_FUNCTION="function";var q0=Ga,Al="variable",z0=it.extends(Al,function(s,o,u,g){it.apply(this,[Al,u,g]),this.name=s,this.curly=o||!1}),Sl="variadic",J0=it.extends(Sl,function(s,o,u){it.apply(this,[Sl,o,u]),this.what=s}),Dl="variadicplaceholder",j0=xt.extends(Dl,function(s,o){xt.apply(this,[Dl,s,o])}),Nl="while",Y0=Ot.extends(Nl,function(s,o,u,g,y){Ot.apply(this,[Nl,g,y]),this.test=s,this.body=o,this.shortForm=u}),Il="yield",X0=it.extends(Il,function(s,o,u,g){it.apply(this,[Il,u,g]),this.value=s,this.key=o}),Pl="yieldfrom",K0=it.extends(Pl,function(s,o,u){it.apply(this,[Pl,o,u]),this.value=s}),Pi=function(s,o){this.withPositions=s,this.withSource=o};Pi.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(s,o){s.forEach(function(u){Pi.precedence[u]=o+1})}),Pi.prototype.isRightAssociative=function(s){return s==="**"||s==="??"},Pi.prototype.swapLocations=function(s,o,u,g){this.withPositions&&(s.loc.start=o.loc.start,s.loc.end=u.loc.end,this.withSource&&(s.loc.source=g.lexer._input.substring(s.loc.start.offset,s.loc.end.offset)))},Pi.prototype.resolveLocations=function(s,o,u,g){this.withPositions&&(s.loc.start.offset>o.loc.start.offset&&(s.loc.start=o.loc.start),s.loc.end.offset<u.loc.end.offset&&(s.loc.end=u.loc.end),this.withSource&&(s.loc.source=g.lexer._input.substring(s.loc.start.offset,s.loc.end.offset)))},Pi.prototype.resolvePrecedence=function(s,o){var u,g,y;return s.kind==="call"?this.resolveLocations(s,s.what,s,o):s.kind==="propertylookup"||s.kind==="staticlookup"||s.kind==="offsetlookup"&&s.offset?this.resolveLocations(s,s.what,s.offset,o):s.kind==="bin"?s.right&&!s.right.parenthesizedExpression&&(s.right.kind==="bin"?(g=Pi.precedence[s.type],y=Pi.precedence[s.right.type],g&&y&&y<=g&&(s.type!==s.right.type||!this.isRightAssociative(s.type))&&(u=s.right,s.right=s.right.left,this.swapLocations(s,s.left,s.right,o),u.left=this.resolvePrecedence(s,o),this.swapLocations(u,u.left,u.right,o),s=u)):s.right.kind==="retif"&&(g=Pi.precedence[s.type],y=Pi.precedence["?"],g&&y&&y<=g&&(u=s.right,s.right=s.right.test,this.swapLocations(s,s.left,s.right,o),u.test=this.resolvePrecedence(s,o),this.swapLocations(u,u.test,u.falseExpr,o),s=u))):s.kind!=="silent"&&s.kind!=="cast"||!s.expr||s.expr.parenthesizedExpression?s.kind==="unary"?s.what&&!s.what.parenthesizedExpression&&(s.what.kind==="bin"?(u=s.what,s.what=s.what.left,this.swapLocations(s,s,s.what,o),u.left=this.resolvePrecedence(s,o),this.swapLocations(u,u.left,u.right,o),s=u):s.what.kind==="retif"&&(u=s.what,s.what=s.what.test,this.swapLocations(s,s,s.what,o),u.test=this.resolvePrecedence(s,o),this.swapLocations(u,u.test,u.falseExpr,o),s=u)):s.kind==="retif"?s.falseExpr&&s.falseExpr.kind==="retif"&&!s.falseExpr.parenthesizedExpression&&(u=s.falseExpr,s.falseExpr=u.test,this.swapLocations(s,s.test,s.falseExpr,o),u.test=this.resolvePrecedence(s,o),this.swapLocations(u,u.test,u.falseExpr,o),s=u):s.kind==="assign"?s.right&&s.right.kind==="bin"&&!s.right.parenthesizedExpression&&(g=Pi.precedence["="],y=Pi.precedence[s.right.type],g&&y&&y<g&&(u=s.right,s.right=s.right.left,u.left=s,this.swapLocations(u,u.left,s.right,o),s=u)):s.kind==="expressionstatement"&&this.swapLocations(s,s.expression,s,o):s.expr.kind==="bin"?(u=s.expr,s.expr=s.expr.left,this.swapLocations(s,s,s.expr,o),u.left=this.resolvePrecedence(s,o),this.swapLocations(u,u.left,u.right,o),s=u):s.expr.kind==="retif"&&(u=s.expr,s.expr=s.expr.test,this.swapLocations(s,s,s.expr,o),u.test=this.resolvePrecedence(s,o),this.swapLocations(u,u.test,u.falseExpr,o),s=u),s},Pi.prototype.prepare=function(s,o,u){var g=null;(this.withPositions||this.withSource)&&(g=u.position());var y=this,S=function w(){var T=null,U=Array.prototype.slice.call(arguments);if(U.push(o),y.withPositions||y.withSource){var M=null;y.withSource&&(M=u.lexer._input.substring(g.offset,u.prev[2])),T=new Pt(M,g,new Rt(u.prev[0],u.prev[1],u.prev[2])),U.push(T)}s||(s=U.shift());var O=y[s];if(typeof O!="function")throw new Error('Undefined node "'+s+'"');var Wt=Object.create(O.prototype);return O.apply(Wt,U),w.instance=Wt,w.trailingComments&&(Wt.trailingComments=w.trailingComments),typeof w.postBuild=="function"&&w.postBuild(Wt),u.debug&&delete y.stack[w.stackUid],y.resolvePrecedence(Wt,u)};return u.debug&&(this.stack||(this.stack={},this.stackUid=1),this.stack[++this.stackUid]={position:g,stack:new Error().stack.split(`
`).slice(3,5)},S.stackUid=this.stackUid),S.setTrailingComments=function(w){S.instance?S.instance.setTrailingComments(w):S.trailingComments=w},S.destroy=function(w){o&&(w?w.leadingComments?w.leadingComments=o.concat(w.leadingComments):w.leadingComments=o:u._docIndex=u._docs.length-o.length),u.debug&&delete y.stack[S.stackUid]},S},Pi.prototype.checkNodes=function(){var s=[];for(var o in this.stack)Object.prototype.hasOwnProperty.call(this.stack,o)&&(this.stack[o].key=o,s.push(this.stack[o]));return this.stack={},s},[Bt,Ai,je,en,qn,ls,Jn,b,N,G,tt,Ut,re,_e,fi,cs,Ha,Va,se,Ze,oo,Xs,jt,jn,_i,Fe,bn,Xn,Ri,ni,ho,Os,Ks,OT,wT,LT,FT,RT,BT,it,MT,UT,HT,Wa,VT,WT,GT,zT,JT,jT,YT,XT,KT,QT,$T,ZT,D,Qn,t0,e0,i0,n0,s0,r0,o0,a0,xt,h0,u0,l0,c0,f0,p0,We,d0,m0,g0,_0,x0,v0,E0,y0,k0,xn,T0,C0,b0,A0,Ot,S0,D0,N0,I0,P0,O0,w0,L0,F0,R0,B0,M0,U0,H0,V0,W0,G0,q0,z0,J0,j0,Y0,X0,K0].forEach(function(s){Pi.prototype[s.kind]=s});var Ol=Pi;function qa(s,o){for(var u=Object.keys(s),g=u.length;g--;){var y=u[g],S=s[y];S===null?delete o[y]:typeof S=="function"?o[y]=S.bind(o):Array.isArray(S)?o[y]=Array.isArray(o[y])?o[y].concat(S):S:c(S)==="object"?o[y]=c(o[y])==="object"?qa(S,o[y]):S:o[y]=S}return o}var zi=function(s){if(typeof this=="function")return new this(s);if(this.tokens=pt,this.lexer=new yt(this),this.ast=new Ol,this.parser=new ft(this.lexer,this.ast),s&&c(s)==="object"){if(s.parser&&(s.lexer||(s.lexer={}),s.parser.version)){if(typeof s.parser.version=="string"){var o=s.parser.version.split(".");if(o=100*parseInt(o[0])+parseInt(o[1]),isNaN(o))throw new Error("Bad version number : "+s.parser.version);s.parser.version=o}else if(typeof s.parser.version!="number")throw new Error("Expecting a number for version");if(s.parser.version<500||s.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}qa(s,this),this.lexer.version=this.parser.version}},za=function(s){return typeof s.write=="function"?s.toString():s};zi.create=function(s){return new zi(s)},zi.parseEval=function(s,o){return new zi(o).parseEval(s)},zi.prototype.parseEval=function(s){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,s=za(s),this.parser.parse(s,"eval")},zi.parseCode=function(s,o,u){return c(o)!=="object"||u||(u=o,o="unknown"),new zi(u).parseCode(s,o)},zi.prototype.parseCode=function(s,o){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,s=za(s),this.parser.parse(s,o)},zi.tokenGetAll=function(s,o){return new zi(o).tokenGetAll(s)},zi.prototype.tokenGetAll=function(s){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,s=za(s);var o=this.lexer.EOF,u=this.tokens.values;this.lexer.setInput(s);for(var g=this.lexer.lex()||o,y=[];g!=o;){var S=this.lexer.yytext;Object.prototype.hasOwnProperty.call(u,g)&&(S=[u[g],S,this.lexer.yylloc.first_line]),y.push(S),g=this.lexer.lex()||o}return y};var ps=zi,Q0=pt,$0=yt,Z0=Ol,tC=ft,eC=qa,iC=zi,nC=zi;ps.tokens=Q0,ps.lexer=$0,ps.AST=Z0,ps.parser=tC,ps.combine=eC,ps.Engine=iC,ps.default=nC;var wl=function(s,o,u){var g=u&&u.parentParser==="markdown";if(!s&&g)return"";s=s.replace(/\?>\n<\?/g,`?>
___PSEUDO_INLINE_PLACEHOLDER___<?`);var y,S=new ps({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),w=s.indexOf("<?php")!==-1,T=g&&!w;try{y=T?S.parseEval(s):S.parseCode(s)}catch(U){throw U instanceof SyntaxError&&"lineNumber"in U&&(U.loc={start:{line:U.lineNumber,column:U.columnNumber}},delete U.lineNumber,delete U.columnNumber),U}return y.extra={parseAsEval:T},y.comments.forEach(function(U){U.value[U.value.length-1]===`
`&&(U.value=U.value.slice(0,-1),U.loc.end.offset=U.loc.end.offset-1)}),y},Qs=i.default.util,sC=Qs.hasNewline,rC=Qs.skipEverythingButNewLine,oC=Qs.skipNewline,aC=Qs.isNextLineEmpty,hC=Qs.isPreviousLineEmpty,uC=Qs.getNextNonSpaceNonCommentCharacterIndex,lC=i.default.version;function Ja(s,o){return parseInt(lC[0])>1?s[o]:s}var Ll={};function ja(s){return Ll[s]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach(function(s,o){s.forEach(function(u){Ll[u]=o})});var Fl=["==","!=","===","!==","<>","<=>"],uo=["*","/","%"],Ya=[">>","<<"];function Rl(s){return["block","program","namespace","class","enum","interface","trait","traituse","declare"].includes(s.kind)}function Bl(s){var o=s.body;return o?(o.kind==="block"&&(o=o.children),o[0]):null}function ds(s){var o=s.children||s.body||s.adaptations;return Array.isArray(o)?o:null}function Ml(s){var o=s.getParentNode();return o?ds(o):null}function lo(s){return s.length>0?s[s.length-1]:null}function Xa(s){var o=s.getValue();if(o.kind==="program"){var u=ds(o);return!(!u||u.length===0)&&u[0].kind==="inline"}if(o.kind==="switch"){if(!o.body)return!1;var g=ds(o.body);if(g.length===0)return!1;var y=x(g,1)[0];if(!y.body)return!1;var S=ds(y.body);return S.length!==0&&S[0].kind==="inline"}var w=Bl(o);return!!w&&w.kind==="inline"}var Ul=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce(function(s,o){return s[o.toLowerCase()]=o,s},{}),ue={printNumber:function(s){return s.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")},getPrecedence:ja,isBitwiseOperator:function(s){return!!Ya[s]||s==="|"||s==="^"||s==="&"},shouldFlatten:function(s,o){return ja(o)===ja(s)&&s!=="**"&&(!Fl.includes(s)||!Fl.includes(o))&&!(o==="%"&&uo.includes(s)||s==="%"&&uo.includes(o))&&(o===s||!uo.includes(o)||!uo.includes(s))&&(!Ya.includes(s)||!Ya.includes(o))},nodeHasStatement:Rl,getNodeListProperty:ds,getParentNodeListProperty:Ml,getLast:lo,getPenultimate:function(s){return s.length>1?s[s.length-2]:null},isLastStatement:function(s){var o=Ml(s);if(!o)return!0;var u=s.getValue();return o[o.length-1]===u},getBodyFirstChild:Bl,lineShouldEndWithSemicolon:function(s){var o=s.getValue(),u=s.getParentNode();if(!u)return!1;if(["for","foreach","while","do","if","switch"].includes(u.kind)&&o.kind!=="block"&&o.kind!=="if"&&(u.body===o||u.alternate===o))return!0;if(!Rl(u)||o.kind==="echo"&&o.shortForm)return!1;if(o.kind==="traituse")return!o.adaptations;if(o.kind==="method"&&o.isAbstract)return!0;if(o.kind==="method"){var g=s.getParentNode();if(g&&g.kind==="interface")return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","enumcase","global","static","echo","unset","return","break","continue","throw"].includes(o.kind)},fileShouldEndWithHardline:function(s){var o=s.getValue(),u=o.kind==="program",g=o.children&&lo(o.children);if(!u||g&&["halt","inline"].includes(g.kind))return!1;if(g&&(g.kind==="declare"||g.kind==="namespace")){var y=g.children.length>0&&lo(g.children);if(y&&["halt","inline"].includes(y.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(s){var o=s.replace(/^\\/,"");return o.indexOf("\\")!==-1?o:s},hasDanglingComments:function(s){return s.comments&&s.comments.some(function(o){return!o.leading&&!o.trailing})},hasLeadingComment:function(s){return s.comments&&s.comments.some(function(o){return o.leading})},hasTrailingComment:function(s){return s.comments&&s.comments.some(function(o){return o.trailing})},docShouldHaveTrailingNewline:function s(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=o.getNode(u),y=o.getNode(u+1),S=o.getNode(u+2);if(!y)return!1;if(S&&["call","new","echo"].includes(S.kind)&&!["call","array"].includes(y.kind)||y.kind==="parameter"){var w=S.arguments.length-1,T=S.arguments.indexOf(y);return T!==w}if(S&&S.kind==="for"){var U=S.init.indexOf(y);if(U!==-1)return U!==S.init.length-1;var M=S.test.indexOf(y);if(M!==-1)return M!==S.test.length-1;var O=S.increment.indexOf(y);if(O!==-1)return O!==S.increment.length-1}if(y.kind==="bin")return y.left===g||s(o,u+1);if(y.kind==="case"&&y.test===g)return!0;if(y.kind==="staticvariable"){var Wt=S.variables.length-1,Vt=S.variables.indexOf(y);return Vt!==Wt}if(y.kind==="entry"){if(y.key===g)return!0;var ce=S.items.length-1,xe=S.items.indexOf(y);return xe!==ce}if(["call","new"].includes(y.kind)){var Gt=y.arguments.length-1,Ce=y.arguments.indexOf(g);return Ce!==Gt}if(y.kind==="echo"){var ie=y.expressions.length-1,Pe=y.expressions.indexOf(g);return Pe!==ie}if(y.kind==="array"){var Oe=y.items.length-1,Ee=y.items.indexOf(g);return Ee!==Oe}return y.kind==="retif"&&s(o,u+1)},isLookupNode:function(s){return s.kind==="propertylookup"||s.kind==="nullsafepropertylookup"||s.kind==="staticlookup"||s.kind==="offsetlookup"},isFirstChildrenInlineNode:Xa,shouldPrintHardLineAfterStartInControlStructure:function(s){var o=s.getValue();return!["try","catch"].includes(o.kind)&&Xa(s)},shouldPrintHardLineBeforeEndInControlStructure:function(s){var o=s.getValue();if(["try","catch"].includes(o.kind))return!0;if(o.kind==="switch"){var u=ds(o.body);if(u.length===0)return!0;var g=lo(u);if(!g.body)return!0;var y=ds(g.body);return y.length===0||y[0].kind!=="inline"}return!Xa(s)},getAlignment:function(s){var o=s.split(`
`).pop();return o.length-o.trimLeft().length+1},isProgramLikeNode:function(s){return["program","declare","namespace"].includes(s.kind)},isReferenceLikeNode:function(s){return["name","parentreference","selfreference","staticreference"].includes(s.kind)},getNodeKindIncludingLogical:function(s){return s.kind==="bin"&&["||","&&"].includes(s.type)?"logical":s.kind},useDoubleQuote:function(s,o){if(s.isDoubleQuote===o.singleQuote){var u=s.raw.slice(s.raw[0]==="b"?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return s.isDoubleQuote?u:!u}return s.isDoubleQuote},hasEmptyBody:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"body",u=s.getValue();return u[o]&&u[o].children&&u[o].children.length===0&&(!u[o].comments||u[o].comments.length===0)},isNextLineEmptyAfterNamespace:function(s,o,u){var g=u(o);return g=rC(s,g),g=oC(s,g),sC(s,g)},shouldPrintHardlineBeforeTrailingComma:function(s){return s.kind==="nowdoc"||s.kind==="encapsed"&&s.type==="heredoc"||s.kind==="entry"&&(s.value.kind==="nowdoc"||s.value.kind==="encapsed"&&s.value.type==="heredoc")},isDocNode:function(s){return s.kind==="nowdoc"||s.kind==="encapsed"&&s.type==="heredoc"},getAncestorNode:function(s,o){var u=function(g,y){for(var S,w=[].concat(y),T=-1;S=g.getParentNode(++T);)if(w.indexOf(S.kind)!==-1)return T;return-1}(s,o);return u===-1?null:s.getParentNode(u)},getNextNode:function(s,o){var u=s.getParentNode(),g=ds(u);if(!g)return null;var y=g.indexOf(o);return y===-1?null:u.children[y+1]},normalizeMagicMethodName:function(s){var o=s.toLowerCase();return Ul[o]?Ul[o]:s},isPreviousLineEmpty:function(s,o,u){return hC(s,o,Ja(u,"locStart"))},isNextLineEmpty:function(s,o,u){return aC(s,o,Ja(u,"locEnd"))},getNextNonSpaceNonCommentCharacterIndex:function(s,o,u){return uC(s,o,Ja(u,"locEnd"))}},$s=i.default.util,vn=$s.addLeadingComment,Ji=$s.addDanglingComment,En=$s.addTrailingComment,cC=$s.skipNewline,co=$s.hasNewline,fC=$s.hasNewlineInRange,Zs=i.default.doc.builders,Hl=Zs.join,pC=Zs.indent,Sn=Zs.hardline,Vl=Zs.cursor,Wl=Zs.lineSuffix,dC=Zs.breakParent,Ar=ue.getNextNonSpaceNonCommentCharacterIndex,mC=ue.isNextLineEmpty,gC=ue.isPreviousLineEmpty,_C=ue.isLookupNode;function fo(s,o){var u=s.children;u.length===0?Ji(s,o):vn(u[0],o)}function Ka(s,o){s.kind==="block"?fo(s,o):vn(s,o)}function Gl(s,o,u,g,y,S){var w=Ar(s,y,S),T=s.charAt(w);return o&&o.kind==="identifier"&&u&&(u.kind==="function"||u.kind==="method")&&T===")"?(En(u,y),!0):!(!u||u.kind!=="function"&&u.kind!=="method"||!g||g.kind!=="block")&&(fo(g,y),!0)}function Qa(s,o,u,g,y,S){if(!u||u.kind!=="if"||!g)return!1;var w=Ar(s,y,S);return s.charAt(w)===")"?(En(o,y),!0):o===u.body&&g===u.alternate?(Ji(u,y),!0):g.kind==="if"?(Ka(g.body,y),!0):u.body===g&&(vn(g,y),!0)}function $a(s,o,u){if(s&&["class","interface","trait"].includes(s.kind)){if(o&&s.extends){if(Array.isArray(s.extends)){if(s.extends.some(function(g){if(o&&o===g)return Ji(o,u),!0}))return!0}else if(o===s.extends)return Ji(o,u),!0}if(o&&s.implements&&s.implements.some(function(g){if(o&&o===g)return Ji(o,u),!0}))return!0;if(!(s.body&&s.body.length>0))return Ji(s,u),!0}return!!(o&&o.kind==="class"&&o.isAnonymous&&o.leadingComments&&u.kind==="commentblock")}function Za(s,o,u,g,y){if(o&&(o.kind==="function"||o.kind==="method")){for(var S=0,w=0;w<o.arguments.length;w++)S=y.locEnd(o.arguments[w])>S?y.locEnd(o.arguments[w]):S;var T=o.body&&y.locStart(g)>S&&y.locEnd(g)<y.locStart(o.body),U=Ar(s,g,y);if(o.type&&T&&s.charAt(U)!==")")return y.locEnd(g)<y.locStart(o.type)?(Ji(o.type,g),!0):(En(o.type,g),!0)}return!1}function th(s,o,u,g,y){return!(!u||!["function","method","parameter"].includes(u.kind))&&o.kind==="typereference"&&g.kind==="identifier"&&(En(o,y),!0)}function ql(s,o){return!(!s||!["label","goto"].includes(s.kind))&&(En(s,o),!0)}function eh(s,o,u,g){return u&&u.kind==="inline"?(u.leadingComments||(u.leadingComments=[]),u.leadingComments.includes(g)||u.leadingComments.push(g),!0):!(s||u||!o||o.kind!=="inline")&&(Ji(o,g),!0)}function zl(s,o,u){return!(!s||s.kind!=="try"||!o)&&(o.kind==="block"?(fo(o,u),!0):o.kind==="try"?(Ka(o.always,u),!0):o.kind==="catch"&&(Ka(o.body,u),!0))}function Jl(s,o,u,g){return u||o||!s||s.kind!=="namespace"||s.withBrackets?!(o||!s||s.kind!=="namespace"||s.withBrackets)&&(Ji(s,g),!0):(En(s,g),!0)}function jl(s,o,u,g){return!(!s||s.kind!=="declare")&&(!o||o.kind!=="noop")&&(u&&s.directives[0]!==u?!(!u||!o)&&(vn(u,g),!0):(s.mode==="none"?En(s,g):Ji(s,g),!0))}function ih(s,o,u,g,y,S){if(!u||u.kind!=="while"||!g)return!1;var w=Ar(s,y,S);return s.charAt(w)===")"?(En(o,y),!0):g.kind==="block"&&(fo(g,y),!0)}function nh(s,o){return s.getValue().printed=!0,o.printer.printComment(s,o)}function Yl(s,o,u){return s.getNode()===o.cursorNode&&s.getValue()?[Vl,u,Vl]:u}var oe={handleOwnLineComment:function(s,o,u){var g=s.precedingNode,y=s.enclosingNode,S=s.followingNode;return Gl(o,g,y,S,s,u)||function(w,T,U){return w&&_C(w)&&T&&["identifier","variable","encapsed"].includes(T.kind)?(vn(w,U),!0):!1}(y,S,s)||Qa(o,g,y,S,s,u)||ih(o,g,y,S,s,u)||zl(y,S,s)||$a(y,S,s)||th(o,g,y,S,s)||Za(o,y,S,s,u)||function(w,T,U,M){return!U&&w&&(w.kind==="for"||w.kind==="foreach")?(w.body&&w.body.kind!=="block"?vn(U,M):vn(w,M),!0):!1}(y,0,S,s)||eh(y,g,S,s)||jl(y,g,S,s)},handleEndOfLineComment:function(s,o,u){var g=s.precedingNode,y=s.enclosingNode,S=s.followingNode;return function(w,T,U,M,O){return!T&&!M&&U&&U.kind==="array"?(En(U,O),!0):!1}(0,g,y,S,s)||function(w,T,U,M,O){return U&&U.kind==="return"&&!U.expr?(En(U,O),!0):!1}(0,0,y,0,s)||Gl(o,g,y,S,s,u)||function(w,T,U,M,O,Wt){var Vt=T&&!fC(O,Wt.locEnd(T),Wt.locStart(M));return(!T||!Vt)&&w&&w.kind==="retif"&&U?(vn(U,M),!0):!1}(y,g,S,s,o,u)||Qa(o,g,y,S,s,u)||ih(o,g,y,S,s,u)||zl(y,S,s)||$a(y,S,s)||th(o,g,y,S,s)||Za(o,y,S,s,u)||function(w,T){return w&&w.kind==="entry"?(vn(w,T),!0):!1}(y,s)||function(w,T,U){return T&&T.kind==="call"&&w&&T.what===w&&T.arguments.length>0?(vn(T.arguments[0],U),!0):!1}(g,y,s)||function(w,T,U){if(w&&w.kind==="assign"&&T){var M=w.loc.start.offset+w.loc.source.indexOf("=");if(U.loc.start.offset>M)return vn(T,U),!0}return!1}(y,S,s)||eh(y,g,S,s)||Jl(y,g,S,s)||jl(y,g,S,s)||ql(y,s)},handleRemainingComment:function(s,o,u){var g=s.precedingNode,y=s.enclosingNode,S=s.followingNode;return Qa(o,g,y,S,s,u)||ih(o,g,y,S,s,u)||function(w,T,U,M){var O=Ar(w,U,M);return w.charAt(O)!==")"?!1:T&&(T.kind==="function"||T.kind==="closure"||T.kind==="method"||T.kind==="call"||T.kind==="new")&&T.arguments.length===0?(Ji(T,U),!0):!1}(o,y,s,u)||$a(y,S,s)||function(w,T,U){return w&&w.kind==="traituse"&&w.adaptations&&!w.adaptations.length?(Ji(w,U),!0):!1}(y,0,s)||th(o,g,y,S,s)||Za(o,y,S,s,u)||ql(y,s)||function(w,T,U,M){return T&&T.kind==="halt"?(Ji(T,M),!0):w&&w.kind==="halt"?(Ji(w,M),!0):!1}(g,y,0,s)||function(w,T){return w&&(w.kind==="continue"||w.kind==="break")&&!w.label?(En(w,T),!0):!1}(y,s)||eh(y,g,S,s)||Jl(y,g,S,s)},getCommentChildNodes:function(s){return c(s)!=="object"?[]:function(o){return Object.keys(o).filter(function(u){return u!=="kind"&&u!=="loc"&&u!=="errors"&&u!=="extra"&&u!=="comments"&&u!=="leadingComments"&&u!=="enclosingNode"&&u!=="precedingNode"&&u!=="followingNode"}).map(function(u){return o[u]})}(s)},canAttachComment:function(s){return s.kind&&s.kind!=="commentblock"&&s.kind!=="commentline"},isBlockComment:function(s){return s.kind==="commentblock"},printDanglingComments:function(s,o,u,g){var y=[],S=s.getValue();return S&&S.comments?(s.each(function(w){var T=w.getValue();!T||T.leading||T.trailing||g&&!g(T)||y.push(nh(w,o))},"comments"),y.length===0?"":u?Hl(Sn,y):pC([Sn,Hl(Sn,y)])):""},hasLeadingComment:function(s){return s.comments&&s.comments.some(function(o){return o.leading})},hasTrailingComment:function(s){return s.comments&&s.comments.some(function(o){return o.trailing})},hasLeadingOwnLineComment:function(s,o,u){return o.comments&&o.comments.some(function(g){return g.leading&&co(s,u.locEnd(g))})},printComments:function(s,o){var u=[];return s.forEach(function(g,y,S){g.printed=!0;var w=S.length===y+1;u.push(g.value),w||u.push(Sn),mC(o.originalText,g,o)&&!w&&u.push(Sn)}),u},printAllComments:function(s,o,u,g){var y=s.getValue(),S=o(s),w=y&&y.comments;if(!w||w.length===0)return Yl(s,u,S);var T=[],U=[g?";":"",S];return s.each(function(M){var O=M.getValue(),Wt=O.leading,Vt=O.trailing;if(Wt){var ce=function(Gt,Ce,ie){var Pe=Gt.getValue(),Oe=nh(Gt,ie);return Oe?ie.printer.isBlockComment&&ie.printer.isBlockComment(Pe)?[Oe,co(ie.originalText,ie.locEnd(Pe))?Sn:" "]:[Oe,Sn]:""}(M,0,u);if(!ce)return;T.push(ce);var xe=u.originalText;co(xe,cC(xe,u.locEnd(O)))&&T.push(Sn)}else Vt&&U.push(function(Gt,Ce,ie){var Pe=Gt.getValue(),Oe=nh(Gt,ie);if(!Oe)return"";var Ee=ie.printer.isBlockComment&&ie.printer.isBlockComment(Pe);if(co(ie.originalText,ie.locStart(Pe),{backwards:!0})){var ne=gC(ie.originalText,Pe,ie);return Wl([Sn,ne?Sn:"",Oe])}return Ee?[" ",Oe]:[Wl([" ",Oe]),Ee?"":dC]}(M,0,u))},"comments"),Yl(s,u,T.concat(U))}};function Xl(){}Xl.strictEqual=function(){};var xC=Xl,Kl=ue.getPrecedence,vC=ue.shouldFlatten,EC=ue.isBitwiseOperator,Ql=function(s){var o=s.getParentNode();if(!o)return!1;var u=s.getName(),g=s.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(o.kind))return!1;switch(g.kind){case"pre":case"post":if(o.kind==="unary")return g.kind==="pre"&&(g.type==="+"&&o.type==="+"||g.type==="-"&&o.type==="-");case"unary":switch(o.kind){case"unary":return g.type===o.type&&(g.type==="+"||g.type==="-");case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return u==="what"&&o.what===g;case"bin":return o.type==="**"&&u==="left";default:return!1}case"bin":switch(o.kind){case"assign":case"retif":return["and","xor","or"].includes(g.type);case"silent":case"cast":return g.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":return u==="what"&&o.what===g;case"bin":var y=o.type,S=Kl(y),w=g.type,T=Kl(w);return S>T||y==="||"&&w==="&&"||(S===T&&u==="right"?(xC.strictEqual(o.right,g),!0):S===T&&!vC(y,w)||(S<T&&w==="%"?y==="+"||y==="-":!!EC(y)));default:return!1}case"propertylookup":case"nullsafepropertylookup":case"staticlookup":return o.kind==="call"&&u==="what"&&o.what===g&&g.parenthesizedExpression;case"clone":case"new":switch(o.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return u==="what"&&o.what===g;default:return!1}case"yield":switch(o.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return u==="what"&&o.what===g;case"retif":return o.test===g;default:return!(!g.key&&!g.value)}case"assign":return(o.kind!=="for"||!o.init.includes(g)&&!o.increment.includes(g))&&o.kind!=="assign"&&o.kind!=="static"&&!["if","do","while","foreach","switch"].includes(o.kind)&&o.kind!=="silent"&&o.kind!=="call";case"retif":switch(o.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!(u==="test"&&!o.trueExpr);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return u==="what"&&o.what===g;default:return!1}case"closure":switch(o.kind){case"call":return u==="what"&&o.what===g;case"propertylookup":case"nullsafepropertylookup":return!0;default:return!1}case"silence":case"cast":return g.parenthesizedExpression;case"string":case"array":switch(o.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(g.kind)||o.kind!=="offsetlookup")&&u==="what"&&o.what===g;default:return!1}case"print":case"include":return o.kind==="bin"}return!1},ji=i.default.doc.builders,$l=ji.breakParent,di=ji.join,Te=ji.line,yC=ji.lineSuffix,Lt=ji.group,tr=ji.conditionalGroup,Ht=ji.indent,kC=ji.dedent,ms=ji.ifBreak,At=ji.hardline,ae=ji.softline,er=ji.literalline,TC=ji.align,CC=ji.dedentToRoot,gs=i.default.doc.utils.willBreak,sh=i.default.util,bC=sh.isNextLineEmptyAfterIndex,AC=sh.hasNewline,Zl=sh.hasNewlineInRange,_s=ue.getLast,SC=ue.getPenultimate,tc=ue.isLastStatement,DC=ue.lineShouldEndWithSemicolon,NC=ue.printNumber,ec=ue.shouldFlatten,ic=ue.maybeStripLeadingSlashFromUse,IC=ue.fileShouldEndWithHardline,nn=ue.hasDanglingComments,nc=ue.hasLeadingComment,sc=ue.hasTrailingComment,rc=ue.docShouldHaveTrailingNewline,Yi=ue.isLookupNode,rh=ue.isFirstChildrenInlineNode,PC=ue.shouldPrintHardLineAfterStartInControlStructure,OC=ue.shouldPrintHardLineBeforeEndInControlStructure,wC=ue.getAlignment,oh=ue.isProgramLikeNode,ir=ue.getNodeKindIncludingLogical,LC=ue.useDoubleQuote,oc=ue.hasEmptyBody,FC=ue.isNextLineEmptyAfterNamespace,ac=ue.shouldPrintHardlineBeforeTrailingComma,ah=ue.isDocNode,hh=ue.getAncestorNode,uh=ue.isReferenceLikeNode,RC=ue.getNextNode,BC=ue.normalizeMagicMethodName,MC=ue.getNextNonSpaceNonCommentCharacterIndex,ws=ue.isNextLineEmpty;function nr(s,o){return parseFloat(s)>=parseFloat(o)}function Sr(s,o){return!!s.trailingCommaPHP&&nr(s.phpVersion,o)}function lh(s){return s.braceStyle!=="1tbs"}function ch(s,o,u){var g=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return[g?"?":"","->",s.call(u,"offset")]}function hc(s,o,u){return ch(s,o,u,!0)}function uc(s,o,u){var g=s.getValue(),y=!["variable","identifier"].includes(g.offset.kind);return["::",y?"{":"",s.call(u,"offset"),y?"}":""]}function lc(s,o,u){var g=s.getValue(),y=g.offset&&g.offset.kind==="number"||hh(s,"encapsed");return["[",g.offset?Lt([Ht([y?"":ae,s.call(u,"offset")]),y?"":ae]):"","]"]}function cc(s){return s.kind==="array"&&(s.items.length>0||s.comments)||s.kind==="function"||s.kind==="method"||s.kind==="closure"}function UC(s){var o=_s(s),u=SC(s);return!nc(o)&&!sc(o)&&cc(o)&&(!u||u.kind!==o.kind)}function HC(s){if(s.length!==2)return!1;var o=x(s,2),u=o[0],g=o[1];return!(u.comments&&u.comments.length||u.kind!=="function"&&u.kind!=="method"&&u.kind!=="closure"||g.kind==="retif"||cc(g))}function Dn(s,o,u){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"arguments",y=s.getValue()[g];if(y.length===0)return["(",oe.printDanglingComments(s,o,!0),")"];var S=!1,w=!1,T=y.length-1,U=s.map(function(Ee,ne){var be=Ee.getNode(),Ge=[u(Ee)];return ne===T||(ws(o.originalText,be,o)?(ne===0&&(w=!0),S=!0,Ge.push(",",At,At)):Ge.push(",",Te)),Ge},g),M=s.getValue(),O=_s(y),Wt=Sr(o,"7.3")&&["call","new","unset","isset"].includes(M.kind)||Sr(o,"8.0")&&["function","closure","method","arrowfunc","attribute"].includes(M.kind)?Ht([O&&ac(O)?At:"",","]):"";function Vt(){return Lt(["(",Ht([Te].concat(d(U))),Wt,Te,")"],{shouldBreak:!0})}var ce=HC(y),xe=UC(y);if(ce||xe){var Gt,Ce=(ce?U.slice(1).some(gs):U.slice(0,-1).some(gs))||S,ie=0;s.each(function(Ee){ce&&ie===0&&(Gt=[Ee.call(function(ne){return u(ne,{expandFirstArg:!0})}),U.length>1?",":"",w?At:Te,w?At:"",U.slice(1)]),xe&&ie===y.length-1&&(Gt=[].concat(d(U.slice(0,-1)),[Ee.call(function(ne){return u(ne,{expandLastArg:!0})})])),ie++},g);var Pe=U.some(gs),Oe=["("].concat(d(Gt),[")"]);return[Pe?$l:"",tr([Pe?ms(Vt(),Oe):Oe,ce?["(",Lt(Gt[0],{shouldBreak:!0})].concat(d(Gt.slice(1)),[")"]):["("].concat(d(U.slice(0,-1)),[Lt(_s(Gt),{shouldBreak:!0}),")"]),Lt(["(",Ht([Te].concat(d(U))),ms(Wt),Te,")"],{shouldBreak:!0})],{shouldBreak:Ce})]}return Lt(["(",Ht([ae].concat(d(U))),ms(Wt),ae,")"],{shouldBreak:U.some(gs)||S})}function fc(s){return s.kind==="array"&&s.items.length!==0}function Dr(s){return s.right.kind==="array"&&s.right.items.length!==0}function pc(s,o,u,g,y){var S=[],w=s.getValue();if(w.kind==="bin"){ec(w.type,w.left.type)?S=S.concat(s.call(function(Wt){return pc(Wt,o,u,!0,y)},"left")):S.push(s.call(o,"left"));var T=Dr(w)?[w.type," ",s.call(o,"right")]:[w.type,Te,s.call(o,"right")],U=s.getParentNode(),M=!(y&&["||","&&"].includes(w.type))&&ir(U)!==ir(w)&&ir(w.left)!==ir(w)&&ir(w.right)!==ir(w),O=ah(w.left)||w.left.kind==="bin"&&ah(w.left.right);S.push(O?"":" ",M?Lt(T):T),g&&w.comments&&(S=oe.printAllComments(s,function(){return S},u))}else S.push(s.call(o));return S}function dc(s,o,u){var g=s.getValue();switch(g.kind){case"propertylookup":return ch(s,o,u);case"nullsafepropertylookup":return hc(s,o,u);case"staticlookup":return uc(s,0,u);case"offsetlookup":return lc(s,0,u);default:return"Have not implemented lookup kind ".concat(g.kind," yet.")}}function mc(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=o.opening,g=u===void 0||u;if(s.type==="heredoc")return g?"<<<".concat(s.label):s.label;var y={string:'"',shell:"`"};return y[s.type]?y[s.type]:"Unimplemented encapsed type ".concat(s.type)}function VC(s,o,u){var g=[],y=[];return s.each(function(S){g.push(y),g.push(Lt(u(S))),y=[",",Te],S.getValue()&&ws(o.originalText,S.getValue(),o)&&y.push(ae)},"items"),g}function WC(s,o){if(o.length===0)return s;var u=0;return o.reduce(function(g,y){var S=y.start,w=y.end,T=y.alignment,U=y.before,M=y.after,O=[U||""].concat(d(s.slice(S,w)),[M||""]),Wt=g.concat(s.slice(u,S),T?CC(Lt(TC(new Array(T).join(" "),O))):Lt(O),w===s.length-1?s.slice(w):"");return u=w,Wt},[])}function Nr(s,o,u){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children",y=s.getValue(),S=s.getParentNode(),w=-1,T=[],U=[];s.map(function(Ee,ne){var be=Ee.getValue(),Ge=be.kind==="inline",fn=u(Ee),xi=y[g],lt=xi[ne+1],ut=!tc(Ee)&&!Ge&&(lt&&lt.kind==="case"?!rh(s):lt&&lt.kind!=="inline"),zt=[fn,ut?At:"",ut&&ws(o.originalText,be,o)?At:""],Xt=ne===0,Mt=xi.length-1===ne,Ne=y.kind==="block"&&S&&["function","closure","method","try","catch"].includes(S.kind),Be=Ne&&Xt?"":" ";if(Ge||!Ge&&Mt&&w>=0){var ti=w;if(Ge&&(w=ne),Ge&&!Xt||!Ge&&Mt){var vi=(Ge?ti:w)+1,he=Mt&&!Ge?ne+1:ne,Ye=xi[Ge?ti:w],Bi=Ye?wC(Ye.raw):"",vs=he-vi>1,Es=vs?Ne&&!Ye||oh(y)&&vi===0?"":At:"",pn=vs&&be.kind!=="halt"?Ne&&Mt?"":At:"";vs&&(Be=""),U.push({start:vi,end:he,alignment:Bi,before:Es,after:pn})}}if(Ge){var sn=lt&&lt.kind==="echo"&&lt.shortForm?"<?=":"<?php",Eo=be.leadingComments&&be.leadingComments.length?[Xt&&y.kind!=="namespace"&&!Ne?"<?php":"",y.kind!=="namespace"&&Ne?"":At,oe.printComments(be.leadingComments,o),At,"?>"]:oh(y)&&Xt&&y.kind!=="namespace"?"":[Be,"?>"],Zn=s.getNode(ne+1),rr=Zn&&Zn.children&&Zn.children.length;zt=[Eo,zt,be.comments&&be.comments.length?[sn,At,rr?oe.printComments(be.comments,o):"",At]:oh(y)&&Mt?"":[sn," "]]}T.push(zt)},g);var M=WC(T,U);if(y.kind==="program"&&!y.extra.parseAsEval){var O=[],Wt=x(y.children,1),Vt=Wt[0],ce=!Vt||Vt.kind!=="inline";if(ce){var xe=o.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),Gt=[xe&&xe[2]&&xe[2].includes(`
`)?[At,xe[2].split(`
`).length>2?At:""]:" ",y.comments?oe.printComments(y.comments,o):""],Ce=Vt&&Vt.kind==="echo"&&Vt.shortForm;O.push([Ce?"<?=":"<?php",Gt])}O.push(M);var ie=/\?>\n?$/.test(o.originalText);if(ie){var Pe=_s(y.children),Oe=Pe?[Zl(o.originalText.trimEnd(),o.locEnd(Pe),o.locEnd(y))?Pe.kind==="inline"&&Pe.comments&&Pe.comments.length?"":At:" ",ws(o.originalText,Pe,o)?At:""]:y.comments?At:"";O.push(yC([Oe,"?>"]))}return O}return M}function gc(s,o,u,g){return s.map(function(y){var S=[];return S.push(u(y)),tc(y)||(S.push(At),ws(o.originalText,y.getValue(),o)&&S.push(At)),S},g)}function cn(s,o,u){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"extends",y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:" ",S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:" ",w=s.getValue(),T=nn(w[g])?[At,s.call(function(M){return oe.printDanglingComments(M,o,!0)},g),At]:y,U=Array.isArray(w[g])?Lt(di(",",s.map(function(M){var O=u(M);return nn(M.getValue())?[At,oe.printDanglingComments(M,o,!0),At,O]:[S,O]},g))):[S,s.call(u,g)];return Ht([T,g,gs(T)?Ht(U):U])}function xs(s,o,u){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=g.inline,S=y!==void 0&&y,w=[];return s.getValue().attrGroups?(s.each(function(T){var U=["#["];!S&&w.length>0&&w.push(At),U.push(ae),T.each(function(M){var O=M.getValue();U.length>2&&U.push(",",Te);var Wt=[O.name];O.args.length>0&&Wt.push(Dn(M,o,u,"args")),U.push(Lt(Wt))},"attrs"),w.push(Lt([Ht(U),ms(Sr(o,"8.0")?",":""),ae,"]",S?ms(ae," "):""]))},"attrGroups"),w.length===0?[]:[].concat(w,[S?"":At])):[]}function $n(s,o,u){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"body",y=s.getValue();if(!y[g])return";";var S=s.call(u,g);return[y.shortForm?":":" {",Ht(y[g].kind!=="block"||y[g].children&&y[g].children.length>0||y[g].comments&&y[g].comments.length>0?[PC(s)?y.kind==="switch"?" ":"":At,S]:""),y.kind==="if"&&g==="body"?"":[OC(s)?At:"",y.shortForm?["end",y.kind,";"]:"}"]]}function po(s,o,u,g,y,S,w){if(!g)return o;var T=mo(s,g,y,S,w);return Lt([o,u,T])}function _c(s){return!!Yi(s)&&(!(s.what.kind!=="variable"&&!uh(s.what))||_c(s.what))}function mo(s,o,u,g,y){var S=g?"&":"";if(oe.hasLeadingOwnLineComment(y.originalText,o,y))return Ht([At,S,u]);var w=o.kind==="cast"?o.expr:o;return w.kind==="bin"&&!Dr(w)||w.kind==="retif"&&(!w.trueExpr&&!fc(w.falseExpr)||w.test.kind==="bin"&&!Dr(w.test))||(s.kind==="variable"||s.kind==="string"||Yi(s))&&(w.kind==="string"&&!xc(w)||_c(w))?Lt(Ht([Te,S,u])):[" ",S,u]}function xc(s){return s.raw.includes(`
`)}function go(s,o,u){return(s.kind==="string"||s.kind==="encapsed"&&(s.type==="string"||s.type==="shell"))&&xc(s)&&!AC(o,u.locStart(s),{backwards:!0})}function vc(s,o,u){return Lt(s.map(function(g,y){return y===0?[s.call(o)]:[u,s.call(o)]},"types"))}var GC=function(s,o,u){var g=s.getValue();if(!g)return"";if(typeof g=="string")return g;var y=function(T,U,M){var O=T.getValue();switch(O.kind){case"program":return Lt([Nr(T,U,M),oe.printDanglingComments(T,U,!0,function(gt){return!gt.printed})]);case"expressionstatement":return T.call(M,"expression");case"block":return[Nr(T,U,M),oe.printDanglingComments(T,U,!0)];case"declare":var Wt=function(gt){return di(", ",gt.map(function(Zt){return M(Zt)},"directives"))};if(["block","short"].includes(O.mode))return["declare(",Wt(T),")",O.mode==="block"?" {":":",O.children.length>0?Ht([At,Nr(T,U,M)]):"",oe.printDanglingComments(T,U),At,O.mode==="block"?"}":"enddeclare;"];var Vt=RC(T,O);return["declare(",Wt(T),")",Vt&&Vt.kind==="inline"?"":";"];case"declaredirective":return[T.call(M,"key"),"=",T.call(M,"value")];case"namespace":return["namespace ",O.name&&typeof O.name=="string"?[O.name,O.withBrackets?" ":""]:"",O.withBrackets?"{":";",nn(O)?[" ",oe.printDanglingComments(T,U,!0)]:"",O.children.length>0?O.withBrackets?Ht([At,Nr(T,U,M)]):[O.children[0].kind==="inline"?"":[At,FC(U.originalText,O,U.locStart)?At:""],Nr(T,U,M)]:"",O.withBrackets?[At,"}"]:""];case"usegroup":return Lt(["use ",O.type?[O.type," "]:"",Ht([O.name?[ic(O.name),"\\{",ae]:"",di([",",Te],T.map(function(gt){return M(gt)},"items"))]),O.name?[ms(Sr(U,"7.2")?",":""),ae,"}"]:""]);case"useitem":return[O.type?[O.type," "]:"",ic(O.name),nn(O)?[" ",oe.printDanglingComments(T,U,!0)]:"",O.alias?[" as ",T.call(M,"alias")]:""];case"class":case"enum":case"interface":case"trait":return function(gt,Zt,de){var bt=gt.getValue(),Mi=bt.kind==="class"&&bt.isAnonymous,ai=xs(gt,Zt,de,{inline:Mi}),mi=Mi?[]:d(ai);bt.isReadonly&&mi.push("readonly "),bt.isFinal&&mi.push("final "),bt.isAbstract&&mi.push("abstract "),mi.push(Mi?"":bt.kind),bt.name&&mi.push(" ",gt.call(de,"name")),bt.kind==="enum"&&bt.valueType&&mi.push(": ",gt.call(de,"valueType")),bt.extends&&bt.implements?mi.push(tr([[cn(gt,Zt,de,"extends"),cn(gt,Zt,de,"implements")],[cn(gt,Zt,de,"extends"),cn(gt,Zt,de,"implements"," ",At)],[cn(gt,Zt,de,"extends",At," "),cn(gt,Zt,de,"implements",At,bt.implements.length>1?At:" ")]],{shouldBreak:nn(bt.extends)})):(bt.extends&&mi.push(tr([cn(gt,Zt,de,"extends"),cn(gt,Zt,de,"extends"," ",At),cn(gt,Zt,de,"extends",At,bt.extends.length>1?At:" ")])),bt.implements&&mi.push(tr([cn(gt,Zt,de,"implements"),cn(gt,Zt,de,"implements"," ",At),cn(gt,Zt,de,"implements",At,bt.implements.length>1?At:" ")])));var rn=Lt([Lt(mi),lh(Zt)?Mi?Te:At:" "]),Ue=bt.body&&bt.body.length===0&&!nn(bt),Oi=["{",Ht([Ue?"":At,gc(gt,Zt,de,"body")]),oe.printDanglingComments(gt,Zt,!0),Mi&&Ue?ae:At,"}"];return[rn,Oi]}(T,U,M);case"traitprecedence":return[T.call(M,"trait"),"::",T.call(M,"method")," insteadof ",di(", ",T.map(M,"instead"))];case"traitalias":return[O.trait?[T.call(M,"trait"),"::"]:"",O.method?T.call(M,"method"):""," as ",di(" ",[].concat(d(O.visibility?[O.visibility]:[]),d(O.as?[T.call(M,"as")]:[])))];case"traituse":return Lt(["use ",Ht(Lt(di([",",Te],T.map(M,"traits")))),O.adaptations?[" {",O.adaptations.length>0?[Ht([At,gc(T,U,M,"adaptations")]),At]:nn(O)?[Te,oe.printDanglingComments(T,U,!0),Te]:"","}"]:""]);case"function":case"closure":case"method":return function(gt,Zt,de){var bt=gt.getValue(),Mi=xs(gt,Zt,de,{inline:bt.kind==="closure"}),ai=[];bt.isFinal&&ai.push("final "),bt.isAbstract&&ai.push("abstract "),bt.visibility&&ai.push(bt.visibility," "),bt.isStatic&&ai.push("static "),ai.push("function "),bt.byref&&ai.push("&"),bt.name&&ai.push(gt.call(de,"name")),ai.push(Dn(gt,Zt,de)),bt.uses&&bt.uses.length>0&&ai.push(Lt([" use ",Dn(gt,Zt,de,"uses")])),bt.type&&ai.push([": ",nn(bt.type)?[gt.call(function(Oi){return oe.printDanglingComments(Oi,Zt,!0)},"type")," "]:"",bt.nullable?"?":"",gt.call(de,"type")]);var mi=ai;if(!bt.body)return[].concat(d(Mi),[mi]);var rn=bt.kind==="closure",Ue=["{",Ht([oc(gt)?"":At,gt.call(de,"body")]),rn&&oc(gt)?"":At,"}"];return rn?[].concat(d(Mi),[mi," ",Ue]):bt.arguments.length===0?[].concat(d(Mi),[mi,lh(Zt)?At:" ",Ue]):ai.some(gs)?[mi," ",Ue]:[].concat(d(Mi),[tr([[mi,lh(Zt)?At:" ",Ue],[mi," ",Ue]])])}(T,U,M);case"arrowfunc":return[O.parenthesizedExpression?"(":""].concat(d(xs(T,U,M,{inline:!0})),[O.isStatic?"static ":"","fn",Dn(T,U,M),O.type?[": ",O.nullable?"?":"",T.call(M,"type")]:""," => ",T.call(M,"body"),O.parenthesizedExpression?")":""]);case"parameter":var ce="";O.flags===1?ce="public ":O.flags===2?ce="protected ":O.flags===4&&(ce="private ");var xe=[].concat(d(xs(T,U,M,{inline:!0})),[ce,O.readonly?"readonly ":"",O.nullable?"?":"",O.type?[T.call(M,"type")," "]:"",O.byref?"&":"",O.variadic?"...":"","$",T.call(M,"name")]);return O.value?Lt([xe,nn(O)?" ":"",oe.printDanglingComments(T,U,!0)," =",mo(O.name,O.value,T.call(M,"value"),!1,U)]):xe;case"variadic":return["...",T.call(M,"what")];case"property":return Lt([O.readonly?"readonly ":"",O.type?[O.nullable?"?":"",T.call(M,"type")," "]:"","$",T.call(M,"name"),O.value?[" =",mo(O.name,O.value,T.call(M,"value"),!1,U)]:""]);case"propertystatement":var Gt=[];T.map(function(gt){return Gt.push.apply(Gt,d(xs(gt,U,M)))},"properties");var Ce,ie=T.map(function(gt){return M(gt)},"properties"),Pe=O.properties.some(function(gt){return gt.value});ie.length!==1||O.properties[0].comments?ie.length>0&&(Ce=Ht(ie[0])):Ce=x(ie,1)[0];var Oe=O.visibility||O.visibility===null;return Lt([].concat(Gt,[Oe?[O.visibility===null?"var":O.visibility,""]:"",O.isStatic?[Oe?" ":"","static"]:"",Ce?[" ",Ce]:"",Ht(ie.slice(1).map(function(gt){return[",",Pe?At:Te,gt]}))]));case"if":var Ee=[],ne=$n(T,U,M,"body"),be=Lt(["if (",Lt([Ht([ae,T.call(M,"test")]),ae]),")",ne]);if(Ee.push(be,rh(T)||!O.body?"":At),O.alternate){Ee.push(O.shortForm?"":"} ");var Ge=sc(O.body)&&O.body.comments.some(function(gt){return gt.trailing&&!oe.isBlockComment(gt)})||function(gt){if(!gt.comments)return!1;var Zt=_s(gt.comments.filter(function(de){return!de.leading&&!de.trailing}));return Zt&&!oe.isBlockComment(Zt)}(O),fn=!Ge;Ee.push(fn?"":At),nn(O)&&Ee.push(ws(U.originalText,O.body,U)?At:"",oe.printDanglingComments(T,U,!0),Ge?At:" "),Ee.push("else",Lt(O.alternate.kind==="if"?T.call(M,"alternate"):$n(T,U,M,"alternate")))}else Ee.push(O.body?O.shortForm?"endif;":"}":"");return Ee;case"do":return["do",$n(T,U,M,"body")," while (",Lt([Ht([ae,T.call(M,"test")]),ae]),")"];case"while":case"switch":return Lt([O.kind," (",Lt([Ht([ae,T.call(M,"test")]),ae]),")",$n(T,U,M,"body")]);case"for":var xi=$n(T,U,M,"body"),lt=oe.printDanglingComments(T,U,!0),ut=lt?[lt,ae]:"";return O.init.length||O.test.length||O.increment.length?[ut,Lt(["for (",Lt([Ht([ae,Lt(di([",",Te],T.map(M,"init"))),";",Te,Lt(di([",",Te],T.map(M,"test"))),";",Te,Lt(di([",",Te],T.map(M,"increment")))]),ae]),")",xi])]:[ut,Lt(["for (;;)",xi])];case"foreach":var zt=$n(T,U,M,"body"),Xt=oe.printDanglingComments(T,U,!0);return[Xt?[Xt,ae]:"",Lt(["foreach (",Lt([Ht([ae,T.call(M,"source"),Te,"as ",Lt(O.key?Ht(di([" =>",Te],[T.call(M,"key"),T.call(M,"value")])):T.call(M,"value"))]),ae]),")",zt])];case"try":var Mt=[];return Mt.push("try",$n(T,U,M,"body")),O.catches&&Mt.push(T.map(M,"catches")),O.always&&Mt.push(" finally",$n(T,U,M,"always")),Mt;case"catch":return[" catch",O.what?[" (",di(" | ",T.map(M,"what")),O.variable?[" ",T.call(M,"variable")]:"",")"]:"",$n(T,U,M,"body")];case"case":return[O.test?["case ",O.test.comments?Ht(T.call(M,"test")):T.call(M,"test"),":"]:"default:",O.body&&O.body.children&&O.body.children.length?Ht([rh(T)?"":At,T.call(M,"body")]):""];case"break":case"continue":return O.level&&O.level.kind==="number"&&O.level.value!=="1"?["".concat(O.kind," "),T.call(M,"level")]:O.kind;case"call":return O.arguments.length===1&&go(O.arguments[0],U.originalText,U)?[T.call(M,"what"),"(",di(", ",T.map(M,"arguments")),")"]:Yi(O.what)?function(gt,Zt,de){var bt=[];function Mi(le){var ei=Zt.originalText,gi=MC(ei,le,Zt);return ei.charAt(gi)===")"?bC(ei,gi+1,Zt):ws(ei,le,Zt)}function ai(le){var ei=le.getValue();if(ei.kind!=="call"||!Yi(ei.what)&&ei.what.kind!=="call")if(Yi(ei)){var gi=null;gi=ei.kind==="propertylookup"?ch(le,Zt,de):ei.kind==="nullsafepropertylookup"?hc(le,Zt,de):ei.kind==="staticlookup"?uc(le,Zt,de):lc(le,Zt,de),bt.unshift({node:ei,needsParens:Ql(le),printed:oe.printAllComments(le,function(){return gi},Zt)}),le.call(function(Or){return ai(Or)},"what")}else bt.unshift({node:ei,printed:le.call(de)});else bt.unshift({node:ei,printed:[oe.printAllComments(le,function(){return Dn(le,Zt,de)},Zt),Mi(ei)?At:""]}),le.call(function(Or){return ai(Or)},"what")}var mi=gt.getValue();bt.unshift({node:mi,printed:Dn(gt,Zt,de)}),gt.call(function(le){return ai(le)},"what");for(var rn=0;rn<bt.length;++rn)bt[rn].node.kind==="call"&&bt[rn-1]&&["propertylookup","nullsafepropertylookup","staticlookup"].includes(bt[rn-1].node.kind)&&bt[rn-1].needsParens&&(bt[0].printed=["(",bt[0].printed],bt[rn-1].printed=[bt[rn-1].printed,")"]);for(var Ue=[],Oi=[bt[0]],Xe=1;Xe<bt.length&&(bt[Xe].node.kind==="call"||Yi(bt[Xe].node)&&bt[Xe].node.offset&&bt[Xe].node.offset.kind==="number");++Xe)Oi.push(bt[Xe]);if(bt[0].node.kind!=="call")for(;Xe+1<bt.length&&Yi(bt[Xe].node)&&Yi(bt[Xe+1].node);++Xe)Oi.push(bt[Xe]);Ue.push(Oi),Oi=[];for(var No=!1;Xe<bt.length;++Xe){if(No&&Yi(bt[Xe].node)){if(bt[Xe].node.kind==="offsetlookup"&&bt[Xe].node.offset&&bt[Xe].node.offset.kind==="number"){Oi.push(bt[Xe]);continue}Ue.push(Oi),Oi=[],No=!1}bt[Xe].node.kind==="call"&&(No=!0),Oi.push(bt[Xe]),bt[Xe].node.comments&&oe.hasTrailingComment(bt[Xe].node)&&(Ue.push(Oi),Oi=[],No=!1)}Oi.length>0&&Ue.push(Oi);function Wb(le){var ei=le[1].length&&le[1][0].node.kind==="offsetlookup";if(le[0].length===1){var gi=le[0][0].node;return gi.kind==="variable"&&(gi.name==="this"||Gb&&Or(gi.name))||uh(gi)}function Or(jb){return jb.length<Zt.tabWidth}var Eh=_s(le[0]).node;return Yi(Eh)&&(Eh.offset.kind==="identifier"||Eh.offset.kind==="variable")&&ei}var Gb=gt.getParentNode().kind==="expressionstatement",Io=Ue.length>=2&&!Ue[1][0].node.comments&&Wb(Ue);function Po(le){for(var ei=[],gi=0;gi<le.length;gi++)le[gi+1]&&le[gi+1].needsParens?(ei.push("(",le[gi].printed,le[gi+1].printed,")"),gi++):ei.push(le[gi].printed);return ei}function qb(le){return le.length===0?"":Ht(Lt([At,di(At,le.map(Po))]))}var af=Ue.map(Po),vh=af,Oo=Io?3:2,hf=Ue.slice(0,Oo).flat(),uf=hf.slice(1,-1).some(function(le){return oe.hasLeadingComment(le.node)})||hf.slice(0,-1).some(function(le){return oe.hasTrailingComment(le.node)})||Ue[Oo]&&oe.hasLeadingComment(Ue[Oo][0].node),zb=hh(gt,"encapsed");if(Ue.length<=Oo&&!uf||zb)return Lt(vh);var lf=_s(Io?Ue.slice(1,2)[0]:Ue[0]).node,cf=lf.kind!=="call"&&Mi(lf),ff=[Po(Ue[0]),Io?Ue.slice(1,2).map(Po):"",cf?At:"",qb(Ue.slice(Io?2:1))],Jb=bt.filter(function(le){return le.node.kind==="call"}).length;return uf||Jb>=3||af.slice(0,-1).some(gs)?Lt(ff):[gs(vh)||cf?$l:"",tr([vh,ff])]}(T,U,M):[T.call(M,"what"),Dn(T,U,M)];case"new":var Ne=O.what&&O.what.kind==="class"&&O.what.isAnonymous;if(!Ne&&O.arguments.length===1&&go(O.arguments[0],U.originalText,U))return["new "].concat(d(T.call(xs,"what")),[T.call(M,"what"),"(",di(", ",T.map(M,"arguments")),")"]);var Be=[];if(Be.push("new "),Ne)Be.push.apply(Be,[O.what.leadingComments&&O.what.leadingComments[0].kind==="commentblock"?[oe.printComments(O.what.leadingComments,U)," "]:""].concat(d(T.call(function(gt){return xs(gt,U,M,{inline:!0})},"what")),["class",O.arguments.length>0?[" ",Dn(T,U,M)]:"",Lt(T.call(M,"what"))]));else{var ti=["call","offsetlookup"].includes(O.what.kind),vi=[ti?"(":"",T.call(M,"what"),ti?")":"",Dn(T,U,M)];Be.push(nc(O.what)?Ht(vi):vi)}return Be;case"clone":return["clone ",O.what.comments?Ht(T.call(M,"what")):T.call(M,"what")];case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":var he,Ye=T.getParentNode(),Bi=0;do he=T.getParentNode(Bi),Bi++;while(he&&Yi(he));var vs=hh(T,"encapsed")||he&&(he.kind==="new"||he.kind==="assign"&&he.left.kind!=="variable")||O.kind==="offsetlookup"||(uh(O.what)||O.what.kind==="variable")&&["identifier","variable","encapsedpart"].includes(O.offset.kind)&&Ye&&!Yi(Ye);return[T.call(M,"what"),vs?dc(T,U,M):Lt(Ht([ae,dc(T,U,M)]))];case"exit":return Lt([O.useDie?"die":"exit","(",O.expression?go(O.expression,U.originalText,U)?T.call(M,"expression"):[Ht([ae,T.call(M,"expression")]),ae]:oe.printDanglingComments(T,U),")"]);case"global":return Lt(["global ",Ht(di([",",Te],T.map(M,"items")))]);case"include":return[O.require?"require":"include",O.once?"_once":""," ",O.target.comments?Ht(T.call(M,"target")):T.call(M,"target")];case"label":return[T.call(M,"name"),":"];case"goto":return["goto ",T.call(M,"label")];case"throw":return["throw ",O.what.comments?Ht(T.call(M,"what")):T.call(M,"what")];case"silent":return["@",T.call(M,"expr")];case"halt":return[nn(O)?[oe.printDanglingComments(T,U,!0),At]:"","__halt_compiler();",O.after];case"eval":return Lt(["eval(",go(O.source,U.originalText,U)?T.call(M,"source"):[Ht([ae,T.call(M,"source")]),ae],")"]);case"echo":var Es,pn=T.map(function(gt){return M(gt)},"expressions");return pn.length!==1||O.expressions[0].comments?pn.length>0&&(Es=ah(O.expressions[0])||O.expressions[0].comments?Ht(pn[0]):kC(pn[0])):Es=x(pn,1)[0],Lt([O.shortForm?"":"echo ",Es||"",Ht(pn.slice(1).map(function(gt){return[",",Te,gt]}))]);case"print":return["print ",O.expression.comments?Ht(T.call(M,"expression")):T.call(M,"expression")];case"return":var sn=[];if(sn.push("return"),O.expr){var Eo=T.call(M,"expr");sn.push(" ",O.expr.comments?Ht(Eo):Eo)}return nn(O)&&sn.push(" ",oe.printDanglingComments(T,U,!0)),sn;case"isset":case"unset":return Lt([O.kind,Dn(T,U,M,"variables")]);case"empty":return Lt(["empty(",Ht([ae,T.call(M,"expression")]),ae,")"]);case"variable":var Zn=T.getParentNode(),rr=T.getParentNode(1),Tb=Zn.kind==="assign"?"":O.byref?"&":"",Cb=Zn.kind==="encapsedpart"&&Zn.syntax==="simple"&&Zn.curly||rr&&Zn.kind==="offsetlookup"&&rr.kind==="encapsedpart"&&rr.syntax==="simple"&&rr.curly?"":"$",bb=O.curly?"{":"",Ab=O.curly?"}":"";return[Tb,Cb,bb,T.call(M,"name"),Ab];case"constantstatement":case"classconstant":var yo,Sb=xs(T,U,M),Ir=T.map(function(gt){return M(gt)},"constants");return Ir.length!==1||O.constants[0].comments?Ir.length>0&&(yo=Ht(Ir[0])):yo=x(Ir,1)[0],Lt([].concat(d(Sb),[O.visibility?[O.visibility," "]:"","const",yo?[" ",yo]:"",Ht(Ir.slice(1).map(function(gt){return[",",At,gt]}))]));case"constant":return po(O.name,T.call(M,"name")," =",O.value,T.call(M,"value"),!1,U);case"static":var ko,Pr=T.map(function(gt){return M(gt)},"variables"),Db=O.variables.some(function(gt){return gt.defaultValue});return Pr.length!==1||O.variables[0].comments?Pr.length>0&&(ko=Ht(Pr[0])):ko=x(Pr,1)[0],Lt(["static",ko?[" ",ko]:"",Ht(Pr.slice(1).map(function(gt){return[",",Db?At:Te,gt]}))]);case"staticvariable":return po(O.variable,T.call(M,"variable")," =",O.defaultValue,T.call(M,"defaultValue"),!1,U);case"list":case"array":var qc=O.kind==="array"&&nr(U.phpVersion,"5.4")||O.kind==="list"&&(O.shortForm||nr(U.phpVersion,"7.1")),dh=qc?"[":[O.kind,"("],mh=qc?"]":")";if(O.items.length===0)return nn(O)?Lt([dh,oe.printDanglingComments(T,U),ae,mh]):[dh,mh];var To=_s(O.items),zc=To&&To.kind==="noop",Co=x(O.items.filter(function(gt){return gt.kind!=="noop"}).sort(function(gt,Zt){return U.locStart(gt)-U.locStart(Zt)}),1)[0],Nb=!(!Co||!Co.key)&&Co&&Zl(U.originalText,U.locStart(O),U.locStart(Co));return Lt([dh,Ht([ae,VC(T,U,M)]),zc?",":"",ms(!zc&&Sr(U,"5.0")?[To&&ac(To)?At:"",","]:""),oe.printDanglingComments(T,U,!0),ae,mh],{shouldBreak:Nb});case"entry":var Jc=O.byRef?"&":"",Ib=O.unpack?"...":"";return O.key?po(O.key,T.call(M,"key")," =>",O.value,T.call(M,"value"),Jc,U):[Jc,Ib,T.call(M,"value")];case"yield":var jc=[O.key?[T.call(M,"key")," => "]:"",T.call(M,"value")];return["yield",O.key||O.value?" ":"",O.value&&O.value.comments?Ht(jc):jc];case"yieldfrom":return["yield from ",O.value.comments?Ht(T.call(M,"value")):T.call(M,"value")];case"unary":return[O.type,T.call(M,"what")];case"pre":return[O.type+O.type,T.call(M,"what")];case"post":return[T.call(M,"what"),O.type+O.type];case"cast":return["(",O.type,") ",O.expr.comments?Ht(T.call(M,"expr")):T.call(M,"expr")];case"assignref":case"assign":var Yc=O.kind==="assignref";return po(O.left,T.call(M,"left"),[" ",Yc?"=":O.operator],O.right,T.call(M,"right"),Yc,U);case"bin":var dn=T.getParentNode(),Xc=T.getParentNode(1),Kc=O!==dn.body&&(dn.kind==="if"||dn.kind==="while"||dn.kind==="switch"||dn.kind==="do"),or=pc(T,M,U,!1,Kc);if(Kc)return or;if(dn.kind==="unary"||Yi(dn)&&dn.kind!=="offsetlookup")return Lt([Ht([ae].concat(d(or))),ae]);var Pb=O!==dn.body&&dn.kind==="for"||dn.kind==="retif"&&Xc&&Xc.kind!=="return",Ob=["assign","property","constant","staticvariable","entry"].includes(dn.kind),wb=O.left.kind==="bin"&&ec(O.type,O.left.type);if(Pb||Dr(O)&&!wb||!Dr(O)&&Ob)return Lt(or);var Lb=or.slice(1);return Lt([or.length>0?or[0]:"",Ht(Lb)]);case"retif":var bo,Ao=[],So=T.getParentNode(),Qc=0;do bo=T.getParentNode(Qc),Qc++;while(bo&&bo.kind==="retif");var $c=bo||So,Zc=O.falseExpr.kind==="bin"?Ht(T.call(M,"falseExpr")):T.call(M,"falseExpr"),Fb=[O.trueExpr?Te:" ","?",O.trueExpr?[" ",O.trueExpr.kind==="bin"?Ht(T.call(M,"trueExpr")):T.call(M,"trueExpr"),Te]:"",":",O.trueExpr?[" ",Zc]:[fc(O.falseExpr)?" ":Te,Zc]];Ao.push(Fb);var tf=function(gt){return So===$c?Lt(gt):gt},ef=T.getParentNode(1),Ls=So.kind==="cast"&&ef?ef:So,Rb=["propertylookup","nullsafepropertylookup","staticlookup"].includes(Ls.kind),gh=T.call(M,"test");if(!O.trueExpr){var nf=[gh,Ls.kind==="bin"||["print","echo","return","include"].includes($c.kind)?Ht(Ao):Ao];return Ls.kind==="call"&&Ls.what===O||Ls.kind==="unary"||Yi(Ls)&&Ls.kind!=="offsetlookup"?Lt([Ht([ae,nf]),ae]):tf(nf)}return tf([O.test.kind==="retif"?Ht(gh):gh,Ht(Ao),Rb?ae:""]);case"boolean":return O.value?"true":"false";case"number":return NC(O.value);case"string":if(T.getParentNode().kind==="encapsedpart"){var sf=T.getParentNode(1),_h=0,Bb=nr(U.phpVersion,"7.3"),rf=er;if(sf.type==="heredoc"){rf=Bb?At:er;var Do=sf.raw.split(`
`);(_h=Do[Do.length-1].search(/\S/))===-1&&(_h=Do[Do.length-2].search(/\S/))}return di(rf,O.raw.split(`
`).map(function(gt,Zt){return Zt>0||O.loc.start.column===0?gt.substring(_h):gt}))}var of=LC(O,U)?'"':"'",yn=O.raw;return O.raw[0]==="b"&&(yn=yn.slice(1)),['"',"'"].includes(yn[0])&&(yn=yn.substr(1)),['"',"'"].includes(yn[yn.length-1])&&(yn=yn.substr(0,yn.length-1)),[O.raw[0]==="b"?"b":"",of,di(er,yn.split(`
`)),of];case"intersectiontype":return vc(T,M,"&");case"uniontype":return vc(T,M,"|");case"encapsedpart":var Mb=O.syntax==="simple"&&O.curly||O.syntax==="complex"?[O.curly?"$":"","{"]:"",Ub=O.syntax==="simple"&&O.curly||O.syntax==="complex"?"}":"";return[Mb,T.call(M,"expression"),Ub];case"encapsed":switch(O.type){case"string":case"shell":case"heredoc":var Hb=nr(U.phpVersion,"7.3")?At:er;return[mc(O),O.type==="heredoc"?Hb:""].concat(d(T.map(M,"value")),[mc(O,{opening:!1}),O.type==="heredoc"&&rc(T)?At:""]);default:return"Have not implemented kind ".concat(O.type," yet.")}case"inline":return di(er,O.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(`
`));case"magic":return O.value;case"nowdoc":var xh=nr(U.phpVersion,"7.3")?At:er;return["<<<'",O.label,"'",xh,di(xh,O.value.split(`
`)),xh,O.label,rc(T)?At:""];case"name":return[O.resolution==="rn"?"namespace\\":"",O.name];case"literal":return T.call(M,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return O.name;case"nullkeyword":return"null";case"identifier":return T.getParentNode().kind==="method"&&(O.name=BC(O.name)),T.call(M,"name");case"match":var Vb=T.map(function(gt,Zt){var de=gt.getValue().conds===null?"default":gt.map(function(Mi,ai){return[",",Te,M(Mi)].slice(ai===0?2:0)},"conds"),bt=gt.call(M,"body");return[",",At,Lt([Lt([de,Ht(Te)]),"=> ",bt])].slice(Zt>0?0:1)},"arms");return Lt(["match (",Lt([ae,Ht(T.call(M,"cond")),ae]),") {",Lt(Ht([].concat(d(Vb),[U.trailingCommaPHP?ms(","):""])))," ",ae,"}"]);case"noop":return O.comments?oe.printComments(T.getValue().comments,U):"";case"namedargument":return[O.name,": ",T.call(M,"value")];case"enumcase":return Lt(["case ",T.call(M,"name"),O.value?[" =",mo(O.name,O.value,T.call(M,"value"),!1,U)]:""]);case"variadicplaceholder":return"...";default:return"Have not implemented kind ".concat(O.kind," yet.")}}(s,o,u),S=[],w=Ql(s);return w&&S.unshift("("),S.push(y),w&&S.push(")"),DC(s)&&S.push(";"),IC(s)&&S.push(At),S},qC=new Set(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"]);function Ec(s,o){if(s.kind==="string"&&delete o.isDoubleQuote,["array","list"].includes(s.kind)&&delete o.shortForm,s.kind==="inline"){if(s.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;o.value=o.value.replace(/\n/g,"")}if((s.kind==="continue"||s.kind==="break")&&s.level){var u=o.level;u.kind==="number"&&(o.level=u.value==="1"?null:u)}if(s.kind==="block"&&s.children.length===1&&s.children[0].kind==="block")for(;o.children[0].kind==="block";)o.children=o.children[0].children;if(s.kind==="number"&&(o.value=ue.printNumber(s.value)),["foreach","for","if","while","do"].includes(s.kind)&&(s.body&&s.body.kind!=="block"?o.body={kind:"block",children:[o.body]}:o.body=o.body?o.body:null,s.alternate&&s.alternate.kind!=="block"?o.alternate={kind:"block",children:[o.alternate]}:o.alternate=o.alternate?o.alternate:null),s.kind==="usegroup"&&typeof s.name=="string"&&(o.name=o.name.replace(/^\\/,"")),s.kind==="useitem"&&(o.name=o.name.replace(/^\\/,"")),s.kind==="method"&&s.name.kind==="identifier"&&(o.name.name=ue.normalizeMagicMethodName(o.name.name)),s.kind==="noop")return null}Ec.ignoredProperties=qC;var zC=Ec,fh="PHP",JC={phpVersion:{since:"0.13.0",category:fh,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"},{value:"8.1"}]},trailingCommaPHP:{since:"0.0.0",category:fh,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:fh,type:"choice",default:"per-cs",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"(deprecated) Use per-cs"},{value:"per-cs",description:"Use the PER Coding Style brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}},jC=function(s,o,u,g){if(u!=="length"&&u!=="prototype"&&u!=="arguments"&&u!=="caller"){var y=Object.getOwnPropertyDescriptor(s,u),S=Object.getOwnPropertyDescriptor(o,u);!YC(y,S)&&g||Object.defineProperty(s,u,S)}},YC=function(s,o){return s===void 0||s.configurable||s.writable===o.writable&&s.enumerable===o.enumerable&&s.configurable===o.configurable&&(s.writable||s.value===o.value)},XC=function(s,o){var u=Object.getPrototypeOf(o);u!==Object.getPrototypeOf(s)&&Object.setPrototypeOf(s,u)},KC=function(s,o){return"/* Wrapped ".concat(s,`*/
`).concat(o)},QC=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),$C=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),ZC=function(s,o,u){var g=u===""?"":"with ".concat(u.trim(),"() "),y=KC.bind(null,g,o.toString());Object.defineProperty(y,"name",$C),Object.defineProperty(s,"toString",a(a({},QC),{},{value:y}))},tb=function(s,o){var u,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=g.ignoreNonConfigurable,S=y!==void 0&&y,w=s.name,T=l(Reflect.ownKeys(o));try{for(T.s();!(u=T.n()).done;){var U=u.value;jC(s,o,U,S)}}catch(M){T.e(M)}finally{T.f()}return XC(s,o),ZC(s,o,w),s},_o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yc(s){return s&&s.default||s}var xo,eb=function(){var s={};return s.promise=new Promise(function(o,u){s.resolve=o,s.reject=u}),s},kc=function(s,o){return s(o={exports:{}},o.exports),o.exports}(function(s,o){var u=_o&&_o.__awaiter||function(w,T,U,M){return new(U||(U=Promise))(function(O,Wt){function Vt(Gt){try{xe(M.next(Gt))}catch(Ce){Wt(Ce)}}function ce(Gt){try{xe(M.throw(Gt))}catch(Ce){Wt(Ce)}}function xe(Gt){Gt.done?O(Gt.value):new U(function(Ce){Ce(Gt.value)}).then(Vt,ce)}xe((M=M.apply(w,T||[])).next())})},g=_o&&_o.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(o,"__esModule",{value:!0});var y=g(eb);function S(w){var T,U,M,O=this,Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"maxAge",Vt=function(){return u(O,void 0,void 0,h().mark(function Gt(){var Ce,ie,Pe,Oe,Ee=this;return h().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(T===void 0){ne.next=2;break}return ne.abrupt("return");case 2:Ce=function(be){return u(Ee,void 0,void 0,h().mark(function Ge(){var fn;return h().wrap(function(xi){for(;;)switch(xi.prev=xi.next){case 0:if(M=y.default(),!((fn=be[1][Wt]-Date.now())<=0)){xi.next=6;break}return w.delete(be[0]),M.resolve(),xi.abrupt("return");case 6:return T=be[0],typeof(U=setTimeout(function(){w.delete(be[0]),M&&M.resolve()},fn)).unref=="function"&&U.unref(),xi.abrupt("return",M.promise);case 10:case"end":return xi.stop()}},Ge)}))},ne.prev=3,ie=l(w),ne.prev=5,ie.s();case 7:if((Pe=ie.n()).done){ne.next=13;break}return Oe=Pe.value,ne.next=11,Ce(Oe);case 11:ne.next=7;break;case 13:ne.next=18;break;case 15:ne.prev=15,ne.t0=ne.catch(5),ie.e(ne.t0);case 18:return ne.prev=18,ie.f(),ne.finish(18);case 21:ne.next=25;break;case 23:ne.prev=23,ne.t1=ne.catch(3);case 25:T=void 0;case 26:case"end":return ne.stop()}},Gt,null,[[3,23],[5,15,18,21]])}))},ce=function(){T=void 0,U!==void 0&&(clearTimeout(U),U=void 0),M!==void 0&&(M.reject(void 0),M=void 0)},xe=w.set.bind(w);return w.set=function(Gt,Ce){w.has(Gt)&&w.delete(Gt);var ie=xe(Gt,Ce);return T&&T===Gt&&ce(),Vt(),ie},Vt(),w}o.default=S,s.exports=S,s.exports.default=S});(xo=kc)&&xo.__esModule&&Object.prototype.hasOwnProperty.call(xo,"default")&&xo.default;var ib=kc,ph=new WeakMap,Tc=new WeakMap,vo=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=o.cacheKey,g=o.cache,y=g===void 0?new Map:g,S=o.maxAge;typeof S=="number"&&ib(y);var w=function(){for(var T=arguments.length,U=new Array(T),M=0;M<T;M++)U[M]=arguments[M];var O=u?u(U):U[0],Wt=y.get(O);if(Wt)return Wt.data;var Vt=s.apply(this,U);return y.set(O,{data:Vt,maxAge:S?Date.now()+S:Number.POSITIVE_INFINITY}),Vt};return tb(w,s,{ignoreNonConfigurable:!0}),Tc.set(w,y),w};vo.decorator=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(o,u,g){var y=o[u];if(typeof y!="function")throw new TypeError("The decorated value must be a function");delete g.value,delete g.writable,g.get=function(){if(!ph.has(this)){var S=vo(y,s);return ph.set(this,S),S}return ph.get(this)}}},vo.clear=function(s){var o=Tc.get(s);if(!o)throw new TypeError("Can't clear a function that was not memoized!");if(typeof o.clear!="function")throw new TypeError("The cache Map can't be cleared!");o.clear()};var Cc=/@prettier|@format/,bc=vo(function(s){var o=wl(s),u=x(o.children,1)[0],g=x(o.comments.filter(function(y){return y.kind==="commentblock"}),1)[0];if(u&&g&&g.loc.start.line<u.loc.start.line)return g}),nb=function(s){if(!Cc.test(s))return!1;var o=bc(s);if(o){var u=o.value;return Cc.test(u)}return!1},sb=function(s){var o=bc(s);if(o){var u=o.loc,g=u.start.offset,y=u.end.offset,S=s.substring(0,g),w=s.substring(y);return"".concat(S).concat(function(Wt){var Vt=Wt.split(`
`);if(Vt.length===1){var ce=x(/\/*\*\*(.*)\*\//.exec(Vt[0]),2)[1];Vt=["/**"," * ".concat(ce.trim())," */"]}var xe=Vt.findIndex(function(Gt){return/@\S/.test(Gt)})||1;return Vt.splice(xe,0," * @format"),Vt.join(`
`)}(o.value)).concat(w)}var T="<?php";if(!s.startsWith(T))return s;var U=T.length,M=s.substring(0,U),O=s.substring(U);return"".concat(M,`
/** 
 * @format 
 */
`).concat(O)},Ac="programming",Sc="text.html.php",Dc="application/x-httpd-php",Nc="#4F5D95",Ic=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],Pc=[".php",".php_cs",".php_cs.dist","Phakefile"],Oc=["php"],wc=["inc"],rb={name:"PHP",type:Ac,tmScope:Sc,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Dc,color:Nc,extensions:Ic,filenames:Pc,interpreters:Oc,aliases:wc,languageId:272},ob=Object.freeze({__proto__:null,name:"PHP",type:Ac,tmScope:Sc,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Dc,color:Nc,extensions:Ic,filenames:Pc,interpreters:Oc,aliases:wc,languageId:272,default:rb}),Lc="HTML+PHP",Fc="markup",Rc="#4f5d95",Bc="text.html.php",Mc="HTML",Uc=[".phtml"],Hc="application/x-httpd-php",ab={name:Lc,type:Fc,color:Rc,tmScope:Bc,group:Mc,extensions:Uc,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Hc,languageId:151},hb=Object.freeze({__proto__:null,name:Lc,type:Fc,color:Rc,tmScope:Bc,group:Mc,extensions:Uc,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Hc,languageId:151,default:ab}),ub=yc(ob),lb=yc(hb),Vc=i.default.doc.builders,cb=Vc.join,fb=Vc.hardline,pb=nb,db=sb;function Wc(s,o){var u=o.extend,g=o.override,y={};for(var S in s)y[S==="languageId"?"linguistLanguageId":S]=s[S];if(u)for(var w in u)y[w]=(y[w]||[]).concat(u[w]);for(var T in g)y[T]=g[T];return y}var mb=[Wc(ub,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),Wc(lb,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],Gc=function(s){return function(o){return o.loc&&o.loc[s]&&o.loc[s].offset}},gb={php:{parse:wl,astFormat:"php",locStart:Gc("start"),locEnd:Gc("end"),hasPragma:pb}},_b={php:{print:GC,insertPragma:db,massageAstNode:zC,getCommentChildNodes:oe.getCommentChildNodes,canAttachComment:oe.canAttachComment,isBlockComment:oe.isBlockComment,handleComments:{ownLine:oe.handleOwnLineComment,endOfLine:oe.handleEndOfLineComment,remaining:oe.handleRemainingComment},willPrintOwnComments:function(s){var o=s.getValue();return o&&o.kind==="noop"},printComment:function(s){var o=s.getValue();switch(o.kind){case"commentblock":if(!o.value.includes(`
`))return o.value;var u=o.value.split(`
`);return u.slice(1,u.length-1).every(function(g){return g.trim()[0]==="*"})?cb(fb,u.map(function(g,y){return(y>0?" ":"")+(y<u.length-1?g.trim():g.trimLeft())})):o.value;case"commentline":return o.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(o)))}},hasPrettierIgnore:function(s){var o=function(y){return y.value.includes("prettier-ignore")&&!y.value.includes("prettier-ignore-start")&&!y.value.includes("prettier-ignore-end")},u=s.getParentNode(),g=s.getNode();return g&&g.kind!=="classconstant"&&g.comments&&g.comments.length>0&&g.comments.some(o)||g&&g.kind==="constant"&&u&&u.kind==="classconstant"&&u.comments&&u.comments.length>0&&u.comments.some(o)}}},sr={languages:mb,printers:_b,parsers:gb,options:JC,defaultOptions:{tabWidth:4}},xb=sr.languages,vb=sr.printers,Eb=sr.parsers,yb=sr.options,kb=sr.defaultOptions;n.default=sr,n.defaultOptions=kb,n.languages=xb,n.options=yb,n.parsers=Eb,n.printers=vb,Object.defineProperty(n,"__esModule",{value:!0})})});var up=Y((hp,Mh)=>{(function(n){if(typeof hp=="object"&&typeof Mh<"u")Mh.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.jsonata=n()}})(function(){var n,t,e;return function(){function i(r,a,h){function c(d,k){if(!a[d]){if(!r[d]){var _=typeof require=="function"&&require;if(!k&&_)return _(d,!0);if(f)return f(d,!0);var l=new Error("Cannot find module '"+d+"'");throw l.code="MODULE_NOT_FOUND",l}var p=a[d]={exports:{}};r[d][0].call(p.exports,function(m){var v=r[d][1][m];return c(v||m)},p,p.exports,i,r,a,h)}return a[d].exports}for(var f=typeof require=="function"&&require,x=0;x<h.length;x++)c(h[x]);return c}return i}()({1:[function(i,r,a){let h=i("./utils"),c=function(){"use strict";let f=h.stringToArray,x=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],d=["Zeroth","First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth"],k=["Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety","Hundred"],_=["Thousand","Million","Billion","Trillion"];function l(q,K){var z=function(ft,ht,$){var pt="";if(ft<=19)pt=(ht?" and ":"")+($?d[ft]:x[ft]);else if(ft<100){let Yt=Math.floor(ft/10),xt=ft%10;pt=(ht?" and ":"")+k[Yt-2],xt>0?pt+="-"+z(xt,!1,$):$&&(pt=pt.substring(0,pt.length-1)+"ieth")}else if(ft<1e3){let Yt=Math.floor(ft/100),xt=ft%100;pt=(ht?", ":"")+x[Yt]+" Hundred",xt>0?pt+=z(xt,!0,$):$&&(pt+="th")}else{var Pt=Math.floor(Math.log10(ft)/3);Pt>_.length&&(Pt=_.length);let Yt=Math.pow(10,Pt*3),xt=Math.floor(ft/Yt),wt=ft-xt*Yt;pt=(ht?", ":"")+z(xt,!1,!1)+" "+_[Pt-1],wt>0?pt+=z(wt,!0,$):$&&(pt+="th")}return pt},st=z(q,!1,K);return st}let p={};x.forEach(function(q,K){p[q.toLowerCase()]=K}),d.forEach(function(q,K){p[q.toLowerCase()]=K}),k.forEach(function(q,K){let z=q.toLowerCase();p[z]=(K+2)*10,p[z.substring(0,q.length-1)+"ieth"]=p[z]}),p.hundredth=100,_.forEach(function(q,K){let z=q.toLowerCase(),st=Math.pow(10,(K+1)*3);p[z]=st,p[z+"th"]=st});function m(q){let z=q.split(/,\s|\sand\s|[\s\\-]/).map(ht=>p[ht]),st=[0];return z.forEach(ht=>{if(ht<100){let $=st.pop();$>=1e3&&(st.push($),$=0),st.push($+ht)}else st.push(st.pop()*ht)}),st.reduce((ht,$)=>ht+$,0)}let v=[[1e3,"m"],[900,"cm"],[500,"d"],[400,"cd"],[100,"c"],[90,"xc"],[50,"l"],[40,"xl"],[10,"x"],[9,"ix"],[5,"v"],[4,"iv"],[1,"i"]],C={M:1e3,D:500,C:100,L:50,X:10,V:5,I:1};function P(q){for(var K=0;K<v.length;K++){let z=v[K];if(q>=z[0])return z[1]+P(q-z[0])}return""}function F(q){for(var K=0,z=1,st=q.length-1;st>=0;st--){let ft=q[st],ht=C[ft];ht<z?K-=ht:(z=ht,K+=ht)}return K}function L(q,K){for(var z=[],st=K.charCodeAt(0);q>0;)z.unshift(String.fromCharCode((q-1)%26+st)),q=Math.floor((q-1)/26);return z.join("")}function j(q,K){for(var z=K.charCodeAt(0),st=0,ft=0;ft<q.length;ft++)st+=(q.charCodeAt(q.length-ft-1)-z+1)*Math.pow(26,ft);return st}function B(q,K){if(typeof q>"u")return;q=Math.floor(q);let z=yt(K);return Q(q,z)}let J={DECIMAL:"decimal",LETTERS:"letters",ROMAN:"roman",WORDS:"words",SEQUENCE:"sequence"},et={UPPER:"upper",LOWER:"lower",TITLE:"title"};function Q(q,K){let z,st=q<0;switch(q=Math.abs(q),K.primary){case J.LETTERS:z=L(q,K.case===et.UPPER?"A":"a");break;case J.ROMAN:z=P(q),K.case===et.UPPER&&(z=z.toUpperCase());break;case J.WORDS:z=l(q,K.ordinal),K.case===et.UPPER?z=z.toUpperCase():K.case===et.LOWER&&(z=z.toLowerCase());break;case J.DECIMAL:z=""+q;var ft=K.mandatoryDigits-z.length;if(ft>0){var ht=new Array(ft+1).join("0");z=ht+z}if(K.zeroCode!==48&&(z=f(z).map(Yt=>String.fromCodePoint(Yt.codePointAt(0)+K.zeroCode-48)).join("")),K.regular){let Yt=Math.floor((z.length-1)/K.groupingSeparators.position);for(let xt=Yt;xt>0;xt--){let wt=z.length-xt*K.groupingSeparators.position;z=z.substr(0,wt)+K.groupingSeparators.character+z.substr(wt)}}else K.groupingSeparators.reverse().forEach(Yt=>{let xt=z.length-Yt.position;z=z.substr(0,xt)+Yt.character+z.substr(xt)});if(K.ordinal){var $={1:"st",2:"nd",3:"rd"},pt=z[z.length-1],Pt=$[pt];(!Pt||z.length>1&&z[z.length-2]==="1")&&(Pt="th"),z=z+Pt}break;case J.SEQUENCE:throw{code:"D3130",value:K.token}}return st&&(z="-"+z),z}let rt=[48,1632,1776,1984,2406,2534,2662,2790,2918,3046,3174,3302,3430,3558,3664,3792,3872,4160,4240,6112,6160,6470,6608,6784,6800,6992,7088,7232,7248,42528,43216,43264,43472,43504,43600,44016,65296];function yt(q){let K={type:"integer",primary:J.DECIMAL,case:et.LOWER,ordinal:!1},z,st,ft=q.lastIndexOf(";");switch(ft===-1?z=q:(z=q.substring(0,ft),st=q.substring(ft+1),st[0]==="o"&&(K.ordinal=!0)),z){case"A":K.case=et.UPPER;case"a":K.primary=J.LETTERS;break;case"I":K.case=et.UPPER;case"i":K.primary=J.ROMAN;break;case"W":K.case=et.UPPER,K.primary=J.WORDS;break;case"Ww":K.case=et.TITLE,K.primary=J.WORDS;break;case"w":K.primary=J.WORDS;break;default:{let ht=null,$=0,pt=0,Pt=[],Yt=0;if(f(z).map(wt=>wt.codePointAt(0)).reverse().forEach(wt=>{let it=!1;for(let te=0;te<rt.length;te++){let Bt=rt[te];if(wt>=Bt&&wt<=Bt+9){if(it=!0,$++,Yt++,ht===null)ht=Bt;else if(Bt!==ht)throw{code:"D3131"};break}}it||(wt===35?(Yt++,pt++):Pt.push({position:Yt,character:String.fromCodePoint(wt)}))}),$>0){K.primary=J.DECIMAL,K.zeroCode=ht,K.mandatoryDigits=$,K.optionalDigits=pt;let it=function(te){if(te.length===0)return 0;let Bt=te[0].character;for(let je=1;je<te.length;je++)if(te[je].character!==Bt)return 0;let Qe=te.map(je=>je.position),Ai=function(je,$e){return $e===0?je:Ai($e,je%$e)},ii=Qe.reduce(Ai);for(let je=1;je<=Qe.length;je++)if(Qe.indexOf(je*ii)===-1)return 0;return ii}(Pt);it>0?(K.regular=!0,K.groupingSeparators={position:it,character:Pt[0].character}):(K.regular=!1,K.groupingSeparators=Pt)}else K.primary=J.SEQUENCE,K.token=z}}return K}let Rt={Y:"1",M:"1",D:"1",d:"1",F:"n",W:"1",w:"1",X:"1",x:"1",H:"1",h:"1",P:"n",m:"01",s:"01",f:"1",Z:"01:01",z:"01:01",C:"n",E:"n"};function Nt(q){var K=[];let z={type:"datetime",parts:K},st=function(it,te){if(te>it){let Bt=q.substring(it,te);Bt=Bt.split("]]").join("]"),K.push({type:"literal",value:Bt})}};for(var ft=0,ht=0;ht<q.length;){if(q.charAt(ht)==="["){if(q.charAt(ht+1)==="["){st(ft,ht),K.push({type:"literal",value:"["}),ht+=2,ft=ht;continue}if(st(ft,ht),ft=ht,ht=q.indexOf("]",ft),ht===-1)throw{code:"D3135"};let it=q.substring(ft+1,ht);it=it.split(/\s+/).join("");var $={type:"marker",component:it.charAt(0)},pt=it.lastIndexOf(","),Pt;if(pt!==-1){let te=it.substring(pt+1),Bt=te.indexOf("-"),Qe,Ai,ii=function($e){if(!(typeof $e>"u"||$e==="*"))return parseInt($e)};Bt===-1?Qe=te:(Qe=te.substring(0,Bt),Ai=te.substring(Bt+1));let je={min:ii(Qe),max:ii(Ai)};$.width=je,Pt=it.substring(1,pt)}else Pt=it.substring(1);if(Pt.length===1)$.presentation1=Pt;else if(Pt.length>1){var Yt=Pt.charAt(Pt.length-1);"atco".indexOf(Yt)!==-1?($.presentation2=Yt,Yt==="o"&&($.ordinal=!0),$.presentation1=Pt.substring(0,Pt.length-1)):$.presentation1=Pt}else $.presentation1=Rt[$.component];if(typeof $.presentation1>"u")throw{code:"D3132",value:$.component};if($.presentation1[0]==="n")$.names=et.LOWER;else if($.presentation1[0]==="N")$.presentation1[1]==="n"?$.names=et.TITLE:$.names=et.UPPER;else if("YMDdFWwXxHhmsf".indexOf($.component)!==-1){var xt=$.presentation1;if($.presentation2&&(xt+=";"+$.presentation2),$.integerFormat=yt(xt),$.width&&$.width.min!==void 0&&$.integerFormat.mandatoryDigits<$.width.min&&($.integerFormat.mandatoryDigits=$.width.min),"YMD".indexOf($.component)!==-1)if($.n=-1,$.width&&$.width.max!==void 0)$.n=$.width.max,$.integerFormat.mandatoryDigits=$.n;else{var wt=$.integerFormat.mandatoryDigits+$.integerFormat.optionalDigits;wt>=2&&($.n=wt)}}($.component==="Z"||$.component==="z")&&($.integerFormat=yt($.presentation1)),K.push($),ft=ht+1}ht++}return st(ft,ht),z}let Ct=["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Et=["January","February","March","April","May","June","July","August","September","October","November","December"],vt=1e3*60*60*24,dt=function(q){let K=Date.UTC(q.year,q.month);var z=new Date(K).getUTCDay();return z===0&&(z=7),z>4?K+(8-z)*vt:K-(z-1)*vt},ct=function(q,K){return{year:q,month:K,nextMonth:function(){return K===11?ct(q+1,0):ct(q,K+1)},previousMonth:function(){return K===0?ct(q-1,11):ct(q,K-1)},nextYear:function(){return ct(q+1,K)},previousYear:function(){return ct(q-1,K)}}},ee=function(q,K){return(K-q)/(vt*7)+1},It=(q,K)=>{let z;switch(K){case"Y":z=q.getUTCFullYear();break;case"M":z=q.getUTCMonth()+1;break;case"D":z=q.getUTCDate();break;case"d":{let st=Date.UTC(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()),ft=Date.UTC(q.getUTCFullYear(),0);z=(st-ft)/vt+1;break}case"F":z=q.getUTCDay(),z===0&&(z=7);break;case"W":{let st=ct(q.getUTCFullYear(),0),ft=dt(st),ht=Date.UTC(st.year,q.getUTCMonth(),q.getUTCDate()),$=ee(ft,ht);if($>52){let pt=dt(st.nextYear());ht>=pt&&($=1)}else if($<1){let pt=dt(st.previousYear());$=ee(pt,ht)}z=Math.floor($);break}case"w":{let st=ct(q.getUTCFullYear(),q.getUTCMonth()),ft=dt(st),ht=Date.UTC(st.year,st.month,q.getUTCDate()),$=ee(ft,ht);if($>4){let pt=dt(st.nextMonth());ht>=pt&&($=1)}else if($<1){let pt=dt(st.previousMonth());$=ee(pt,ht)}z=Math.floor($);break}case"X":{let st=ct(q.getUTCFullYear(),0),ft=dt(st),ht=dt(st.nextYear()),$=q.getTime();$<ft?z=st.year-1:$>=ht?z=st.year+1:z=st.year;break}case"x":{let st=ct(q.getUTCFullYear(),q.getUTCMonth()),ft=dt(st),ht=st.nextMonth(),$=dt(ht),pt=q.getTime();pt<ft?z=st.previousMonth().month+1:pt>=$?z=ht.month+1:z=st.month+1;break}case"H":z=q.getUTCHours();break;case"h":z=q.getUTCHours(),z=z%12,z===0&&(z=12);break;case"P":z=q.getUTCHours()>=12?"pm":"am";break;case"m":z=q.getUTCMinutes();break;case"s":z=q.getUTCSeconds();break;case"f":z=q.getUTCMilliseconds();break;case"Z":case"z":break;case"C":z="ISO";break;case"E":z="ISO";break}return z},Qt=null;function me(q,K,z){var st=0,ft=0;if(typeof z<"u"){let xt=parseInt(z);st=Math.floor(xt/100),ft=xt%100}var ht=function(xt,wt){var it=It(xt,wt.component);if("YMDdFWwXxHhms".indexOf(wt.component)!==-1)if(wt.component==="Y"&&wt.n!==-1&&(it=it%Math.pow(10,wt.n)),wt.names){if(wt.component==="M"||wt.component==="x")it=Et[it-1];else if(wt.component==="F")it=Ct[it];else throw{code:"D3133",value:wt.component};wt.names===et.UPPER?it=it.toUpperCase():wt.names===et.LOWER&&(it=it.toLowerCase()),wt.width&&it.length>wt.width.max&&(it=it.substring(0,wt.width.max))}else it=Q(it,wt.integerFormat);else if(wt.component==="f")it=Q(it,wt.integerFormat);else if(wt.component==="Z"||wt.component==="z"){let te=st*100+ft;if(wt.integerFormat.regular)it=Q(te,wt.integerFormat);else{let Bt=wt.integerFormat.mandatoryDigits;if(Bt===1||Bt===2)it=Q(st,wt.integerFormat),ft!==0&&(it+=":"+B(ft,"00"));else if(Bt===3||Bt===4)it=Q(te,wt.integerFormat);else throw{code:"D3134",value:Bt}}te>=0&&(it="+"+it),wt.component==="z"&&(it="GMT"+it),te===0&&wt.presentation2==="t"&&(it="Z")}return it};let $;typeof K>"u"?(Qt===null&&(Qt=Nt("[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].[f001][Z01:01t]")),$=Qt):$=Nt(K);let pt=(60*st+ft)*60*1e3,Pt=new Date(q+pt),Yt="";return $.parts.forEach(function(xt){xt.type==="literal"?Yt+=xt.value:Yt+=ht(Pt,xt)}),Yt}function V(q){var K={};if(q.type==="datetime")K.type="datetime",K.parts=q.parts.map(function(z){var st={};if(z.type==="literal")st.regex=z.value.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");else if(z.component==="Z"||z.component==="z"){let ht;Array.isArray(z.integerFormat.groupingSeparators)||(ht=z.integerFormat.groupingSeparators),st.regex="",z.component==="z"&&(st.regex="GMT"),st.regex+="[-+][0-9]+",ht&&(st.regex+=ht.character+"[0-9]+"),st.parse=function($){z.component==="z"&&($=$.substring(3));let pt=0,Pt=0;return ht?(pt=Number.parseInt($.substring(0,$.indexOf(ht.character))),Pt=Number.parseInt($.substring($.indexOf(ht.character)+1))):$.length-1<=2?pt=Number.parseInt($):(pt=Number.parseInt($.substring(0,3)),Pt=Number.parseInt($.substring(3))),pt*60+Pt}}else if(z.integerFormat)z.integerFormat.n=z.n,st=V(z.integerFormat);else{st.regex="[a-zA-Z]+";var ft={};if(z.component==="M"||z.component==="x")Et.forEach(function(ht,$){z.width&&z.width.max?ft[ht.substring(0,z.width.max)]=$+1:ft[ht]=$+1});else if(z.component==="F")Ct.forEach(function(ht,$){$>0&&(z.width&&z.width.max?ft[ht.substring(0,z.width.max)]=$:ft[ht]=$)});else if(z.component==="P")ft={am:0,AM:0,pm:1,PM:1};else throw{code:"D3133",value:z.component};st.parse=function(ht){return ft[ht]}}return st.component=z.component,st});else{K.type="integer";let z=q.case===et.UPPER,st;switch(q.n&&q.n>0?q.optionalDigits===0?st=`{${q.n}}`:st=`{${q.n-q.optionalDigits},${q.n}}`:st="+",q.primary){case J.LETTERS:K.regex=z?"[A-Z]+":"[a-z]+",K.parse=function(ft){return j(ft,z?"A":"a")};break;case J.ROMAN:K.regex=z?"[MDCLXVI]+":"[mdclxvi]+",K.parse=function(ft){return F(z?ft:ft.toUpperCase())};break;case J.WORDS:K.regex="(?:"+Object.keys(p).concat("and","[\\-, ]").join("|")+")+",K.parse=function(ft){return m(ft.toLowerCase())};break;case J.DECIMAL:K.regex=`[0-9]${st}`,q.ordinal&&(K.regex+="(?:th|st|nd|rd)"),K.parse=function(ft){let ht=ft;return q.ordinal&&(ht=ft.substring(0,ft.length-2)),q.regular?ht=ht.split(",").join(""):q.groupingSeparators.forEach($=>{ht=ht.split($.character).join("")}),q.zeroCode!==48&&(ht=ht.split("").map($=>String.fromCodePoint($.codePointAt(0)-q.zeroCode+48)).join("")),parseInt(ht)};break;case J.SEQUENCE:throw{code:"D3130",value:q.token}}}return K}function W(q,K){if(typeof q>"u")return;let z=yt(K);return V(z).parse(q)}function ot(q,K){let z=Nt(K),st=V(z),ft="^"+st.parts.map(Pt=>"("+Pt.regex+")").join("")+"$";var $=new RegExp(ft,"i").exec(q);if($!==null){let Bt={};for(let I=1;I<$.length;I++){let b=st.parts[I-1];b.parse&&(Bt[b.component]=b.parse($[I]))}if(Object.getOwnPropertyNames(Bt).length===0)return;let Qe=0,Ai=I=>{Qe<<=1,Qe+=I?1:0},ii=I=>!(~I&Qe)&&!!(I&Qe);"YXMxWwdD".split("").forEach(I=>Ai(Bt[I]));let $e=!ii(161)&&ii(130),en=ii(84),un=!en&&ii(72);Qe=0,"PHhmsf".split("").forEach(I=>Ai(Bt[I]));let Tt=!ii(23)&&ii(47),We=($e?"YD":en?"XxwF":un?"XWF":"YMD")+(Tt?"Phmsf":"Hmsf"),Jn=this.environment.timestamp,Si=!1,Ot=!1;if(We.split("").forEach(I=>{if(typeof Bt[I]>"u")Si?(Bt[I]="MDd".indexOf(I)!==-1?1:0,Ot=!0):Bt[I]=It(Jn,I);else if(Si=!0,Ot)throw{code:"D3136"}}),Bt.M>0?Bt.M-=1:Bt.M=0,$e){let I=Date.UTC(Bt.Y,0),b=(Bt.d-1)*1e3*60*60*24,A=new Date(I+b);Bt.M=A.getUTCMonth(),Bt.D=A.getUTCDate()}if(en)throw{code:"D3136"};if(un)throw{code:"D3136"};Tt&&(Bt.H=Bt.h===12?0:Bt.h,Bt.P===1&&(Bt.H+=12));var pt=Date.UTC(Bt.Y,Bt.M,Bt.D,Bt.H,Bt.m,Bt.s,Bt.f);return(Bt.Z||Bt.z)&&(pt-=(Bt.Z||Bt.z)*60*1e3),pt}}var kt=new RegExp("^\\d{4}(-[01]\\d)*(-[0-3]\\d)*(T[0-2]\\d:[0-5]\\d:[0-5]\\d)*(\\.\\d+)?([+-][0-2]\\d:?[0-5]\\d|Z)?$");function qt(q,K){if(!(typeof q>"u"))if(typeof K>"u"){if(!kt.test(q))throw{stack:new Error().stack,code:"D3110",value:q};return Date.parse(q)}else return ot.call(this,q,K)}function at(q,K,z){if(!(typeof q>"u"))return me.call(this,q,K,z)}return{formatInteger:B,parseInteger:W,fromMillis:at,toMillis:qt}}();r.exports=c},{"./utils":6}],2:[function(i,r,a){(function(h){(function(){var c=i("./utils");let f=(()=>{"use strict";var x=c.isNumeric,d=c.isArrayOfStrings,k=c.isArrayOfNumbers,_=c.createSequence,l=c.isSequence,p=c.isFunction,m=c.isLambda,v=c.isIterable,C=c.getFunctionArity,P=c.isDeepEqual,F=c.stringToArray;function L(E){if(!(typeof E>"u")){var N=0;return E.forEach(function(R){N+=R}),N}}function j(E){return typeof E>"u"?0:E.length}function B(E){if(!(typeof E>"u"||E.length===0))return Math.max.apply(Math,E)}function J(E){if(!(typeof E>"u"||E.length===0))return Math.min.apply(Math,E)}function et(E){if(!(typeof E>"u"||E.length===0)){var N=0;return E.forEach(function(R){N+=R}),N/E.length}}function Q(E,N=!1){if(!(typeof E>"u")){var R;if(typeof E=="string")R=E;else if(p(E))R="";else{if(typeof E=="number"&&!isFinite(E))throw{code:"D3001",value:E,stack:new Error().stack};var G=N?2:0;Array.isArray(E)&&E.outerWrapper&&(E=E[0]),R=JSON.stringify(E,function(X,tt){return typeof tt<"u"&&tt!==null&&tt.toPrecision&&x(tt)?Number(tt.toPrecision(15)):tt&&p(tt)?"":tt},G)}return R}}function rt(E,N,R){if(!(typeof E>"u")){var G=F(E),X=G.length;if(X+N<0&&(N=0),typeof R<"u"){if(R<=0)return"";var tt=N>=0?N+R:X+N+R;return G.slice(N,tt).join("")}return G.slice(N).join("")}}function yt(E,N){if(!(typeof E>"u")){var R=E.indexOf(N);return R>-1?E.substr(0,R):E}}function Rt(E,N){if(!(typeof E>"u")){var R=E.indexOf(N);return R>-1?E.substr(R+N.length):E}}function Nt(E){if(!(typeof E>"u"))return E.toLowerCase()}function Ct(E){if(!(typeof E>"u"))return E.toUpperCase()}function Et(E){if(!(typeof E>"u"))return F(E).length}function vt(E){if(!(typeof E>"u")){var N=E.replace(/[ \t\n\r]+/gm," ");return N.charAt(0)===" "&&(N=N.substring(1)),N.charAt(N.length-1)===" "&&(N=N.substring(0,N.length-1)),N}}function dt(E,N,R){if(!(typeof E>"u")){(typeof R>"u"||R.length===0)&&(R=" ");var G,X=Math.abs(N)-Et(E);if(X>0){var tt=new Array(X+1).join(R);R.length>1&&(tt=rt(tt,0,X)),N>0?G=E+tt:G=tt+E}else G=E;return G}}function*ct(E,N){var R=E.apply(this,[N]);if(v(R)&&(R=yield*R),R&&!(typeof R.start=="number"||R.end==="number"||Array.isArray(R.groups)||p(R.next)))throw{code:"T1010",stack:new Error().stack};return R}function*ee(E,N){if(!(typeof E>"u")){var R;if(typeof N=="string")R=E.indexOf(N)!==-1;else{var G=yield*ct(N,E);R=typeof G<"u"}return R}}function*It(E,N,R){if(!(typeof E>"u")){if(R<0)throw{stack:new Error().stack,value:R,code:"D3040",index:3};var G=_();if(typeof R>"u"||R>0){var X=0,tt=yield*ct(N,E);if(typeof tt<"u")for(;typeof tt<"u"&&(typeof R>"u"||X<R);)G.push({match:tt.match,index:tt.start,groups:tt.groups}),tt=yield*ct(tt.next),X++}return G}}function*Qt(E,N,R,G){if(!(typeof E>"u")){var X=this;if(N==="")throw{code:"D3010",stack:new Error().stack,value:N,index:2};if(G<0)throw{code:"D3011",stack:new Error().stack,value:G,index:4};var tt;typeof R=="string"?tt=function(ve){for(var fi="",ke=0,Di=R.indexOf("$",ke);Di!==-1&&ke<R.length;){fi+=R.substring(ke,Di),ke=Di+1;var Fe=R.charAt(ke);if(Fe==="$")fi+="$",ke++;else if(Fe==="0")fi+=ve.match,ke++;else{var Ni;if(ve.groups.length===0?Ni=1:Ni=Math.floor(Math.log(ve.groups.length)*Math.LOG10E)+1,Di=parseInt(R.substring(ke,ke+Ni),10),Ni>1&&Di>ve.groups.length&&(Di=parseInt(R.substring(ke,ke+Ni-1),10)),isNaN(Di))fi+="$";else{if(ve.groups.length>0){var cs=ve.groups[Di-1];typeof cs<"u"&&(fi+=cs)}ke+=Di.toString().length}}Di=R.indexOf("$",ke)}return fi+=R.substring(ke),fi}:tt=R;var mt="",Ut=0;if(typeof G>"u"||G>0){var $t=0;if(typeof N=="string"){for(var re=E.indexOf(N,Ut);re!==-1&&(typeof G>"u"||$t<G);)mt+=E.substring(Ut,re),mt+=R,Ut=re+N.length,$t++,re=E.indexOf(N,Ut);mt+=E.substring(Ut)}else{var ge=yield*ct(N,E);if(typeof ge<"u"){for(;typeof ge<"u"&&(typeof G>"u"||$t<G);){mt+=E.substring(Ut,ge.start);var _e=tt.apply(X,[ge]);if(v(_e)&&(_e=yield*_e),typeof _e=="string")mt+=_e;else throw{code:"D3012",stack:new Error().stack,value:_e};Ut=ge.start+ge.match.length,$t++,ge=yield*ct(ge.next)}mt+=E.substring(Ut)}else mt=E}}else mt=E;return mt}}function me(E){if(!(typeof E>"u")){var N=typeof window<"u"?window.btoa:function(R){return new h.Buffer.from(R,"binary").toString("base64")};return N(E)}}function V(E){if(!(typeof E>"u")){var N=typeof window<"u"?window.atob:function(R){return new h.Buffer.from(R,"base64").toString("binary")};return N(E)}}function W(E){if(!(typeof E>"u")){var N;try{N=encodeURIComponent(E)}catch{throw{code:"D3140",stack:new Error().stack,value:E,functionName:"encodeUrlComponent"}}return N}}function ot(E){if(!(typeof E>"u")){var N;try{N=encodeURI(E)}catch{throw{code:"D3140",stack:new Error().stack,value:E,functionName:"encodeUrl"}}return N}}function kt(E){if(!(typeof E>"u")){var N;try{N=decodeURIComponent(E)}catch{throw{code:"D3140",stack:new Error().stack,value:E,functionName:"decodeUrlComponent"}}return N}}function qt(E){if(!(typeof E>"u")){var N;try{N=decodeURI(E)}catch{throw{code:"D3140",stack:new Error().stack,value:E,functionName:"decodeUrl"}}return N}}function*at(E,N,R){if(!(typeof E>"u")){if(R<0)throw{code:"D3020",stack:new Error().stack,value:R,index:3};var G=[];if(typeof R>"u"||R>0)if(typeof N=="string")G=E.split(N,R);else{var X=0,tt=yield*ct(N,E);if(typeof tt<"u"){for(var mt=0;typeof tt<"u"&&(typeof R>"u"||X<R);)G.push(E.substring(mt,tt.start)),mt=tt.end,tt=yield*ct(tt.next),X++;(typeof R>"u"||X<R)&&G.push(E.substring(mt))}else G.push(E)}return G}}function q(E,N){if(!(typeof E>"u"))return typeof N>"u"&&(N=""),E.join(N)}function K(E,N,R){if(!(typeof E>"u")){var G={"decimal-separator":".","grouping-separator":",","exponent-separator":"e",infinity:"Infinity","minus-sign":"-",NaN:"NaN",percent:"%","per-mille":"\u2030","zero-digit":"0",digit:"#","pattern-separator":";"},X=G;typeof R<"u"&&Object.keys(R).forEach(function(jt){X[jt]=R[jt]});for(var tt=[],mt=X["zero-digit"].charCodeAt(0),Ut=mt;Ut<mt+10;Ut++)tt.push(String.fromCharCode(Ut));var $t=tt.concat([X["decimal-separator"],X["exponent-separator"],X["grouping-separator"],X.digit,X["pattern-separator"]]),re=N.split(X["pattern-separator"]);if(re.length>2)throw{code:"D3080",stack:new Error().stack};var ge=function(jt){var Re=function(){for(var ni,Ii=0;Ii<jt.length;Ii++)if(ni=jt.charAt(Ii),$t.indexOf(ni)!==-1&&ni!==X["exponent-separator"])return jt.substring(0,Ii)}(),_i=function(){for(var ni,Ii=jt.length-1;Ii>=0;Ii--)if(ni=jt.charAt(Ii),$t.indexOf(ni)!==-1&&ni!==X["exponent-separator"])return jt.substring(Ii+1)}(),Ie=jt.substring(Re.length,jt.length-_i.length),pi,bn,ki,Xn,Ri=jt.indexOf(X["exponent-separator"],Re.length);Ri===-1||Ri>jt.length-_i.length?(pi=Ie,bn=void 0):(pi=Ie.substring(0,Ri),bn=Ie.substring(Ri+1));var qi=pi.indexOf(X["decimal-separator"]);return qi===-1?(ki=pi,Xn=_i):(ki=pi.substring(0,qi),Xn=pi.substring(qi+1)),{prefix:Re,suffix:_i,activePart:Ie,mantissaPart:pi,exponentPart:bn,integerPart:ki,fractionalPart:Xn,subpicture:jt}},_e=function(jt){var Re,_i,Ie=jt.subpicture,pi=Ie.indexOf(X["decimal-separator"]);pi!==Ie.lastIndexOf(X["decimal-separator"])&&(Re="D3081"),Ie.indexOf(X.percent)!==Ie.lastIndexOf(X.percent)&&(Re="D3082"),Ie.indexOf(X["per-mille"])!==Ie.lastIndexOf(X["per-mille"])&&(Re="D3083"),Ie.indexOf(X.percent)!==-1&&Ie.indexOf(X["per-mille"])!==-1&&(Re="D3084");var bn=!1;for(_i=0;_i<jt.mantissaPart.length;_i++){var ki=jt.mantissaPart.charAt(_i);if(tt.indexOf(ki)!==-1||ki===X.digit){bn=!0;break}}bn||(Re="D3085");var Xn=jt.activePart.split("").map(function(ni){return $t.indexOf(ni)===-1?"p":"a"}).join("");Xn.indexOf("p")!==-1&&(Re="D3086"),pi!==-1?(Ie.charAt(pi-1)===X["grouping-separator"]||Ie.charAt(pi+1)===X["grouping-separator"])&&(Re="D3087"):jt.integerPart.charAt(jt.integerPart.length-1)===X["grouping-separator"]&&(Re="D3088"),Ie.indexOf(X["grouping-separator"]+X["grouping-separator"])!==-1&&(Re="D3089");var Ri=jt.integerPart.indexOf(X.digit);Ri!==-1&&jt.integerPart.substring(0,Ri).split("").filter(function(ni){return tt.indexOf(ni)>-1}).length>0&&(Re="D3090"),Ri=jt.fractionalPart.lastIndexOf(X.digit),Ri!==-1&&jt.fractionalPart.substring(Ri).split("").filter(function(ni){return tt.indexOf(ni)>-1}).length>0&&(Re="D3091");var qi=typeof jt.exponentPart=="string";if(qi&&jt.exponentPart.length>0&&(Ie.indexOf(X.percent)!==-1||Ie.indexOf(X["per-mille"])!==-1)&&(Re="D3092"),qi&&(jt.exponentPart.length===0||jt.exponentPart.split("").filter(function(ni){return tt.indexOf(ni)===-1}).length>0)&&(Re="D3093"),Re)throw{code:Re,stack:new Error().stack}},ve=function(jt){var Re=function(oi,An){for(var Os=[],ln=oi.indexOf(X["grouping-separator"]);ln!==-1;){var Ks=(An?oi.substring(0,ln):oi.substring(ln)).split("").filter(function(Kn){return tt.indexOf(Kn)!==-1||Kn===X.digit}).length;Os.push(Ks),ln=jt.integerPart.indexOf(X["grouping-separator"],ln+1)}return Os},_i=Re(jt.integerPart),Ie=function(oi){if(oi.length===0)return 0;for(var An=function(Ks,Kn){return Kn===0?Ks:An(Kn,Ks%Kn)},Os=oi.reduce(An),ln=1;ln<=oi.length;ln++)if(oi.indexOf(ln*Os)===-1)return 0;return Os},pi=Ie(_i),bn=Re(jt.fractionalPart,!0),ki=jt.integerPart.split("").filter(function(oi){return tt.indexOf(oi)!==-1}).length,Xn=ki,Ri=jt.fractionalPart.split(""),qi=Ri.filter(function(oi){return tt.indexOf(oi)!==-1}).length,ni=Ri.filter(function(oi){return tt.indexOf(oi)!==-1||oi===X.digit}).length,Ii=typeof jt.exponentPart=="string";ki===0&&ni===0&&(Ii?(qi=1,ni=1):ki=1),Ii&&ki===0&&jt.integerPart.indexOf(X.digit)!==-1&&(ki=1),ki===0&&qi===0&&(qi=1);var ho=0;return Ii&&(ho=jt.exponentPart.split("").filter(function(oi){return tt.indexOf(oi)!==-1}).length),{integerPartGroupingPositions:_i,regularGrouping:pi,minimumIntegerPartSize:ki,scalingFactor:Xn,prefix:jt.prefix,fractionalPartGroupingPositions:bn,minimumFactionalPartSize:qi,maximumFactionalPartSize:ni,minimumExponentSize:ho,suffix:jt.suffix,picture:jt.subpicture}},fi=re.map(ge);fi.forEach(_e);var ke=fi.map(ve),Di=X["minus-sign"],Fe=X["zero-digit"],Ni=X["decimal-separator"],cs=X["grouping-separator"];ke.length===1&&(ke.push(JSON.parse(JSON.stringify(ke[0]))),ke[1].prefix=Di+ke[1].prefix);var ze;E>=0?ze=ke[0]:ze=ke[1];var jn;ze.picture.indexOf(X.percent)!==-1?jn=E*100:ze.picture.indexOf(X["per-mille"])!==-1?jn=E*1e3:jn=E;var Cn,Yn;if(ze.minimumExponentSize===0)Cn=jn;else{var Ha=Math.pow(10,ze.scalingFactor),ro=Math.pow(10,ze.scalingFactor-1);for(Cn=jn,Yn=0;Cn<ro;)Cn*=10,Yn-=1;for(;Cn>Ha;)Cn/=10,Yn+=1}var Va=pt(Cn,ze.maximumFactionalPartSize),Cr=function(jt,Re){var _i=Math.abs(jt).toFixed(Re);return Fe!=="0"&&(_i=_i.split("").map(function(Ie){return Ie>="0"&&Ie<="9"?tt[Ie.charCodeAt(0)-48]:Ie}).join("")),_i},se=Cr(Va,ze.maximumFactionalPartSize),Ze=se.indexOf(".");for(Ze===-1?se=se+Ni:se=se.replace(".",Ni);se.charAt(0)===Fe;)se=se.substring(1);for(;se.charAt(se.length-1)===Fe;)se=se.substring(0,se.length-1);Ze=se.indexOf(Ni);var fs=ze.minimumIntegerPartSize-Ze,oo=ze.minimumFactionalPartSize-(se.length-Ze-1);if(se=(fs>0?new Array(fs+1).join(Fe):"")+se,se=se+(oo>0?new Array(oo+1).join(Fe):""),Ze=se.indexOf(Ni),ze.regularGrouping>0)for(var ao=Math.floor((Ze-1)/ze.regularGrouping),Xs=1;Xs<=ao;Xs++)se=[se.slice(0,Ze-Xs*ze.regularGrouping),cs,se.slice(Ze-Xs*ze.regularGrouping)].join("");else ze.integerPartGroupingPositions.forEach(function(jt){se=[se.slice(0,Ze-jt),cs,se.slice(Ze-jt)].join(""),Ze++});if(Ze=se.indexOf(Ni),ze.fractionalPartGroupingPositions.forEach(function(jt){se=[se.slice(0,jt+Ze+1),cs,se.slice(jt+Ze+1)].join("")}),Ze=se.indexOf(Ni),(ze.picture.indexOf(Ni)===-1||Ze===se.length-1)&&(se=se.substring(0,se.length-1)),typeof Yn<"u"){var Ps=Cr(Yn,0);fs=ze.minimumExponentSize-Ps.length,fs>0&&(Ps=new Array(fs+1).join(Fe)+Ps),se=se+X["exponent-separator"]+(Yn<0?Di:"")+Ps}return se=ze.prefix+se+ze.suffix,se}}function z(E,N){if(!(typeof E>"u")){if(E=pt(E),typeof N>"u"?N=10:N=pt(N),N<2||N>36)throw{code:"D3100",stack:new Error().stack,value:N};var R=E.toString(N);return R}}function st(E){var N;if(!(typeof E>"u")){if(typeof E=="number")N=E;else if(typeof E=="string"&&/^-?[0-9]+(\.[0-9]+)?([Ee][-+]?[0-9]+)?$/.test(E)&&!isNaN(parseFloat(E))&&isFinite(E))N=parseFloat(E);else if(E===!0)N=1;else if(E===!1)N=0;else throw{code:"D3030",value:E,stack:new Error().stack,index:1};return N}}function ft(E){var N;if(!(typeof E>"u"))return N=Math.abs(E),N}function ht(E){var N;if(!(typeof E>"u"))return N=Math.floor(E),N}function $(E){var N;if(!(typeof E>"u"))return N=Math.ceil(E),N}function pt(E,N){var R;if(!(typeof E>"u")){if(N){var G=E.toString().split("e");E=+(G[0]+"e"+(G[1]?+G[1]+N:N))}R=Math.round(E);var X=R-E;return Math.abs(X)===.5&&Math.abs(R%2)===1&&(R=R-1),N&&(G=R.toString().split("e"),R=+(G[0]+"e"+(G[1]?+G[1]-N:-N))),Object.is(R,-0)&&(R=0),R}}function Pt(E){var N;if(!(typeof E>"u")){if(E<0)throw{stack:new Error().stack,code:"D3060",index:1,value:E};return N=Math.sqrt(E),N}}function Yt(E,N){var R;if(!(typeof E>"u")){if(R=Math.pow(E,N),!isFinite(R))throw{stack:new Error().stack,code:"D3061",index:1,value:E,exp:N};return R}}function xt(){return Math.random()}function wt(E){if(!(typeof E>"u")){var N=!1;if(Array.isArray(E)){if(E.length===1)N=wt(E[0]);else if(E.length>1){var R=E.filter(function(G){return wt(G)});N=R.length>0}}else typeof E=="string"?E.length>0&&(N=!0):x(E)?E!==0&&(N=!0):E!==null&&typeof E=="object"?Object.keys(E).length>0&&(N=!0):typeof E=="boolean"&&E===!0&&(N=!0);return N}}function it(E){if(!(typeof E>"u"))return!wt(E)}function te(E,N,R,G){var X=[N],tt=C(E);return tt>=2&&X.push(R),tt>=3&&X.push(G),X}function*Bt(E,N){if(!(typeof E>"u")){for(var R=_(),G=0;G<E.length;G++){var X=te(N,E[G],G,E),tt=yield*N.apply(this,X);typeof tt<"u"&&R.push(tt)}return R}}function*Qe(E,N){if(!(typeof E>"u")){for(var R=_(),G=0;G<E.length;G++){var X=E[G],tt=te(N,X,G,E),mt=yield*N.apply(this,tt);wt(mt)&&R.push(X)}return R}}function*Ai(E,N){if(!(typeof E>"u")){for(var R=!1,G,X=0;X<E.length;X++){var tt=E[X],mt=!0;if(typeof N<"u"){var Ut=te(N,tt,X,E),$t=yield*N.apply(this,Ut);mt=wt($t)}if(mt)if(!R)G=tt,R=!0;else throw{stack:new Error().stack,code:"D3138",index:X}}if(!R)throw{stack:new Error().stack,code:"D3139"};return G}}function ii(){for(var E=[],N=Array.prototype.slice.call(arguments),R=Math.min.apply(Math,N.map(function(tt){return Array.isArray(tt)?tt.length:0})),G=0;G<R;G++){var X=N.map(tt=>tt[G]);E.push(X)}return E}function*je(E,N,R){if(!(typeof E>"u")){var G,X=C(N);if(X<2)throw{stack:new Error().stack,code:"D3050",index:1};var tt;for(typeof R>"u"&&E.length>0?(G=E[0],tt=1):(G=R,tt=0);tt<E.length;){var mt=[G,E[tt]];X>=3&&mt.push(tt),X>=4&&mt.push(E),G=yield*N.apply(this,mt),tt++}return G}}function $e(E){var N=_();if(Array.isArray(E)){var R={};E.forEach(function(G){var X=$e(G);X.forEach(function(tt){R[tt]=!0})}),N=$e(R)}else E!==null&&typeof E=="object"&&!m(E)&&Object.keys(E).forEach(G=>N.push(G));return N}function en(E,N){var R;if(Array.isArray(E)){R=_();for(var G=0;G<E.length;G++){var X=en(E[G],N);typeof X<"u"&&(Array.isArray(X)?X.forEach(tt=>R.push(tt)):R.push(X))}}else E!==null&&typeof E=="object"&&(R=E[N]);return R}function un(E,N){return typeof E>"u"?N:typeof N>"u"?E:(Array.isArray(E)||(E=_(E)),Array.isArray(N)||(N=[N]),E.concat(N))}function qn(E){return!(typeof E>"u")}function Tt(E){var N=_();if(Array.isArray(E))E.forEach(function(X){N=un(N,Tt(X))});else if(E!==null&&typeof E=="object"&&!m(E))for(var R in E){var G={};G[R]=E[R],N.push(G)}else N=E;return N}function ls(E){if(!(typeof E>"u")){var N={};return E.forEach(function(R){for(var G in R)N[G]=R[G]}),N}}function zn(E){if(!(typeof E>"u")){if(E.length<=1)return E;for(var N=E.length,R=new Array(N),G=0;G<N;G++)R[N-G-1]=E[G];return R}}function*We(E,N){var R=_();for(var G in E){var X=te(N,E[G],G,E),tt=yield*N.apply(this,X);typeof tt<"u"&&R.push(tt)}return R}function Jn(E){throw{code:"D3137",stack:new Error().stack,message:E||"$error() function evaluated"}}function Si(E,N){if(!E)throw{code:"D3141",stack:new Error().stack,message:N||"$assert() statement failed"}}function Ot(E){if(E!==void 0)return E===null?"null":x(E)?"number":typeof E=="string"?"string":typeof E=="boolean"?"boolean":Array.isArray(E)?"array":p(E)?"function":"object"}function*I(E,N){if(!(typeof E>"u")){if(E.length<=1)return E;var R;if(typeof N>"u"){if(!k(E)&&!d(E))throw{stack:new Error().stack,code:"D3070",index:1};R=function*(mt,Ut){return mt>Ut}}else R=N;var G=function*(mt,Ut){var $t=function*(ge,_e,ve){_e.length===0?Array.prototype.push.apply(ge,ve):ve.length===0?Array.prototype.push.apply(ge,_e):(yield*R(_e[0],ve[0]))?(ge.push(ve[0]),yield*$t(ge,_e,ve.slice(1))):(ge.push(_e[0]),yield*$t(ge,_e.slice(1),ve))},re=[];return yield*$t(re,mt,Ut),re},X=function*(mt){if(!Array.isArray(mt)||mt.length<=1)return mt;var Ut=Math.floor(mt.length/2),$t=mt.slice(0,Ut),re=mt.slice(Ut);return $t=yield*X($t),re=yield*X(re),yield*G($t,re)},tt=yield*X(E);return tt}}function b(E){if(!(typeof E>"u")){if(E.length<=1)return E;for(var N=new Array(E.length),R=0;R<E.length;R++){var G=Math.floor(Math.random()*(R+1));R!==G&&(N[R]=N[G]),N[G]=E[R]}return N}}function A(E){if(!(typeof E>"u")){if(!Array.isArray(E)||E.length<=1)return E;for(var N=l(E)?_():[],R=0;R<E.length;R++){for(var G=E[R],X=!1,tt=0;tt<N.length;tt++)if(P(G,N[tt])){X=!0;break}X||N.push(G)}return N}}function*D(E,N){var R={};for(var G in E){var X=E[G],tt=te(N,X,G,E),mt=yield*N.apply(this,tt);wt(mt)&&(R[G]=X)}return Object.keys(R).length===0&&(R=void 0),R}return{sum:L,count:j,max:B,min:J,average:et,string:Q,substring:rt,substringBefore:yt,substringAfter:Rt,lowercase:Nt,uppercase:Ct,length:Et,trim:vt,pad:dt,match:It,contains:ee,replace:Qt,split:at,join:q,formatNumber:K,formatBase:z,number:st,floor:ht,ceil:$,round:pt,abs:ft,sqrt:Pt,power:Yt,random:xt,boolean:wt,not:it,map:Bt,zip:ii,filter:Qe,single:Ai,foldLeft:je,sift:D,keys:$e,lookup:en,append:un,exists:qn,spread:Tt,merge:ls,reverse:zn,each:We,error:Jn,assert:Si,type:Ot,sort:I,shuffle:b,distinct:A,base64encode:me,base64decode:V,encodeUrlComponent:W,encodeUrl:ot,decodeUrlComponent:kt,decodeUrl:qt}})();r.exports=f}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./utils":6}],3:[function(i,r,a){var h=i("./datetime"),c=i("./functions"),f=i("./utils"),x=i("./parser"),d=i("./signature"),k=function(){"use strict";var _=f.isNumeric,l=f.isArrayOfStrings,p=f.isArrayOfNumbers,m=f.createSequence,v=f.isSequence,C=f.isFunction,P=f.isLambda,F=f.isIterable,L=f.getFunctionArity,j=f.isDeepEqual,B=We(null);function*J(I,b,A){var D,E=A.lookup("__evaluate_entry");switch(E&&E(I,b,A),I.type){case"path":D=yield*et(I,b,A);break;case"binary":D=yield*Ct(I,b,A);break;case"unary":D=yield*Et(I,b,A);break;case"name":D=vt(I,b,A);break;case"string":case"number":case"value":D=dt(I,b,A);break;case"wildcard":D=ct(I,b,A);break;case"descendant":D=It(I,b,A);break;case"parent":D=A.lookup(I.slot.label);break;case"condition":D=yield*ft(I,b,A);break;case"block":D=yield*ht(I,b,A);break;case"bind":D=yield*st(I,b,A);break;case"regex":D=$(I,b,A);break;case"function":D=yield*it(I,b,A);break;case"variable":D=pt(I,b,A);break;case"lambda":D=Qe(I,b,A);break;case"partial":D=yield*Ai(I,b,A);break;case"apply":D=yield*wt(I,b,A);break;case"transform":D=Yt(I,b,A);break}if(A.async&&(typeof D>"u"||D===null||typeof D.then!="function")&&(D=Promise.resolve(D)),A.async&&typeof D.then=="function"&&I.nextFunction&&typeof D[I.nextFunction]=="function"||(D=yield D),Object.prototype.hasOwnProperty.call(I,"predicate"))for(var N=0;N<I.predicate.length;N++)D=yield*Nt(I.predicate[N].expr,D,A);I.type!=="path"&&Object.prototype.hasOwnProperty.call(I,"group")&&(D=yield*q(I.group,D,A));var R=A.lookup("__evaluate_exit");return R&&R(I,b,A,D),D&&v(D)&&!D.tupleStream&&(I.keepArray&&(D.keepSingleton=!0),D.length===0?D=void 0:D.length===1&&(D=D.keepSingleton?D:D[0])),D}function*et(I,b,A){var D;Array.isArray(b)&&I.steps[0].type!=="variable"?D=b:D=m(b);for(var E,N=!1,R=void 0,G=0;G<I.steps.length;G++){var X=I.steps[G];if(X.tuple&&(N=!0),G===0&&X.consarray?E=yield*J(X,D,A):N?R=yield*Rt(X,D,R,A):E=yield*rt(X,D,A,G===I.steps.length-1),!N&&(typeof E>"u"||E.length===0))break;typeof X.focus>"u"&&(D=E)}if(N)if(I.tuple)E=R;else for(E=m(),G=0;G<R.length;G++)E.push(R[G]["@"]);return I.keepSingletonArray&&(Array.isArray(E)&&E.cons&&!E.sequence&&(E=m(E)),E.keepSingleton=!0),I.hasOwnProperty("group")&&(E=yield*q(I.group,N?R:E,A)),E}function Q(I,b){var A=We(I);for(let D in b)A.bind(D,b[D]);return A}function*rt(I,b,A,D){var E;if(I.type==="sort")return E=yield*Pt(I,b,A),I.stages&&(E=yield*yt(I.stages,E,A)),E;E=m();for(var N=0;N<b.length;N++){var R=yield*J(I,b[N],A);if(I.stages)for(var G=0;G<I.stages.length;G++)R=yield*Nt(I.stages[G].expr,R,A);typeof R<"u"&&E.push(R)}var X=m();return D&&E.length===1&&Array.isArray(E[0])&&!v(E[0])?X=E[0]:E.forEach(function(tt){!Array.isArray(tt)||tt.cons?X.push(tt):tt.forEach(mt=>X.push(mt))}),X}function*yt(I,b,A){for(var D=b,E=0;E<I.length;E++){var N=I[E];switch(N.type){case"filter":D=yield*Nt(N.expr,D,A);break;case"index":for(var R=0;R<D.length;R++){var G=D[R];G[N.value]=R}break}}return D}function*Rt(I,b,A,D){var E;if(I.type==="sort"){if(A)E=yield*Pt(I,A,D);else{var N=yield*Pt(I,b,D);E=m(),E.tupleStream=!0;for(var R=0;R<N.length;R++){var G={"@":N[R]};G[I.index]=R,E.push(G)}}return I.stages&&(E=yield*yt(I.stages,E,D)),E}E=m(),E.tupleStream=!0;var X=D;A===void 0&&(A=b.map($t=>({"@":$t})));for(var tt=0;tt<A.length;tt++){X=Q(D,A[tt]);var mt=yield*J(I,A[tt]["@"],X);if(typeof mt<"u"){Array.isArray(mt)||(mt=[mt]);for(var Ut=0;Ut<mt.length;Ut++)G={},Object.assign(G,A[tt]),mt.tupleStream?Object.assign(G,mt[Ut]):(I.focus?(G[I.focus]=mt[Ut],G["@"]=A[tt]["@"]):G["@"]=mt[Ut],I.index&&(G[I.index]=Ut),I.ancestor&&(G[I.ancestor.label]=A[tt]["@"])),E.push(G)}}return I.stages&&(E=yield*yt(I.stages,E,D)),E}function*Nt(I,b,A){var D=m();if(b&&b.tupleStream&&(D.tupleStream=!0),Array.isArray(b)||(b=m(b)),I.type==="number"){var E=Math.floor(I.value);E<0&&(E=b.length+E);var N=b[E];typeof N<"u"&&(Array.isArray(N)?D=N:D.push(N))}else for(E=0;E<b.length;E++){var N=b[E],R=N,G=A;b.tupleStream&&(R=N["@"],G=Q(A,N));var X=yield*J(I,R,G);_(X)&&(X=[X]),p(X)?X.forEach(function(mt){var Ut=Math.floor(mt);Ut<0&&(Ut=b.length+Ut),Ut===E&&D.push(N)}):c.boolean(X)&&D.push(N)}return D}function*Ct(I,b,A){var D,E=yield*J(I.lhs,b,A),N=I.value,R=function*(){return yield*J(I.rhs,b,A)};if(N==="and"||N==="or")try{return yield*kt(E,R,N)}catch(X){throw X.position=I.position,X.token=N,X}var G=yield*R();try{switch(N){case"+":case"-":case"*":case"/":case"%":D=me(E,G,N);break;case"=":case"!=":D=V(E,G,N);break;case"<":case"<=":case">":case">=":D=W(E,G,N);break;case"&":D=at(E,G);break;case"..":D=z(E,G);break;case"in":D=ot(E,G);break}}catch(X){throw X.position=I.position,X.token=N,X}return D}function*Et(I,b,A){var D;switch(I.value){case"-":if(D=yield*J(I.expression,b,A),typeof D>"u")D=void 0;else if(_(D))D=-D;else throw{code:"D1002",stack:new Error().stack,position:I.position,token:I.value,value:D};break;case"[":D=[];for(var E=0;E<I.expressions.length;E++){var N=I.expressions[E],R=yield*J(N,b,A);typeof R<"u"&&(N.value==="["?D.push(R):D=c.append(D,R))}I.consarray&&Object.defineProperty(D,"cons",{enumerable:!1,configurable:!1,value:!0});break;case"{":D=yield*q(I,b,A);break}return D}function vt(I,b,A){return c.lookup(b,I.value)}function dt(I){return I.value}function ct(I,b){var A=m();return Array.isArray(b)&&b.outerWrapper&&b.length>0&&(b=b[0]),b!==null&&typeof b=="object"&&Object.keys(b).forEach(function(D){var E=b[D];Array.isArray(E)?(E=ee(E),A=c.append(A,E)):A.push(E)}),A}function ee(I,b){return typeof b>"u"&&(b=[]),Array.isArray(I)?I.forEach(function(A){ee(A,b)}):b.push(I),b}function It(I,b){var A,D=m();return typeof b<"u"&&(Qt(b,D),D.length===1?A=D[0]:A=D),A}function Qt(I,b){Array.isArray(I)||b.push(I),Array.isArray(I)?I.forEach(function(A){Qt(A,b)}):I!==null&&typeof I=="object"&&Object.keys(I).forEach(function(A){Qt(I[A],b)})}function me(I,b,A){var D;if(typeof I<"u"&&!_(I))throw{code:"T2001",stack:new Error().stack,value:I};if(typeof b<"u"&&!_(b))throw{code:"T2002",stack:new Error().stack,value:b};if(typeof I>"u"||typeof b>"u")return D;switch(A){case"+":D=I+b;break;case"-":D=I-b;break;case"*":D=I*b;break;case"/":D=I/b;break;case"%":D=I%b;break}return D}function V(I,b,A){var D,E=typeof I,N=typeof b;if(E==="undefined"||N==="undefined")return!1;switch(A){case"=":D=j(I,b);break;case"!=":D=!j(I,b);break}return D}function W(I,b,A){var D,E=typeof I,N=typeof b,R=E==="undefined"||E==="string"||E==="number",G=N==="undefined"||N==="string"||N==="number";if(!R||!G)throw{code:"T2010",stack:new Error().stack,value:E==="string"||E==="number"?b:I};if(!(E==="undefined"||N==="undefined")){if(E!==N)throw{code:"T2009",stack:new Error().stack,value:I,value2:b};switch(A){case"<":D=I<b;break;case"<=":D=I<=b;break;case">":D=I>b;break;case">=":D=I>=b;break}return D}}function ot(I,b){var A=!1;if(typeof I>"u"||typeof b>"u")return!1;Array.isArray(b)||(b=[b]);for(var D=0;D<b.length;D++)if(b[D]===I){A=!0;break}return A}function*kt(I,b,A){var D,E=qt(I);switch(A){case"and":D=E&&qt(yield*b());break;case"or":D=E||qt(yield*b());break}return D}function qt(I){var b=c.boolean(I);return typeof b>"u"?!1:b}function at(I,b){var A,D="",E="";return typeof I<"u"&&(D=c.string(I)),typeof b<"u"&&(E=c.string(b)),A=D.concat(E),A}function*q(I,b,A){var D={},E={},N=!!(b&&b.tupleStream);Array.isArray(b)||(b=m(b)),b.length===0&&b.push(void 0);for(var R=0;R<b.length;R++)for(var G=b[R],X=N?Q(A,G):A,tt=0;tt<I.lhs.length;tt++){var mt=I.lhs[tt],Ut=yield*J(mt[0],N?G["@"]:G,X);if(typeof Ut!="string"&&Ut!==void 0)throw{code:"T1003",stack:new Error().stack,position:I.position,value:Ut};if(Ut!==void 0){var $t={data:G,exprIndex:tt};if(E.hasOwnProperty(Ut)){if(E[Ut].exprIndex!==tt)throw{code:"D1009",stack:new Error().stack,position:I.position,value:Ut};E[Ut].data=c.append(E[Ut].data,G)}else E[Ut]=$t}}for(Ut in E){$t=E[Ut];var re=$t.data,X=A;if(N){var ge=K($t.data);re=ge["@"],delete ge["@"],X=Q(A,ge)}var _e=yield*J(I.lhs[$t.exprIndex][1],re,X);typeof _e<"u"&&(D[Ut]=_e)}return D}function K(I){if(!Array.isArray(I))return I;var b={};Object.assign(b,I[0]);for(var A=1;A<I.length;A++)for(let D in I[A])b[D]=c.append(b[D],I[A][D]);return b}function z(I,b){var A;if(typeof I<"u"&&!Number.isInteger(I))throw{code:"T2003",stack:new Error().stack,value:I};if(typeof b<"u"&&!Number.isInteger(b))throw{code:"T2004",stack:new Error().stack,value:b};if(typeof I>"u"||typeof b>"u"||I>b)return A;var D=b-I+1;if(D>1e7)throw{code:"D2014",stack:new Error().stack,value:D};A=new Array(D);for(var E=I,N=0;E<=b;E++,N++)A[N]=E;return A.sequence=!0,A}function*st(I,b,A){var D=yield*J(I.rhs,b,A);return A.bind(I.lhs.value,D),D}function*ft(I,b,A){var D,E=yield*J(I.condition,b,A);return c.boolean(E)?D=yield*J(I.then,b,A):typeof I.else<"u"&&(D=yield*J(I.else,b,A)),D}function*ht(I,b,A){for(var D,E=We(A),N=0;N<I.expressions.length;N++)D=yield*J(I.expressions[N],b,E);return D}function $(I){var b=new Ot.RegexEngine(I.value),A=function(D,E){var N;b.lastIndex=E||0;var R=b.exec(D);if(R!==null){if(N={match:R[0],start:R.index,end:R.index+R[0].length,groups:[]},R.length>1)for(var G=1;G<R.length;G++)N.groups.push(R[G]);N.next=function(){if(!(b.lastIndex>=D.length)){var X=A(D,b.lastIndex);if(X&&X.match==="")throw{code:"D1004",stack:new Error().stack,position:I.position,value:I.value.source};return X}}}return N};return A}function pt(I,b,A){var D;return I.value===""?D=b&&b.outerWrapper?b[0]:b:D=A.lookup(I.value),D}function*Pt(I,b,A){var D,E=b,N=!!b.tupleStream,R=function*(X,tt){for(var mt=0,Ut=0;mt===0&&Ut<I.terms.length;Ut++){var $t=I.terms[Ut],re=X,ge=A;N&&(re=X["@"],ge=Q(A,X));var _e=yield*J($t.expression,re,ge);re=tt,ge=A,N&&(re=tt["@"],ge=Q(A,tt));var ve=yield*J($t.expression,re,ge),fi=typeof _e,ke=typeof ve;if(fi==="undefined"){mt=ke==="undefined"?0:1;continue}if(ke==="undefined"){mt=-1;continue}if(!(fi==="string"||fi==="number")||!(ke==="string"||ke==="number"))throw{code:"T2008",stack:new Error().stack,position:I.position,value:fi==="string"||fi==="number"?ve:_e};if(fi!==ke)throw{code:"T2007",stack:new Error().stack,position:I.position,value:_e,value2:ve};_e!==ve&&(_e<ve?mt=-1:mt=1,$t.descending===!0&&(mt=-mt))}return mt===1},G={environment:A,input:b};return D=yield*c.sort.apply(G,[E,R]),D}function Yt(I,b,A){var D=function*(E){if(!(typeof E>"u")){var N=A.lookup("clone");if(!C(N))throw{code:"T2013",stack:new Error().stack,position:I.position};var R=yield*te(N,[E],null,A),G=yield*J(I.pattern,R,A);if(typeof G<"u"){Array.isArray(G)||(G=[G]);for(var X=0;X<G.length;X++){var tt=G[X],mt=yield*J(I.update,tt,A),Ut=typeof mt;if(Ut!=="undefined"){if(Ut!=="object"||mt===null||Array.isArray(mt))throw{code:"T2011",stack:new Error().stack,position:I.update.position,value:mt};for(var $t in mt)tt[$t]=mt[$t]}if(typeof I.delete<"u"){var re=yield*J(I.delete,tt,A);if(typeof re<"u"){var ge=re;if(Array.isArray(re)||(re=[re]),!l(re))throw{code:"T2012",stack:new Error().stack,position:I.delete.position,value:ge};for(var _e=0;_e<re.length;_e++)typeof tt=="object"&&tt!==null&&delete tt[re[_e]]}}}}return R}};return Tt(D,"<(oa):o>")}var xt=x("function($f, $g) { function($x){ $g($f($x)) } }");function*wt(I,b,A){var D,E=yield*J(I.lhs,b,A);if(I.rhs.type==="function")D=yield*it(I.rhs,b,A,{context:E});else{var N=yield*J(I.rhs,b,A);if(!C(N))throw{code:"T2006",stack:new Error().stack,position:I.position,value:N};if(C(E)){var R=yield*J(xt,null,A);D=yield*te(R,[E,N],null,A)}else D=yield*te(N,[E],null,A)}return D}function*it(I,b,A,D){var E,N=yield*J(I.procedure,b,A);if(typeof N>"u"&&I.procedure.type==="path"&&A.lookup(I.procedure.steps[0].value))throw{code:"T1005",stack:new Error().stack,position:I.position,token:I.procedure.steps[0].value};var R=[];typeof D<"u"&&R.push(D.context);for(var G=0;G<I.arguments.length;G++){let tt=yield*J(I.arguments[G],b,A);if(C(tt)){let mt=function*(...Ut){return yield*te(tt,Ut,null,A)};mt.arity=L(tt),R.push(mt)}else R.push(tt)}var X=I.procedure.type==="path"?I.procedure.steps[0].value:I.procedure.value;try{typeof N=="object"&&(N.token=X,N.position=I.position),E=yield*te(N,R,b,A)}catch(tt){throw tt.position||(tt.position=I.position),tt.token||(tt.token=X),tt}return E}function*te(I,b,A,D){var E;for(E=yield*Bt(I,b,A,D);P(E)&&E.thunk===!0;){var N=yield*J(E.body.procedure,E.input,E.environment);E.body.procedure.type==="variable"&&(N.token=E.body.procedure.value),N.position=E.body.procedure.position;for(var R=[],G=0;G<E.body.arguments.length;G++)R.push(yield*J(E.body.arguments[G],E.input,E.environment));E=yield*Bt(N,R,A,D)}return E}function*Bt(I,b,A,D){var E;try{var N=b;if(I&&(N=ii(I.signature,b,A)),P(I))E=yield*je(I,N);else if(I&&I._jsonata_function===!0){var R={environment:D,input:A};E=I.implementation.apply(R,N),F(E)&&(E=yield*E)}else if(typeof I=="function")E=I.apply(A,N),F(E)&&(E=yield*E);else throw{code:"T1006",stack:new Error().stack}}catch(G){throw I&&(typeof G.token>"u"&&typeof I.token<"u"&&(G.token=I.token),G.position=I.position),G}return E}function Qe(I,b,A){var D={_jsonata_lambda:!0,input:b,environment:A,arguments:I.arguments,signature:I.signature,body:I.body};return I.thunk===!0&&(D.thunk=!0),D.apply=function*(E,N){return yield*te(D,N,b,E.environment)},D}function*Ai(I,b,A){for(var D,E=[],N=0;N<I.arguments.length;N++){var R=I.arguments[N];R.type==="operator"&&R.value==="?"?E.push(R):E.push(yield*J(R,b,A))}var G=yield*J(I.procedure,b,A);if(typeof G>"u"&&I.procedure.type==="path"&&A.lookup(I.procedure.steps[0].value))throw{code:"T1007",stack:new Error().stack,position:I.position,token:I.procedure.steps[0].value};if(P(G))D=$e(G,E);else if(G&&G._jsonata_function===!0)D=en(G.implementation,E);else if(typeof G=="function")D=en(G,E);else throw{code:"T1008",stack:new Error().stack,position:I.position,token:I.procedure.type==="path"?I.procedure.steps[0].value:I.procedure.value};return D}function ii(I,b,A){if(typeof I>"u")return b;var D=I.validate(b,A);return D}function*je(I,b){var A,D=We(I.environment);return I.arguments.forEach(function(E,N){D.bind(E.value,b[N])}),typeof I.body=="function"?A=yield*un(I.body,D):A=yield*J(I.body,I.input,D),A}function $e(I,b){var A=We(I.environment),D=[];I.arguments.forEach(function(N,R){var G=b[R];G&&G.type==="operator"&&G.value==="?"?D.push(N):A.bind(N.value,G)});var E={_jsonata_lambda:!0,input:I.input,environment:A,arguments:D,body:I.body};return E}function en(I,b){var A=qn(I);A=A.map(function(R){return"$"+R.trim()});var D="function("+A.join(", ")+"){ _ }",E=x(D);E.body=I;var N=$e(E,b);return N}function*un(I,b){var A=qn(I),D=A.map(function(R){return b.lookup(R.trim())}),E={environment:b},N=I.apply(E,D);return F(N)&&(N=yield*N),N}function qn(I){var b=I.toString(),A=/\(([^)]*)\)/.exec(b)[1],D=A.split(",");return D}function Tt(I,b){var A={_jsonata_function:!0,implementation:I};return typeof b<"u"&&(A.signature=d(b)),A}function*ls(I,b){if(!(typeof I>"u")){var A=this.input;typeof b<"u"&&(A=b,Array.isArray(A)&&!v(A)&&(A=m(A),A.outerWrapper=!0));try{var D=x(I,!1)}catch(N){throw Si(N),{stack:new Error().stack,code:"D3120",value:N.message,error:N}}try{var E=yield*J(D,A,this.environment)}catch(N){throw Si(N),{stack:new Error().stack,code:"D3121",value:N.message,error:N}}return E}}function zn(I){if(!(typeof I>"u"))return JSON.parse(c.string(I))}function We(I){var b={};return{bind:function(A,D){b[A]=D},lookup:function(A){var D;return b.hasOwnProperty(A)?D=b[A]:I&&(D=I.lookup(A)),D},timestamp:I?I.timestamp:null,async:I?I.async:!1,global:I?I.global:{ancestry:[null]}}}B.bind("sum",Tt(c.sum,"<a<n>:n>")),B.bind("count",Tt(c.count,"<a:n>")),B.bind("max",Tt(c.max,"<a<n>:n>")),B.bind("min",Tt(c.min,"<a<n>:n>")),B.bind("average",Tt(c.average,"<a<n>:n>")),B.bind("string",Tt(c.string,"<x-b?:s>")),B.bind("substring",Tt(c.substring,"<s-nn?:s>")),B.bind("substringBefore",Tt(c.substringBefore,"<s-s:s>")),B.bind("substringAfter",Tt(c.substringAfter,"<s-s:s>")),B.bind("lowercase",Tt(c.lowercase,"<s-:s>")),B.bind("uppercase",Tt(c.uppercase,"<s-:s>")),B.bind("length",Tt(c.length,"<s-:n>")),B.bind("trim",Tt(c.trim,"<s-:s>")),B.bind("pad",Tt(c.pad,"<s-ns?:s>")),B.bind("match",Tt(c.match,"<s-f<s:o>n?:a<o>>")),B.bind("contains",Tt(c.contains,"<s-(sf):b>")),B.bind("replace",Tt(c.replace,"<s-(sf)(sf)n?:s>")),B.bind("split",Tt(c.split,"<s-(sf)n?:a<s>>")),B.bind("join",Tt(c.join,"<a<s>s?:s>")),B.bind("formatNumber",Tt(c.formatNumber,"<n-so?:s>")),B.bind("formatBase",Tt(c.formatBase,"<n-n?:s>")),B.bind("formatInteger",Tt(h.formatInteger,"<n-s:s>")),B.bind("parseInteger",Tt(h.parseInteger,"<s-s:n>")),B.bind("number",Tt(c.number,"<(nsb)-:n>")),B.bind("floor",Tt(c.floor,"<n-:n>")),B.bind("ceil",Tt(c.ceil,"<n-:n>")),B.bind("round",Tt(c.round,"<n-n?:n>")),B.bind("abs",Tt(c.abs,"<n-:n>")),B.bind("sqrt",Tt(c.sqrt,"<n-:n>")),B.bind("power",Tt(c.power,"<n-n:n>")),B.bind("random",Tt(c.random,"<:n>")),B.bind("boolean",Tt(c.boolean,"<x-:b>")),B.bind("not",Tt(c.not,"<x-:b>")),B.bind("map",Tt(c.map,"<af>")),B.bind("zip",Tt(c.zip,"<a+>")),B.bind("filter",Tt(c.filter,"<af>")),B.bind("single",Tt(c.single,"<af?>")),B.bind("reduce",Tt(c.foldLeft,"<afj?:j>")),B.bind("sift",Tt(c.sift,"<o-f?:o>")),B.bind("keys",Tt(c.keys,"<x-:a<s>>")),B.bind("lookup",Tt(c.lookup,"<x-s:x>")),B.bind("append",Tt(c.append,"<xx:a>")),B.bind("exists",Tt(c.exists,"<x:b>")),B.bind("spread",Tt(c.spread,"<x-:a<o>>")),B.bind("merge",Tt(c.merge,"<a<o>:o>")),B.bind("reverse",Tt(c.reverse,"<a:a>")),B.bind("each",Tt(c.each,"<o-f:a>")),B.bind("error",Tt(c.error,"<s?:x>")),B.bind("assert",Tt(c.assert,"<bs?:x>")),B.bind("type",Tt(c.type,"<x:s>")),B.bind("sort",Tt(c.sort,"<af?:a>")),B.bind("shuffle",Tt(c.shuffle,"<a:a>")),B.bind("distinct",Tt(c.distinct,"<x:x>")),B.bind("base64encode",Tt(c.base64encode,"<s-:s>")),B.bind("base64decode",Tt(c.base64decode,"<s-:s>")),B.bind("encodeUrlComponent",Tt(c.encodeUrlComponent,"<s-:s>")),B.bind("encodeUrl",Tt(c.encodeUrl,"<s-:s>")),B.bind("decodeUrlComponent",Tt(c.decodeUrlComponent,"<s-:s>")),B.bind("decodeUrl",Tt(c.decodeUrl,"<s-:s>")),B.bind("eval",Tt(ls,"<sx?:x>")),B.bind("toMillis",Tt(h.toMillis,"<s-s?:n>")),B.bind("fromMillis",Tt(h.fromMillis,"<n-s?s?:s>")),B.bind("clone",Tt(zn,"<(oa)-:o>"));var Jn={S0101:"String literal must be terminated by a matching quote",S0102:"Number out of range: {{token}}",S0103:"Unsupported escape sequence: \\{{token}}",S0104:"The escape sequence \\u must be followed by 4 hex digits",S0105:"Quoted property name must be terminated with a backquote (`)",S0106:"Comment has no closing tag",S0201:"Syntax error: {{token}}",S0202:"Expected {{value}}, got {{token}}",S0203:"Expected {{value}} before end of expression",S0204:"Unknown operator: {{token}}",S0205:"Unexpected token: {{token}}",S0206:"Unknown expression type: {{token}}",S0207:"Unexpected end of expression",S0208:"Parameter {{value}} of function definition must be a variable name (start with $)",S0209:"A predicate cannot follow a grouping expression in a step",S0210:"Each step can only have one grouping expression",S0211:"The symbol {{token}} cannot be used as a unary operator",S0212:"The left side of := must be a variable name (start with $)",S0213:"The literal value {{value}} cannot be used as a step within a path expression",S0214:"The right side of {{token}} must be a variable name (start with $)",S0215:"A context variable binding must precede any predicates on a step",S0216:"A context variable binding must precede the 'order-by' clause on a step",S0217:"The object representing the 'parent' cannot be derived from this expression",S0301:"Empty regular expressions are not allowed",S0302:"No terminating / in regular expression",S0402:"Choice groups containing parameterized types are not supported",S0401:"Type parameters can only be applied to functions and arrays",S0500:"Attempted to evaluate an expression containing syntax error(s)",T0410:"Argument {{index}} of function {{token}} does not match function signature",T0411:"Context value is not a compatible type with argument {{index}} of function {{token}}",T0412:"Argument {{index}} of function {{token}} must be an array of {{type}}",D1001:"Number out of range: {{value}}",D1002:"Cannot negate a non-numeric value: {{value}}",T1003:"Key in object structure must evaluate to a string; got: {{value}}",D1004:"Regular expression matches zero length string",T1005:"Attempted to invoke a non-function. Did you mean ${{{token}}}?",T1006:"Attempted to invoke a non-function",T1007:"Attempted to partially apply a non-function. Did you mean ${{{token}}}?",T1008:"Attempted to partially apply a non-function",D1009:"Multiple key definitions evaluate to same key: {{value}}",T1010:"The matcher function argument passed to function {{token}} does not return the correct object structure",T2001:"The left side of the {{token}} operator must evaluate to a number",T2002:"The right side of the {{token}} operator must evaluate to a number",T2003:"The left side of the range operator (..) must evaluate to an integer",T2004:"The right side of the range operator (..) must evaluate to an integer",D2005:"The left side of := must be a variable name (start with $)",T2006:"The right side of the function application operator ~> must be a function",T2007:"Type mismatch when comparing values {{value}} and {{value2}} in order-by clause",T2008:"The expressions within an order-by clause must evaluate to numeric or string values",T2009:"The values {{value}} and {{value2}} either side of operator {{token}} must be of the same data type",T2010:"The expressions either side of operator {{token}} must evaluate to numeric or string values",T2011:"The insert/update clause of the transform expression must evaluate to an object: {{value}}",T2012:"The delete clause of the transform expression must evaluate to a string or array of strings: {{value}}",T2013:"The transform expression clones the input object using the $clone() function.  This has been overridden in the current scope by a non-function.",D2014:"The size of the sequence allocated by the range operator (..) must not exceed 1e6.  Attempted to allocate {{value}}.",D3001:"Attempting to invoke string function on Infinity or NaN",D3010:"Second argument of replace function cannot be an empty string",D3011:"Fourth argument of replace function must evaluate to a positive number",D3012:"Attempted to replace a matched string with a non-string value",D3020:"Third argument of split function must evaluate to a positive number",D3030:"Unable to cast value to a number: {{value}}",D3040:"Third argument of match function must evaluate to a positive number",D3050:"The second argument of reduce function must be a function with at least two arguments",D3060:"The sqrt function cannot be applied to a negative number: {{value}}",D3061:"The power function has resulted in a value that cannot be represented as a JSON number: base={{value}}, exponent={{exp}}",D3070:"The single argument form of the sort function can only be applied to an array of strings or an array of numbers.  Use the second argument to specify a comparison function",D3080:"The picture string must only contain a maximum of two sub-pictures",D3081:"The sub-picture must not contain more than one instance of the 'decimal-separator' character",D3082:"The sub-picture must not contain more than one instance of the 'percent' character",D3083:"The sub-picture must not contain more than one instance of the 'per-mille' character",D3084:"The sub-picture must not contain both a 'percent' and a 'per-mille' character",D3085:"The mantissa part of a sub-picture must contain at least one character that is either an 'optional digit character' or a member of the 'decimal digit family'",D3086:"The sub-picture must not contain a passive character that is preceded by an active character and that is followed by another active character",D3087:"The sub-picture must not contain a 'grouping-separator' character that appears adjacent to a 'decimal-separator' character",D3088:"The sub-picture must not contain a 'grouping-separator' at the end of the integer part",D3089:"The sub-picture must not contain two adjacent instances of the 'grouping-separator' character",D3090:"The integer part of the sub-picture must not contain a member of the 'decimal digit family' that is followed by an instance of the 'optional digit character'",D3091:"The fractional part of the sub-picture must not contain an instance of the 'optional digit character' that is followed by a member of the 'decimal digit family'",D3092:"A sub-picture that contains a 'percent' or 'per-mille' character must not contain a character treated as an 'exponent-separator'",D3093:"The exponent part of the sub-picture must comprise only of one or more characters that are members of the 'decimal digit family'",D3100:"The radix of the formatBase function must be between 2 and 36.  It was given {{value}}",D3110:"The argument of the toMillis function must be an ISO 8601 formatted timestamp. Given {{value}}",D3120:"Syntax error in expression passed to function eval: {{value}}",D3121:"Dynamic error evaluating the expression passed to function eval: {{value}}",D3130:"Formatting or parsing an integer as a sequence starting with {{value}} is not supported by this implementation",D3131:"In a decimal digit pattern, all digits must be from the same decimal group",D3132:"Unknown component specifier {{value}} in date/time picture string",D3133:"The 'name' modifier can only be applied to months and days in the date/time picture string, not {{value}}",D3134:"The timezone integer format specifier cannot have more than four digits",D3135:"No matching closing bracket ']' in date/time picture string",D3136:"The date/time picture string is missing specifiers required to parse the timestamp",D3137:"{{{message}}}",D3138:"The $single() function expected exactly 1 matching result.  Instead it matched more.",D3139:"The $single() function expected exactly 1 matching result.  Instead it matched 0.",D3140:"Malformed URL passed to ${{{functionName}}}(): {{value}}",D3141:"{{{message}}}"};function Si(I){var b=Jn[I.code];if(typeof b<"u"){var A=b.replace(/\{\{\{([^}]+)}}}/g,function(){return I[arguments[1]]});A=A.replace(/\{\{([^}]+)}}/g,function(){return JSON.stringify(I[arguments[1]])}),I.message=A}}function Ot(I,b){var A,D;try{A=x(I,b&&b.recover),D=A.errors,delete A.errors}catch(R){throw Si(R),R}var E=We(B),N=new Date;return E.bind("now",Tt(function(R,G){return h.fromMillis(N.getTime(),R,G)},"<s?s?:s>")),E.bind("millis",Tt(function(){return N.getTime()},"<:n>")),b&&b.RegexEngine?Ot.RegexEngine=b.RegexEngine:Ot.RegexEngine=RegExp,{evaluate:function(R,G,X){if(typeof D<"u"){var tt={code:"S0500",position:0};throw Si(tt),tt}if(typeof G<"u"){var mt;mt=We(E);for(var Ut in G)mt.bind(Ut,G[Ut])}else mt=E;mt.bind("$",R),N=new Date,mt.timestamp=N,Array.isArray(R)&&!v(R)&&(R=m(R),R.outerWrapper=!0);var $t,re;if(typeof X=="function"){mt.async=!0;var ge=function(ve){Si(ve),X(ve,null)},_e=function(ve){$t=re.next(ve),$t.done?X(null,$t.value):$t.value.then(_e).catch(ge)};re=J(A,R,mt),$t=re.next(),$t.value.then(_e).catch(ge)}else try{for(re=J(A,R,mt),$t=re.next();!$t.done;)$t=re.next($t.value);return $t.value}catch(ve){throw Si(ve),ve}},assign:function(R,G){E.bind(R,G)},registerFunction:function(R,G,X){var tt=Tt(G,X);E.bind(R,tt)},ast:function(){return A},errors:function(){return D}}}return Ot.parser=x,Ot}();r.exports=k},{"./datetime":1,"./functions":2,"./parser":4,"./signature":5,"./utils":6}],4:[function(i,r,a){var h=i("./signature");let c=(()=>{"use strict";var f={".":75,"[":80,"]":0,"{":70,"}":0,"(":80,")":0,",":0,"@":80,"#":80,";":80,":":80,"?":20,"+":50,"-":50,"*":60,"/":60,"%":60,"|":20,"=":40,"<":40,">":40,"^":40,"**":60,"..":20,":=":10,"!=":40,"<=":40,">=":40,"~>":40,and:30,or:25,in:40,"&":50,"!":0,"~":0},x={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},d=function(_){var l=0,p=_.length,m=function(P,F){var L={type:P,value:F,position:l};return L},v=function(){for(var P=l,F=0,L,j;l<p;){var B=_.charAt(l);if(B==="/"&&_.charAt(l-1)!=="\\"&&F===0){if(L=_.substring(P,l),L==="")throw{code:"S0301",stack:new Error().stack,position:l};for(l++,B=_.charAt(l),P=l;B==="i"||B==="m";)l++,B=_.charAt(l);return j=_.substring(P,l)+"g",new RegExp(L,j)}(B==="("||B==="["||B==="{")&&_.charAt(l-1)!=="\\"&&F++,(B===")"||B==="]"||B==="}")&&_.charAt(l-1)!=="\\"&&F--,l++}throw{code:"S0302",stack:new Error().stack,position:l}},C=function(P){if(l>=p)return null;for(var F=_.charAt(l);l<p&&` 	
\r\v`.indexOf(F)>-1;)l++,F=_.charAt(l);if(F==="/"&&_.charAt(l+1)==="*"){var L=l;for(l+=2,F=_.charAt(l);!(F==="*"&&_.charAt(l+1)==="/");)if(F=_.charAt(++l),l>=p)throw{code:"S0106",stack:new Error().stack,position:L};return l+=2,F=_.charAt(l),C(P)}if(P!==!0&&F==="/")return l++,m("regex",v());if(F==="."&&_.charAt(l+1)===".")return l+=2,m("operator","..");if(F===":"&&_.charAt(l+1)==="=")return l+=2,m("operator",":=");if(F==="!"&&_.charAt(l+1)==="=")return l+=2,m("operator","!=");if(F===">"&&_.charAt(l+1)==="=")return l+=2,m("operator",">=");if(F==="<"&&_.charAt(l+1)==="=")return l+=2,m("operator","<=");if(F==="*"&&_.charAt(l+1)==="*")return l+=2,m("operator","**");if(F==="~"&&_.charAt(l+1)===">")return l+=2,m("operator","~>");if(Object.prototype.hasOwnProperty.call(f,F))return l++,m("operator",F);if(F==='"'||F==="'"){var j=F;l++;for(var B="";l<p;){if(F=_.charAt(l),F==="\\")if(l++,F=_.charAt(l),Object.prototype.hasOwnProperty.call(x,F))B+=x[F];else if(F==="u"){var J=_.substr(l+1,4);if(/^[0-9a-fA-F]+$/.test(J)){var et=parseInt(J,16);B+=String.fromCharCode(et),l+=4}else throw{code:"S0104",stack:new Error().stack,position:l}}else throw{code:"S0103",stack:new Error().stack,position:l,token:F};else{if(F===j)return l++,m("string",B);B+=F}l++}throw{code:"S0101",stack:new Error().stack,position:l}}var Q=/^-?(0|([1-9][0-9]*))(\.[0-9]+)?([Ee][-+]?[0-9]+)?/,rt=Q.exec(_.substring(l));if(rt!==null){var yt=parseFloat(rt[0]);if(!isNaN(yt)&&isFinite(yt))return l+=rt[0].length,m("number",yt);throw{code:"S0102",stack:new Error().stack,position:l,token:rt[0]}}var Rt;if(F==="`"){l++;var Nt=_.indexOf("`",l);if(Nt!==-1)return Rt=_.substring(l,Nt),l=Nt+1,m("name",Rt);throw l=p,{code:"S0105",stack:new Error().stack,position:l}}for(var Ct=l,Et;;)if(Et=_.charAt(Ct),Ct===p||` 	
\r\v`.indexOf(Et)>-1||Object.prototype.hasOwnProperty.call(f,Et)){if(_.charAt(l)==="$")return Rt=_.substring(l+1,Ct),l=Ct,m("variable",Rt);switch(Rt=_.substring(l,Ct),l=Ct,Rt){case"or":case"in":case"and":return m("operator",Rt);case"true":return m("value",!0);case"false":return m("value",!1);case"null":return m("value",null);default:return l===p&&Rt===""?null:m("name",Rt)}}else Ct++};return C},k=function(_,l){var p,m,v={},C=[],P=function(){var V=[];p.id!=="(end)"&&V.push({type:p.type,value:p.value,position:p.position});for(var W=m();W!==null;)V.push(W),W=m();return V},F={nud:function(){var V={code:"S0211",token:this.value,position:this.position};if(l)return V.remaining=P(),V.type="error",C.push(V),V;throw V.stack=new Error().stack,V}},L=function(V,W){var ot=v[V];return W=W||0,ot?W>=ot.lbp&&(ot.lbp=W):(ot=Object.create(F),ot.id=ot.value=V,ot.lbp=W,v[V]=ot),ot},j=function(V){if(l){V.remaining=P(),C.push(V);var W=v["(error)"];return p=Object.create(W),p.error=V,p.type="(error)",p}else throw V.stack=new Error().stack,V},B=function(V,W){if(V&&p.id!==V){var ot;p.id==="(end)"?ot="S0203":ot="S0202";var kt={code:ot,position:p.position,token:p.value,value:V};return j(kt)}var qt=m(W);if(qt===null)return p=v["(end)"],p.position=_.length,p;var at=qt.value,q=qt.type,K;switch(q){case"name":case"variable":K=v["(name)"];break;case"operator":if(K=v[at],!K)return j({code:"S0204",stack:new Error().stack,position:qt.position,token:at});break;case"string":case"number":case"value":K=v["(literal)"];break;case"regex":q="regex",K=v["(regex)"];break;default:return j({code:"S0205",stack:new Error().stack,position:qt.position,token:at})}return p=Object.create(K),p.value=at,p.type=q,p.position=qt.position,p},J=function(V){var W,ot=p;for(B(null,!0),W=ot.nud();V<p.lbp;)ot=p,B(),W=ot.led(W);return W},et=function(V){var W=L(V,0);W.nud=function(){return this}},Q=function(V,W,ot){var kt=W||f[V],qt=L(V,kt);return qt.led=ot||function(at){return this.lhs=at,this.rhs=J(kt),this.type="binary",this},qt},rt=function(V,W,ot){var kt=L(V,W);return kt.led=ot,kt},yt=function(V,W){var ot=L(V);return ot.nud=W||function(){return this.expression=J(70),this.type="unary",this},ot};et("(end)"),et("(name)"),et("(literal)"),et("(regex)"),L(":"),L(";"),L(","),L(")"),L("]"),L("}"),L(".."),Q("."),Q("+"),Q("-"),Q("*"),Q("/"),Q("%"),Q("="),Q("<"),Q(">"),Q("!="),Q("<="),Q(">="),Q("&"),Q("and"),Q("or"),Q("in"),et("and"),et("or"),et("in"),yt("-"),Q("~>"),rt("(error)",10,function(V){return this.lhs=V,this.error=p.error,this.remaining=P(),this.type="error",this}),yt("*",function(){return this.type="wildcard",this}),yt("**",function(){return this.type="descendant",this}),yt("%",function(){return this.type="parent",this}),Q("(",f["("],function(V){if(this.procedure=V,this.type="function",this.arguments=[],p.id!==")")for(;p.type==="operator"&&p.id==="?"?(this.type="partial",this.arguments.push(p),B("?")):this.arguments.push(J(0)),p.id===",";)B(",");if(B(")",!0),V.type==="name"&&(V.value==="function"||V.value==="\u03BB")){if(this.arguments.forEach(function(at,q){if(at.type!=="variable")return j({code:"S0208",stack:new Error().stack,position:at.position,token:at.value,value:q+1})}),this.type="lambda",p.id==="<"){for(var W=p.position,ot=1,kt="<";ot>0&&p.id!=="{"&&p.id!=="(end)";){var qt=B();qt.id===">"?ot--:qt.id==="<"&&ot++,kt+=qt.value}B(">");try{this.signature=h(kt)}catch(at){return at.position=W+at.offset,j(at)}}B("{"),this.body=J(0),B("}")}return this}),yt("(",function(){for(var V=[];p.id!==")"&&(V.push(J(0)),p.id===";");)B(";");return B(")",!0),this.type="block",this.expressions=V,this}),yt("[",function(){var V=[];if(p.id!=="]")for(;;){var W=J(0);if(p.id===".."){var ot={type:"binary",value:"..",position:p.position,lhs:W};B(".."),ot.rhs=J(0),W=ot}if(V.push(W),p.id!==",")break;B(",")}return B("]",!0),this.expressions=V,this.type="unary",this}),Q("[",f["["],function(V){if(p.id==="]"){for(var W=V;W&&W.type==="binary"&&W.value==="[";)W=W.lhs;return W.keepArray=!0,B("]"),V}else return this.lhs=V,this.rhs=J(f["]"]),this.type="binary",B("]",!0),this}),Q("^",f["^"],function(V){B("(");for(var W=[];;){var ot={descending:!1};if(p.id==="<"?B("<"):p.id===">"&&(ot.descending=!0,B(">")),ot.expression=J(0),W.push(ot),p.id!==",")break;B(",")}return B(")"),this.lhs=V,this.rhs=W,this.type="binary",this});var Rt=function(V){var W=[];if(p.id!=="}")for(;;){var ot=J(0);B(":");var kt=J(0);if(W.push([ot,kt]),p.id!==",")break;B(",")}return B("}",!0),typeof V>"u"?(this.lhs=W,this.type="unary"):(this.lhs=V,this.rhs=W,this.type="binary"),this};yt("{",Rt),Q("{",f["{"],Rt),rt(":=",f[":="],function(V){return V.type!=="variable"?j({code:"S0212",stack:new Error().stack,position:V.position,token:V.value}):(this.lhs=V,this.rhs=J(f[":="]-1),this.type="binary",this)}),Q("@",f["@"],function(V){return this.lhs=V,this.rhs=J(f["@"]),this.rhs.type!=="variable"?j({code:"S0214",stack:new Error().stack,position:this.rhs.position,token:"@"}):(this.type="binary",this)}),Q("#",f["#"],function(V){return this.lhs=V,this.rhs=J(f["#"]),this.rhs.type!=="variable"?j({code:"S0214",stack:new Error().stack,position:this.rhs.position,token:"#"}):(this.type="binary",this)}),Q("?",f["?"],function(V){return this.type="condition",this.condition=V,this.then=J(0),p.id===":"&&(B(":"),this.else=J(0)),this}),yt("|",function(){return this.type="transform",this.pattern=J(0),B("|"),this.update=J(0),p.id===","&&(B(","),this.delete=J(0)),B("|"),this});var Nt=function(V){var W;if(V.type==="function"&&!V.predicate){var ot={type:"lambda",thunk:!0,arguments:[],position:V.position};ot.body=V,W=ot}else if(V.type==="condition")V.then=Nt(V.then),typeof V.else<"u"&&(V.else=Nt(V.else)),W=V;else if(V.type==="block"){var kt=V.expressions.length;kt>0&&(V.expressions[kt-1]=Nt(V.expressions[kt-1])),W=V}else W=V;return W},Ct=0,Et=0,vt=[],dt=function(V,W){switch(V.type){case"name":case"wildcard":W.level--,W.level===0&&(typeof V.ancestor>"u"||(vt[W.index].slot.label=V.ancestor.label),V.ancestor=W,V.tuple=!0);break;case"parent":W.level++;break;case"block":V.expressions.length>0&&(V.tuple=!0,W=dt(V.expressions[V.expressions.length-1],W));break;case"path":V.tuple=!0;var ot=V.steps.length-1;for(W=dt(V.steps[ot--],W);W.level>0&&ot>=0;)W=dt(V.steps[ot--],W);break;default:throw{code:"S0217",token:V.type,position:V.position}}return W},ct=function(V,W){if(typeof W.seekingParent<"u"||W.type==="parent"){var ot=typeof W.seekingParent<"u"?W.seekingParent:[];W.type==="parent"&&ot.push(W.slot),typeof V.seekingParent>"u"?V.seekingParent=ot:Array.prototype.push.apply(V.seekingParent,ot)}},ee=function(V){var W=V.steps.length-1,ot=V.steps[W],kt=typeof ot.seekingParent<"u"?ot.seekingParent:[];ot.type==="parent"&&kt.push(ot.slot);for(var qt=0;qt<kt.length;qt++){var at=kt[qt];for(W=V.steps.length-2;at.level>0;){if(W<0){typeof V.seekingParent>"u"?V.seekingParent=[at]:V.seekingParent.push(at);break}for(var q=V.steps[W--];W>=0&&q.focus&&V.steps[W].focus;)q=V.steps[W--];at=dt(q,at)}}},It=function(V){var W;switch(V.type){case"binary":switch(V.value){case".":var ot=It(V.lhs);ot.type==="path"?W=ot:W={type:"path",steps:[ot]},ot.type==="parent"&&(W.seekingParent=[ot.slot]);var kt=It(V.rhs);kt.type==="function"&&kt.procedure.type==="path"&&kt.procedure.steps.length===1&&kt.procedure.steps[0].type==="name"&&W.steps[W.steps.length-1].type==="function"&&(W.steps[W.steps.length-1].nextFunction=kt.procedure.steps[0].value),kt.type==="path"?Array.prototype.push.apply(W.steps,kt.steps):(typeof kt.predicate<"u"&&(kt.stages=kt.predicate,delete kt.predicate),W.steps.push(kt)),W.steps.filter(function(pt){if(pt.type==="number"||pt.type==="value")throw{code:"S0213",stack:new Error().stack,position:pt.position,value:pt.value};return pt.type==="string"}).forEach(function(pt){pt.type="name"}),W.steps.filter(function(pt){return pt.keepArray===!0}).length>0&&(W.keepSingletonArray=!0);var qt=W.steps[0];qt.type==="unary"&&qt.value==="["&&(qt.consarray=!0);var at=W.steps[W.steps.length-1];at.type==="unary"&&at.value==="["&&(at.consarray=!0),ee(W);break;case"[":W=It(V.lhs);var q=W,K="predicate";if(W.type==="path"&&(q=W.steps[W.steps.length-1],K="stages"),typeof q.group<"u")throw{code:"S0209",stack:new Error().stack,position:V.position};typeof q[K]>"u"&&(q[K]=[]);var z=It(V.rhs);typeof z.seekingParent<"u"&&(z.seekingParent.forEach(pt=>{pt.level===1?dt(q,pt):pt.level--}),ct(q,z)),q[K].push({type:"filter",expr:z,position:V.position});break;case"{":if(W=It(V.lhs),typeof W.group<"u")throw{code:"S0210",stack:new Error().stack,position:V.position};W.group={lhs:V.rhs.map(function(pt){return[It(pt[0]),It(pt[1])]}),position:V.position};break;case"^":W=It(V.lhs),W.type!=="path"&&(W={type:"path",steps:[W]});var st={type:"sort",position:V.position};st.terms=V.rhs.map(function(pt){var Pt=It(pt.expression);return ct(st,Pt),{descending:pt.descending,expression:Pt}}),W.steps.push(st),ee(W);break;case":=":W={type:"bind",value:V.value,position:V.position},W.lhs=It(V.lhs),W.rhs=It(V.rhs),ct(W,W.rhs);break;case"@":if(W=It(V.lhs),q=W,W.type==="path"&&(q=W.steps[W.steps.length-1]),typeof q.stages<"u"||typeof q.predicate<"u")throw{code:"S0215",stack:new Error().stack,position:V.position};if(q.type==="sort")throw{code:"S0216",stack:new Error().stack,position:V.position};V.keepArray&&(q.keepArray=!0),q.focus=V.rhs.value,q.tuple=!0;break;case"#":W=It(V.lhs),q=W,W.type==="path"?q=W.steps[W.steps.length-1]:(W={type:"path",steps:[W]},typeof q.predicate<"u"&&(q.stages=q.predicate,delete q.predicate)),typeof q.stages>"u"?q.index=V.rhs.value:q.stages.push({type:"index",value:V.rhs.value,position:V.position}),q.tuple=!0;break;case"~>":W={type:"apply",value:V.value,position:V.position},W.lhs=It(V.lhs),W.rhs=It(V.rhs);break;default:W={type:V.type,value:V.value,position:V.position},W.lhs=It(V.lhs),W.rhs=It(V.rhs),ct(W,W.lhs),ct(W,W.rhs)}break;case"unary":W={type:V.type,value:V.value,position:V.position},V.value==="["?W.expressions=V.expressions.map(function(pt){var Pt=It(pt);return ct(W,Pt),Pt}):V.value==="{"?W.lhs=V.lhs.map(function(pt){var Pt=It(pt[0]);ct(W,Pt);var Yt=It(pt[1]);return ct(W,Yt),[Pt,Yt]}):(W.expression=It(V.expression),V.value==="-"&&W.expression.type==="number"?(W=W.expression,W.value=-W.value):ct(W,W.expression));break;case"function":case"partial":W={type:V.type,name:V.name,value:V.value,position:V.position},W.arguments=V.arguments.map(function(pt){var Pt=It(pt);return ct(W,Pt),Pt}),W.procedure=It(V.procedure);break;case"lambda":W={type:V.type,arguments:V.arguments,signature:V.signature,position:V.position};var ft=It(V.body);W.body=Nt(ft);break;case"condition":W={type:V.type,position:V.position},W.condition=It(V.condition),ct(W,W.condition),W.then=It(V.then),ct(W,W.then),typeof V.else<"u"&&(W.else=It(V.else),ct(W,W.else));break;case"transform":W={type:V.type,position:V.position},W.pattern=It(V.pattern),W.update=It(V.update),typeof V.delete<"u"&&(W.delete=It(V.delete));break;case"block":W={type:V.type,position:V.position},W.expressions=V.expressions.map(function(pt){var Pt=It(pt);return ct(W,Pt),(Pt.consarray||Pt.type==="path"&&Pt.steps[0].consarray)&&(W.consarray=!0),Pt});break;case"name":W={type:"path",steps:[V]},V.keepArray&&(W.keepSingletonArray=!0);break;case"parent":W={type:"parent",slot:{label:"!"+Ct++,level:1,index:Et++}},vt.push(W);break;case"string":case"number":case"value":case"wildcard":case"descendant":case"variable":case"regex":W=V;break;case"operator":if(V.value==="and"||V.value==="or"||V.value==="in")V.type="name",W=It(V);else if(V.value==="?")W=V;else throw{code:"S0201",stack:new Error().stack,position:V.position,token:V.value};break;case"error":W=V,V.lhs&&(W=It(V.lhs));break;default:var ht="S0206";V.id==="(end)"&&(ht="S0207");var $={code:ht,position:V.position,token:V.value};if(l)return C.push($),{type:"error",error:$};throw $.stack=new Error().stack,$}return V.keepArray&&(W.keepArray=!0),W};m=d(_),B();var Qt=J(0);if(p.id!=="(end)"){var me={code:"S0201",position:p.position,token:p.value};j(me)}if(Qt=It(Qt),Qt.type==="parent"||typeof Qt.seekingParent<"u")throw{code:"S0217",token:Qt.type,position:Qt.position};return C.length>0&&(Qt.errors=C),Qt};return k})();r.exports=c},{"./signature":5}],5:[function(i,r,a){var h=i("./utils");let c=(()=>{"use strict";var f={a:"arrays",b:"booleans",f:"functions",n:"numbers",o:"objects",s:"strings"};function x(d){for(var k=1,_=[],l={},p=l;k<d.length;){var m=d.charAt(k);if(m===":")break;var v=function(){_.push(l),p=l,l={}},C=function(Q,rt,yt,Rt){for(var Nt=1,Ct=rt;Ct<Q.length;)if(Ct++,m=Q.charAt(Ct),m===Rt){if(Nt--,Nt===0)break}else m===yt&&Nt++;return Ct};switch(m){case"s":case"n":case"b":case"l":case"o":l.regex="["+m+"m]",l.type=m,v();break;case"a":l.regex="[asnblfom]",l.type=m,l.array=!0,v();break;case"f":l.regex="f",l.type=m,v();break;case"j":l.regex="[asnblom]",l.type=m,v();break;case"x":l.regex="[asnblfom]",l.type=m,v();break;case"-":p.context=!0,p.contextRegex=new RegExp(p.regex),p.regex+="?";break;case"?":case"+":p.regex+=m;break;case"(":var P=C(d,k,"(",")"),F=d.substring(k+1,P);if(F.indexOf("<")===-1)l.regex="["+F+"m]";else throw{code:"S0402",stack:new Error().stack,value:F,offset:k};l.type="("+F+")",k=P,v();break;case"<":if(p.type==="a"||p.type==="f"){var L=C(d,k,"<",">");p.subtype=d.substring(k+1,L),k=L}else throw{code:"S0401",stack:new Error().stack,value:p.type,offset:k};break}k++}var j="^"+_.map(function(Q){return"("+Q.regex+")"}).join("")+"$",B=new RegExp(j),J=function(Q){var rt;if(h.isFunction(Q))rt="f";else{var yt=typeof Q;switch(yt){case"string":rt="s";break;case"number":rt="n";break;case"boolean":rt="b";break;case"object":Q===null?rt="l":Array.isArray(Q)?rt="a":rt="o";break;case"undefined":default:rt="m"}}return rt},et=function(Q,rt){for(var yt="^",Rt=0,Nt=0;Nt<_.length;Nt++){yt+=_[Nt].regex;var Ct=rt.match(yt);if(Ct===null)throw{code:"T0410",stack:new Error().stack,value:Q[Rt],index:Rt+1};Rt=Ct[0].length}throw{code:"T0410",stack:new Error().stack,value:Q[Rt],index:Rt+1}};return{definition:d,validate:function(Q,rt){var yt="";Q.forEach(function(Et){yt+=J(Et)});var Rt=B.exec(yt);if(Rt){var Nt=[],Ct=0;return _.forEach(function(Et,vt){var dt=Q[Ct],ct=Rt[vt+1];if(ct==="")if(Et.context&&Et.contextRegex){var ee=J(rt);if(Et.contextRegex.test(ee))Nt.push(rt);else throw{code:"T0411",stack:new Error().stack,value:rt,index:Ct+1}}else Nt.push(dt),Ct++;else ct.split("").forEach(function(It){if(Et.type==="a"){if(It==="m")dt=void 0;else{dt=Q[Ct];var Qt=!0;if(typeof Et.subtype<"u"){if(It!=="a"&&ct!==Et.subtype)Qt=!1;else if(It==="a"&&dt.length>0){var me=J(dt[0]);if(me!==Et.subtype.charAt(0))Qt=!1;else{var V=dt.filter(function(W){return J(W)!==me});Qt=V.length===0}}}if(!Qt)throw{code:"T0412",stack:new Error().stack,value:dt,index:Ct+1,type:f[Et.subtype]};It!=="a"&&(dt=[dt])}Nt.push(dt),Ct++}else Nt.push(dt),Ct++})}),Nt}et(Q,yt)}}}return x})();r.exports=c},{"./utils":6}],6:[function(i,r,a){let h=(()=>{"use strict";function c(L){var j=!1;if(typeof L=="number"&&(j=!isNaN(L),j&&!isFinite(L)))throw{code:"D1001",value:L,stack:new Error().stack};return j}function f(L){var j=!1;return Array.isArray(L)&&(j=L.filter(function(B){return typeof B!="string"}).length===0),j}function x(L){var j=!1;return Array.isArray(L)&&(j=L.filter(function(B){return!c(B)}).length===0),j}function d(){var L=[];return L.sequence=!0,arguments.length===1&&L.push(arguments[0]),L}function k(L){return L.sequence===!0&&Array.isArray(L)}function _(L){return L&&(L._jsonata_function===!0||L._jsonata_lambda===!0)||typeof L=="function"}function l(L){var j=typeof L.arity=="number"?L.arity:typeof L.implementation=="function"?L.implementation.length:typeof L.length=="number"?L.length:L.arguments.length;return j}function p(L){return L&&L._jsonata_lambda===!0}var m=typeof Symbol=="function"?Symbol:{},v=m.iterator||"@@iterator";function C(L){return typeof L=="object"&&L!==null&&v in L&&"next"in L&&typeof L.next=="function"}function P(L,j){if(L===j)return!0;if(typeof L=="object"&&typeof j=="object"&&L!==null&&j!==null){if(Array.isArray(L)&&Array.isArray(j)){if(L.length!==j.length)return!1;for(var B=0;B<L.length;B++)if(!P(L[B],j[B]))return!1;return!0}var J=Object.getOwnPropertyNames(L),et=Object.getOwnPropertyNames(j);if(J.length!==et.length)return!1;for(J=J.sort(),et=et.sort(),B=0;B<J.length;B++)if(J[B]!==et[B])return!1;for(B=0;B<J.length;B++){var Q=J[B];if(!P(L[Q],j[Q]))return!1}return!0}return!1}function F(L){var j=[];for(let B of L)j.push(B);return j}return{isNumeric:c,isArrayOfStrings:f,isArrayOfNumbers:x,createSequence:d,isSequence:k,isFunction:_,isLambda:p,isIterable:C,getFunctionArity:l,isDeepEqual:P,stringToArray:F}})();r.exports=h},{}]},{},[3])(3)})});var Uh=Y(Bn=>{"use strict";var oS=Bn&&Bn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.locEnd=Bn.locStart=Bn.parse=void 0;var aS=oS(up()),hS=n=>{try{let t=[],e=n.matchAll(/\/\*((\*(?!\/)|[^*])*)\*\//g);for(let r of e){let a=r.index;if(a===void 0)continue;let h=r[1];!h||t.push({position:a,value:h.trim()})}let i=(0,aS.default)(n).ast();return Object.assign(Object.assign({},i),{jsonataComments:t})}catch(t){let e=t,r=["code","position","token"].filter(h=>e[h]!==void 0).map(h=>`${h}: ${e[h]}`),a=[e.message,...r].join(", ");throw new Error(a)}};Bn.parse=hS;var uS=n=>n.position;Bn.locStart=uS;var lS=()=>0;Bn.locEnd=lS});var dp=Y(Hn=>{"use strict";var cS=Hn&&Hn.__createBinding||(Object.create?function(n,t,e,i){i===void 0&&(i=e),Object.defineProperty(n,i,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}),fS=Hn&&Hn.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),pS=Hn&&Hn.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&cS(t,n,e);return fS(t,n),t};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.print=void 0;var dS=pS(require("prettier")),lp=[],ma=-1,mS=(n,t,e)=>{var i,r;let a=n.getValue();"jsonataComments"in a&&(ma=-1,lp=a.jsonataComments);let h=(r=a.type==="path"?(i=a.steps[0])===null||i===void 0?void 0:i.position:a.position)!==null&&r!==void 0?r:ma,c=lp.filter(d=>d.position>ma&&d.position<h);ma=h;let f=c.map(_S),x=gS(a,n,t,e);return f.length>0?Le([f,x]):x};Hn.print=mS;var gS=(n,...t)=>{if(n.type==="binary")return xS(n,...t);if(n.type==="function")return cp(n,...t);if(n.type==="partial")return cp(n,...t);if(n.type==="variable")return TS(n,...t);if(n.type==="wildcard")return bS(n,...t);if(n.type==="descendant")return AS(n,...t);if(n.type==="operator")return CS(n,...t);if(n.type==="number")return ES(n,...t);if(n.type==="string")return yS(n,...t);if(n.type==="name")return vS(n,...t);if(n.type==="filter")return SS(n,...t);if(n.type==="bind")return DS(n,...t);if(n.type==="lambda")return NS(n,...t);if(n.type==="condition")return IS(n,...t);if(n.type==="value")return PS(n,...t);if(n.type==="block")return wS(n,...t);if(n.type==="path")return kS(n,...t);if(n.type==="apply")return LS(n,...t);if(n.type==="sort")return FS(n,...t);if(n.type==="unary")return BS(n,...t);if(n.type==="parent")return WS(n,...t);if(n.type==="regex")return qS(n,...t);throw new Error(`Unknown node type: ${n.type}`)},{group:Le,indent:Gi,join:pr,line:Mn,hardline:Vs,breakParent:Hh,softline:Un}=dS.doc.builders,_S=n=>Le(["/* ",n.value," */",Vs]),xS=(n,t,e,i)=>n.value===".."?Le([i("lhs"),Gi([Un,n.value,i("rhs")])]):Le([i("lhs"),Gi([Mn,n.value," ",i("rhs")])]),vS=(n,t,e,i)=>Le([zS(n.value),Zi(n,t,e,i),an(n),hn(n),ga(n,t,e,i),Qi(n,t,e,i),$i(n)]),ES=(n,t,e,i)=>Le([JSON.stringify(n.value),Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)]),yS=(n,t,e,i)=>Le([JSON.stringify(n.value),Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)]),kS=(n,t,e,i)=>{let r=n.steps.flatMap((a,h)=>h===0?i(["steps",h]):a.type==="sort"?Gi(["^",i(["steps",h])]):Gi([Un,".",i(["steps",h])]));return Le([...r,Zi(n,t,e,i)])},cp=(n,t,e,i)=>Le([i("procedure"),"(",fp(n,t,e,i),")",Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)]),fp=(n,t,e,i)=>{var r;if(!(!((r=n.arguments)===null||r===void 0)&&r.length))return"";if(n.arguments.length===1)return i(["arguments",0]);let a=pr([",",Mn],t.map(i,"arguments"));return[Gi([Un,a]),Un]},TS=(n,t,e,i)=>Le(["$",n.value,Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n),ga(n,t,e,i)]),CS=n=>n.value,bS=n=>n.value,AS=n=>n.value,SS=(n,t,e,i)=>Le(["[",Gi([Un,i("expr")]),Un,"]"]),DS=(n,t,e,i)=>Le([i("lhs")," ",n.value," ",i("rhs")]),NS=(n,t,e,i)=>n.thunk?i("body"):Le(["function(",fp(n,t,e,i),") {",Gi([Mn,i("body")]),Mn,"}",Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)]),IS=(n,t,e,i)=>{let r=t.getParentNode(),h=r?.type==="condition"?[Vs,Hh]:Mn;return Le([i("condition"),Gi([h,"? ",i("then")]),n.else?Gi([h,": ",i("else")]):""])},PS=(n,t,e,i)=>Le([OS(n,t,e,i),Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)]),OS=n=>n.value===null?"null":n.value===!1?"false":n.value===!0?"true":JSON.stringify(n.value),wS=(n,t,e,i)=>{if(n.expressions.length===0)return Le(["()",Qi(n,t,e,i),$i(n)]);if(n.expressions.length===1)return Le(["(",i(["expressions",0]),")",Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n),ga(n,t,e,i)]);let r=pr([";",Vs],t.map(i,"expressions"));return Le(["(",Gi([Vs,r]),Vs,")",Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)])},LS=(n,t,e,i)=>Le([i("lhs"),Gi([Mn,n.value," ",i("rhs")])]),FS=(n,t,e,i)=>{let r=n.terms.map((h,c)=>[RS(h),i(["terms",c,"expression"])]),a=pr([",",Mn],r);return Le(["(",Gi([Un,a]),Un,")"])},RS=n=>n.descending?">":"<",BS=(n,t,e,i)=>{if(n.value==="{")return MS(n,t,e,i);if(n.value==="[")return HS(n,t,e,i);if(n.value==="-")return VS(n,t,e,i);throw new Error("Unhandled unary node "+n.value)},MS=(n,t,e,i)=>Le(["{",US(n,t,e,i),"}",Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)]),US=(n,t,e,i)=>{if(n.lhs.length===0)return"";let r=n.lhs.map((f,x)=>Le([i(["lhs",x,0]),": ",i(["lhs",x,1])])),h=n.lhs.some(f=>pp(f[1]))?[Vs,Hh]:Mn,c=pr([",",h],r);return[Gi([h,c]),h]},pp=n=>{if(n.type!=="unary")return!1;if(n.value==="["||n.value==="{")return!0},HS=(n,t,e,i)=>{let r=pr([",",Mn],t.map(i,"expressions"));return Le(["[",Gi([Un,r]),Un,"]",Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)])},VS=(n,t,e,i)=>Le(["-",i("expression")]),WS=(n,t,e,i)=>Le(["%",Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n),ga(n,t,e,i)]),GS=["i","m"],qS=(n,t,e,i)=>{let r=GS.filter(a=>n.value.flags.includes(a)).join("");return Le([`/${n.value.source}/${r}`,Zi(n,t,e,i),an(n),hn(n),Qi(n,t,e,i),$i(n)])},an=n=>n.focus?"@$"+n.focus:"",hn=n=>n.index?"#$"+n.index:"",Qi=(n,t,e,i)=>n.predicate?t.map(i,"predicate"):"",ga=(n,t,e,i)=>n.stages?t.map(i,"stages"):"",$i=n=>n.keepArray?"[]":"",Zi=(n,t,e,i)=>{if(n.group===void 0)return"";if(n.group.lhs.length===0)return"{}";let r=n.group.lhs.map((f,x)=>Le([i(["group","lhs",x,0]),": ",i(["group","lhs",x,1])])),h=n.group.lhs.some(f=>pp(f[1]))?[Vs,Hh]:Mn,c=pr([",",h],r);return Le(["{",Gi([h,c]),h,"}"])},zS=n=>n.startsWith("`")&&n.endsWith("`")?n:n.startsWith('"')&&n.endsWith('"')?`\`${n.slice(1,-1)}\``:/\s/.test(n)?`\`${n}\``:["null","false","true"].includes(n)?`\`${n}\``:/^\d+/.test(n)?`\`${n}\``:/[^a-zA-Z_[\]\d]/.test(n)?`\`${n}\``:n});var mp=Y(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.printers=wi.parsers=wi.languages=wi.AST_FORMAT_NAME=wi.AST_PARSER_NAME=void 0;var Vh=Uh(),JS=dp();wi.AST_PARSER_NAME="JSONata";wi.AST_FORMAT_NAME="JSONataASTNode";wi.languages=[{name:"JSONata",extensions:["jsonata","JSONata"],parsers:[wi.AST_PARSER_NAME]}];wi.parsers={[wi.AST_PARSER_NAME]:{astFormat:wi.AST_FORMAT_NAME,parse:Vh.parse,locStart:Vh.locStart,locEnd:Vh.locEnd}};wi.printers={[wi.AST_FORMAT_NAME]:{print:JS.print}}});var vp=Y(_n=>{"use strict";var jS=_n&&_n.__createBinding||(Object.create?function(n,t,e,i){i===void 0&&(i=e),Object.defineProperty(n,i,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}),YS=_n&&_n.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),_p=_n&&_n.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&jS(t,n,e);return YS(t,n),t};Object.defineProperty(_n,"__esModule",{value:!0});_n.serializeJsonata=_n.formatJsonata=void 0;var dr=_p(mp()),_a=_p(require("prettier")),gp=Uh();function XS(n,t){return xp(),_a.format(n,Object.assign({parser:dr.AST_PARSER_NAME,plugins:[dr],printWidth:150,tabWidth:2,useTabs:!1},t))}_n.formatJsonata=XS;function KS(n,t){let e=QS(n);return xp(),_a.format("ignore text input",Object.assign({parser:dr.AST_PARSER_NAME,plugins:[e],printWidth:150,tabWidth:2,useTabs:!1},t))}_n.serializeJsonata=KS;var QS=n=>Object.assign(Object.assign({},dr),{parsers:{[dr.AST_PARSER_NAME]:{astFormat:dr.AST_FORMAT_NAME,parse:()=>n,locStart:gp.locStart,locEnd:gp.locEnd}}});function xp(){"clearConfigCache"in _a&&_a.clearConfigCache()}});var Z,xa=Dt(()=>{"use strict";Z=class{};Z.IfStatement="if",Z.CallStatement="call",Z.TernaryStatement="ternary",Z.Addition="addition",Z.Substraction="subtraction",Z.Multiplication="multiplication",Z.Division="division",Z.Modulus="modulus",Z.Exponentiation="exponentiation",Z.BinCompare="compare",Z.Concat="concat",Z.GreaterThan="greater_than",Z.GreaterThanEqual="greater_than_equal",Z.LessThan="less_than",Z.LessThanEqual="less_than_equal",Z.BitwiseAnd="bitwise_and",Z.BitwiseOr="bitiwse_or",Z.BitwiseXor="bitiwse_xor",Z.LeftShift="left_shift",Z.RightShift="right_shift",Z.Equality="equality",Z.Identity="identitiy",Z.Inequality="inequality",Z.NotIdentity="not_identity",Z.CompAnd="and",Z.CompOr="or",Z.Xor="xor",Z.Assignment="assign",Z.AdditionAssignment="assign_addition",Z.SubtractionAssignment="assign_subtraciton",Z.MultiplicationAssignment="assign_multiplication",Z.DivisionAssignment="assign_division",Z.ModulusAssignment="assign_modulus",Z.ConcatenationAssignment="assign_concat",Z.BitwiseAndAssignment="assign_bitwise_and",Z.BitwiseOrAssignment="assign_bitwise_or",Z.BitwiseXorAssignment="assign_bitwise_xor",Z.LeftShiftAssignment="assign_left_shift",Z.RightShiftAssignment="assign_right_shift"});function gr(){return{enabled:!0,directivesEnabled:!0,excludedDirectives:["if","unless","elseif","for","forelse","foreach"],allowedMethodNames:["class"],directives:[],bladePhpEnabled:!0,phpTagsEnabled:!0,phpTagRules:[],ignoredLanguageStructures:[Z.CallStatement,Z.IfStatement,Z.TernaryStatement,Z.BinCompare,Z.Addition,Z.Substraction,Z.Multiplication,Z.Division,Z.Modulus,Z.Exponentiation,Z.Concat,Z.GreaterThan,Z.GreaterThanEqual,Z.LessThan,Z.LessThanEqual,Z.BitwiseAnd,Z.BitwiseOr,Z.BitwiseXor,Z.LeftShift,Z.RightShift,Z.Equality,Z.Identity,Z.Inequality,Z.NotIdentity,Z.CompAnd,Z.CompOr,Z.Xor,Z.AdditionAssignment,Z.SubtractionAssignment,Z.MultiplicationAssignment,Z.DivisionAssignment,Z.ModulusAssignment,Z.ConcatenationAssignment,Z.BitwiseAndAssignment,Z.BitwiseOrAssignment,Z.BitwiseXorAssignment,Z.LeftShiftAssignment,Z.RightShiftAssignment],bladeEchoEnabled:!0,bladeEchoRules:[],documentRules:{includeWhen:[],excludeWhen:[]},stringRules:{includeWhen:[],excludeWhen:[]}}}function Ep(n){var r,a,h,c,f,x,d,k,_,l,p;let t=gr();function e(m){var v,C;return{includeWhen:(v=m.includeWhen)!=null?v:[],excludeWhen:(C=m.excludeWhen)!=null?C:[]}}function i(m,v){var C,P;return!m||!m.includeWhen&&!m.excludeWhen?v:{excludeWhen:(C=m.excludeWhen)!=null?C:[],includeWhen:(P=m.includeWhen)!=null?P:[]}}return{enabled:(r=n.enabled)!=null?r:t.enabled,allowedMethodNames:(a=n.allowedMethodNames)!=null?a:t.allowedMethodNames,directivesEnabled:(h=n.directivesEnabled)!=null?h:t.directivesEnabled,excludedDirectives:(c=n.excludedDirectives)!=null?c:t.excludedDirectives,directives:((f=n.directives)!=null?f:t.directives).map(e),bladePhpEnabled:(x=n.bladePhpEnabled)!=null?x:t.bladePhpEnabled,phpTagsEnabled:(d=n.phpTagsEnabled)!=null?d:t.phpTagsEnabled,phpTagRules:((k=n.phpTagRules)!=null?k:t.phpTagRules).map(e),ignoredLanguageStructures:(_=n.ignoredLanguageStructures)!=null?_:t.ignoredLanguageStructures,bladeEchoEnabled:(l=n.bladeEchoEnabled)!=null?l:t.bladeEchoEnabled,bladeEchoRules:((p=n.bladeEchoRules)!=null?p:t.bladeEchoRules).map(e),documentRules:i(n.documentRules,t.documentRules),stringRules:i(n.stringRules,t.stringRules)}}var mr,Jr=Dt(()=>{"use strict";xa();Ae();mr=class{constructor(t){this.directiveExcludeRules=[];this.directiveIncludeRules=[];this.phpTagExcludeRules=[];this.phpTagIncludeRules=[];this.echoExcludeRules=[];this.echoIncludeRules=[];this.documentExcludeRules=[];this.documentIncludeRules=[];this.stringExcludeRules=[];this.stringIncludeRules=[];this.config=t,this.directiveExcludeRules=this.getExcludeRules(t.directives),this.directiveIncludeRules=this.getIncludeRules(t.directives),this.phpTagExcludeRules=this.getExcludeRules(t.phpTagRules),this.phpTagIncludeRules=this.getIncludeRules(t.phpTagRules),this.echoExcludeRules=this.getExcludeRules(t.bladeEchoRules),this.echoIncludeRules=this.getIncludeRules(t.bladeEchoRules),this.documentExcludeRules=t.documentRules.excludeWhen,this.documentIncludeRules=t.documentRules.includeWhen,this.stringExcludeRules=t.stringRules.excludeWhen,this.stringIncludeRules=t.stringRules.includeWhen}getIncludeRules(t){let e=[];return t.forEach(i=>{e=e.concat(i.includeWhen)}),e}getExcludeRules(t){let e=[];return t.forEach(i=>{e=e.concat(i.excludeWhen)}),e}passes(t,e){if(e.length==0)return!0;for(let i=0;i<e.length;i++)if(new RegExp(e[i]).test(t))return!0;return!1}canTransformDocument(t){if(!this.config.enabled)return!1;let e=t.getContent();return this.documentExcludeRules.length>0&&!this.passes(e,this.documentExcludeRules)?!1:this.passes(e,this.documentIncludeRules)}canTransformString(t){return this.stringExcludeRules.length>0&&this.passes(t,this.stringExcludeRules)?!1:this.passes(t,this.stringIncludeRules)}canTransform(t,e,i){return e.length>0&&this.passes(t,e)||!this.passes(t,i)||this.stringExcludeRules.length>0&&this.passes(t,this.stringExcludeRules)?!1:this.passes(t,this.stringIncludeRules)}canTransformBladeEcho(t){return!this.config.enabled||!this.config.bladeEchoEnabled?!1:this.canTransform(t.content,this.echoExcludeRules,this.echoIncludeRules)}canTransformBladePhp(t){return!this.config.enabled||!this.config.bladePhpEnabled?!1:this.canTransform(t.documentContent,this.phpTagExcludeRules,this.phpTagIncludeRules)}canTransformInlinePhp(t){return!this.config.enabled||!this.config.phpTagsEnabled?!1:this.canTransform(t.sourceContent,this.phpTagExcludeRules,this.phpTagIncludeRules)}canTransformDirective(t){if(!this.config.enabled||!this.config.directivesEnabled)return!1;let e=t.directiveName;return t.originalAbstractNode!=null&&t.originalAbstractNode instanceof _t&&(e=t.originalAbstractNode.directiveName),e=e.toLowerCase(),this.config.excludedDirectives.length>0&&(this.config.excludedDirectives.includes(e)||this.config.excludedDirectives.includes(t.directiveName.toLocaleLowerCase()))?!1:this.canTransform(t.sourceContent,this.directiveExcludeRules,this.directiveIncludeRules)}}});function yp(n){qh=n}function kp(){return $S}function Tp(n){if(qh!=null)return qh;let t=tD(n);if(t==null||Ws.existsSync(t)==!1)return es;let e=Ws.readFileSync(t,{encoding:"utf8"});try{let i=JSON.parse(e),r=ZS(i);if(r.useLaravelPint){if(r.pintCommand.length==0){let a=t.substring(0,t.length-Gh.length)+"/vendor/bin/pint";Ws.existsSync(a)&&(r.pintCommand=`php ${a} {file}`)}if(r.pintTempDirectory.trim().length==0&&(r.pintTempDirectory=__dirname+"/_temp/"),r.pintCacheDirectory.trim().length==0&&(r.pintCacheDirectory=__dirname+"/_cache/"),r.pintTempDirectory.trim().length>0&&(r.pintTempDirectory=Wh(r.pintTempDirectory.trim())),r.pintCacheDirectory.trim().length>0&&(r.pintCacheDirectory=Wh(r.pintCacheDirectory.trim())),r.pintConfigPath.trim().length>0)r.pintConfigPath=Wh(r.pintConfigPath.trim());else{let a=t.substring(0,t.length-Gh.length)+"/pint.json";Ws.existsSync(a)&&(r.pintConfigPath=a)}}return r}catch(i){console.log(i)}return es}function ZS(n){let t=Wr,e=0,i=1,r=4,a=!0,h=!0,c=!0,f=[],x=[],d=null,k=null,_="block",l=!1,p="",m="",v="",C=!0,P="",F=gr(),L=es.formatJsAttributes,j=es.includeJsAttributes,B=es.excludeJsAttributes,J=es.safeWrappingJsAttributes;return typeof n.ignoreDirectives!="undefined"&&n.ignoreDirectives!==null&&(t=n.ignoreDirectives),typeof n.spacesAfterDirective!="undefined"&&n.spacesAfterDirective!==null&&(e=n.spacesAfterDirective),typeof n.spacesAfterControlDirective!="undefined"&&n.spacesAfterControlDirective!==null&&(i=n.spacesAfterControlDirective),typeof n.tabSize!="undefined"&&n.tabSize!==null&&(r=n.tabSize),typeof n.formatDirectivePhpParameters!="undefined"&&n.formatDirectivePhpParameters!==null&&(a=n.formatDirectivePhpParameters),typeof n.formatDirectiveJsonParameters!="undefined"&&n.formatDirectiveJsonParameters!==null&&(h=n.formatDirectiveJsonParameters),typeof n.customIfs!="undefined"&&n.customIfs!==null&&(f=n.customIfs),typeof n.useLaravelPint!="undefined"&&n.useLaravelPint!==null&&(l=n.useLaravelPint),typeof n.directives!="undefined"&&n.directives!==null&&(x=n.directives),typeof n.echoStyle!="undefined"&&n.echoStyle==="inline"&&(_="inline"),typeof n.formatInsideEcho!="undefined"&&n.formatInsideEcho!==null&&(c=n.formatInsideEcho),typeof n.phpOptions!="undefined"&&(d=n.phpOptions),typeof n.attributeJsOptions!="undefined"&&(k=n.attributeJsOptions),typeof n.pintCommand!="undefined"&&(p=n.pintCommand.trim()),typeof n.pintConfig!="undefined"&&(P=n.pintConfig.trim()),typeof n.pintTempDirectory!="undefined"&&(m=n.pintTempDirectory.trim()),typeof n.pintCacheDirectory!="undefined"&&(v=n.pintCacheDirectory.trim()),typeof n.pintCacheEnabled!="undefined"&&(C=n.pintCacheEnabled),typeof n.formatJsAttributes!="undefined"&&(L=n.formatJsAttributes),typeof n.includeJsAttributes!="undefined"&&(j=n.includeJsAttributes),typeof n.excludeJsAttributes!="undefined"&&(B=n.excludeJsAttributes),typeof n.safeWrappingJsAttributes!="undefined"&&(J=n.safeWrappingJsAttributes),e<0&&(e=0),i<0&&(i=1),e>3&&(e=3),i>3&&(i=3),typeof n.classStrings!="undefined"&&n.classStrings!=null&&(F=Ep(n.classStrings)),{ignoreDirectives:t,spacesAfterDirective:e,spacesAfterControlDirective:i,tabSize:r,formatDirectivePhpParameters:a,formatDirectiveJsonParameters:h,formatInsideEcho:c,customIfs:f,directives:x,phpOptions:d,echoStyle:_,useLaravelPint:l,pintCommand:p,pintCacheDirectory:v,pintTempDirectory:m,pintCacheEnabled:C,pintConfigPath:P,classStrings:F,attributeJsOptions:k,formatJsAttributes:L,includeJsAttributes:j,excludeJsAttributes:B,safeWrappingJsAttributes:J}}function Wh(n){let t=/[\\/]+/g,e=n.replace(t,"/");return e.endsWith("/")||(e+="/"),e}function tD(n){let t=Gs.dirname(n);t=="."&&(t=process.cwd());let e=t.split(Gs.sep);for(;e.length>0;){let i=e.join(Gs.sep),r=Gs.join(i,Gh);if(Ws.existsSync(r))return r;e.pop()}return null}var Ws,Gs,Gh,es,qh,$S,zh=Dt(()=>{"use strict";Ws=Xi(require("fs")),Gs=Xi(require("path"));Fh();Lh();Jr();Gh=".blade.format.json",es={ignoreDirectives:[...Wr,...ha],spacesAfterDirective:0,spacesAfterControlDirective:1,tabSize:4,formatDirectiveJsonParameters:!0,formatDirectivePhpParameters:!0,formatInsideEcho:!0,customIfs:[],directives:[],echoStyle:"block",useLaravelPint:!1,pintCommand:"",phpOptions:{phpVersion:"8.0"},attributeJsOptions:null,pintCacheDirectory:"",pintTempDirectory:"",pintCacheEnabled:!0,pintConfigPath:"",classStrings:gr(),formatJsAttributes:!0,excludeJsAttributes:["^v-"],includeJsAttributes:["^x-","^ax-"],safeWrappingJsAttributes:["^x-data"]}});function eD(n){jr=n}function Vn(n){ns=n,eD(!n)}function Yr(){is=!1}function As(){is=!0}var is,ns,jr,va,Ea=Dt(()=>{"use strict";He();is=!0,ns=!1,jr=!0;va=class{constructor(){this.attributeMapping=new Map;this.slugs=[]}makeSlug(t){let e=H.makeSlug(t);return this.slugs.includes(e)?this.makeSlug(t+1):(this.slugs.push(e),e)}remove(t,e){e=e.sort((a,h)=>a.startedOn-h.startedOn);let i="",r=0;for(let a=0;a<e.length;a++){let h=e[a],c=this.makeSlug(h.content.length);if(this.attributeMapping.set(c,h),a==0){let f=t.substring(0,h.startedOn);r=h.startedOn+h.content.length,i+=f,i+='"'+c+'"',e.length==1&&(i+=t.substring(r))}else if(a==e.length-1){e.length==1&&(i+=t.substring(0,h.startedOn));let f=t.substring(r,h.startedOn);r=h.startedOn+h.content.length,i+=f,i+='"'+c+'"',i+=t.substring(r)}else{let f=t.substring(r,h.startedOn);r=h.startedOn+h.content.length,i+=f,i+='"'+c+'"'}}return i}getRemovedAttributes(){return this.attributeMapping}}});function Ap(){return Yh}function _r(){return ya}function Jh(n){return["cursorOffset","rangeEnd","rangeStart","locEnd","locStat","printer","originalText","astFormat"].forEach(t=>{delete n[t]}),n}function Sp(){return qs}function Dp(n){return(0,bp.formatJsonata)(n,{printWidth:20})}function xr(n,t=null,e=null){return yp(t),e==null?Tn.default.format(n,{parser:"blade",plugins:[Cp]}):Tn.default.format(n,{...e,parser:"blade",plugins:[Cp]})}function Xr(n,t=null,e=null,i=null){let r=__dirname+"/../../../pint/pint",a=__dirname+"/../../../pint/pint.json",h=__dirname+"/../../../_test/_cache/",c=__dirname+"/../../../_test/_temp/",f=`php ${r} {file}`;e!=null&&(f=e.pintCommand,h=e.pintCacheDirectory,c=e.pintTempDirectory,a=e.pintConfigPath);let x={...es,useLaravelPint:!0,pintCommand:f,pintCacheDirectory:h,pintTempDirectory:c,pintConfigPath:a};return t!=null&&(x={...x,...t,useLaravelPint:!0,pintCommand:f,pintCacheDirectory:h,pintTempDirectory:c,pintConfigPath:a}),xr(n,x,i)}function Np(){return nD}function ka(n){iD=n,qs=Jh(Object.assign({},n,{htmlWhitespaceSensitivity:"ignore",parser:"html",plugins:n.plugins})),ya=Jh(Object.assign({},n,{parser:"php",plugins:[jh.default]})),Yh=Jh(Object.assign({},n,{parser:"php",plugins:[jh.default],printWidth:1/0}))}function Ip(n,t){return t.attributeJsOptions!=null?Tn.default.format(n,{...qs,...t.attributeJsOptions,parser:"babel",singleQuote:!0,quoteProps:"preserve"}):Tn.default.format(n,{...qs,parser:"babel",printWidth:80,singleQuote:!0,quoteProps:"preserve",semi:!1,trailingComma:"all"})}function Pp(n){if(ns){let t=n,e=[];try{let i=new Pn,r=new Map;i.remove(n),e=i.getStrings().reverse(),e.forEach((f,x)=>{let d=H.makeSlug(128);r.set(d,f),t=t.replace(`"${f}"`,`"${d}"`)});let a=Tn.default.format(t,{...qs,printWidth:20,singleAttributePerLine:!0,parser:"html"}),h=H.breakByNewLine(a),c=[];for(let f=0;f<h.length;f++){let x=h[f];if(ss.inlineComments.includes(x.trim()))if(c.length>0){c[c.length-1]=c[c.length-1]+" "+x.trim();continue}else c.push(x);if(x.includes("<"))c.push(x);else if(x.trim().includes(" ")){let d=x.split(" "),k=x.length-x.trimLeft().length;d.forEach(_=>{_.trim().length!=0&&c.push(" ".repeat(k)+_)})}else c.push(x)}return a=c.join(`
`),r.forEach((f,x)=>{a=a.replace(x,f)}),a}catch{return n}}return Tn.default.format(n,{...qs,parser:"html"})}function Op(n){return Tn.default.format(n,{...qs,proseWrap:"never",parser:"html"})}function Xh(n,t,e=null){let i=n;if(e!=null&&(i=e),typeof t.phpOptions!="undefined"&&t.phpOptions!=null){let r=t.phpOptions;i={...i,...r}}else i={...i,phpVersion:"8.0"};return i}function wp(n,t,e=null){let i=Xh(Yh,t,e),r=Tn.default.format(n,i).trim();return r=r.substring(5),n.endsWith(";")==!1&&r.endsWith(";")&&(r=r.substring(0,r.length-1)),r.trim()}function Lp(n,t,e=null){let i=Xh(ya,t,e),r=Tn.default.format(n,i).trim();return r=r.substring(5),n.endsWith(";")==!1&&r.endsWith(";")&&(r=r.substring(0,r.length-1)),r.trim()}function Fp(n,t,e=null){let i=Xh(ya,t,e);return Tn.default.format(n,i).trim().trim()}var Tn,Cp,jh,bp,ya,qs,Yh,iD,nD,Ss=Dt(()=>{"use strict";Tn=Xi(require("prettier")),Cp=Xi(Rp()),jh=Xi(ap()),bp=Xi(vp());zh();Ea();wo();He();Kh();nD=null});function Mp(n,t,e,i,r,a){let h=!1,c=n.content.substring(1,n.content.length-1).trim();if(c.includes(`
`)==!1&&c.startsWith("if ")&&!c.includes("{"))return n.content;let f=!1;for(let v=0;v<Bp.length;v++)if(c.includes(Bp[v])){f=!0;break}if(f&&n.content.includes("-")){let v=fe.fromText(c),C=v.getAllNodes();for(let P=0;P<C.length;P++){let F=C[P];if(F instanceof Jt&&(F.content.startsWith("-")||F.content.endsWith("-"))){f=!1;break}}}if((n.content.includes("{!!")||n.content.includes("!!}"))&&(f=!1),n.content.includes("\\'")&&fe.fromText(n.content).transform().removeBlade().includes("\\'")&&(f=!1),!f)return n.content;let x=`
`;c.startsWith("{")&&c.endsWith("}")&&(x+="let _tmpFormat = ",h=!0),x+=c,x+=`
`;let d=n.content,k="";try{let v=new fe;v.getParser().withParserOptions(a.getParser().getParserOptions()),v.getParser().withPhpValidator(a.getParser().getPhpValidator()),v.loadString("<script>"+x+"<\/script>"),v.getParser();let C=v.transform();C.setParentTransformer(r),C.withOptions(t),C.setFormattingOptions(r.getFormattingOptions()),C.withJsonFormatter(r.getJsonFormatter()),C.withBlockPhpFormatter(r.getBlockPhpFormatter()),C.withPhpTagFormatter(r.getPhpTagFormatter()),C.withPhpFormatter(r.getPhpFormatter()),k=C.toStructure().trim(),k=k.substring(8),k=k.trim(),k=k.substring(0,k.length-9),d=Ip(k,t),d=C.fromStructure(d),h&&(d=d.trimLeft(),d=d.substring(3),d=d.trimLeft(),d=d.substring(10),d=d.trimLeft(),d=d.substring(1),d=d.trimLeft()),d=d.trim(),c.trim().endsWith(";")==!1&&d.endsWith(";")&&(d=d.substring(0,d.length-1)),d.startsWith(";")&&(d=d.substring(1)),d=r.transformStructures(d)}catch{return n.content}let _=pe.relativeIndentLevel(e,i),l=d,p=" ".repeat(_),m=d.trim();return m.startsWith("{")&&m.endsWith("}")?l='"'+pe.shiftIndent(Ve.instance.safeReflow(m),_,!0,t,!1,!1)+'"':l.includes(`
`)==!1?l='"'+Ve.instance.safeReflow(l.trim())+'"':sD(n,t)?(_+=n.name.length+2,l='"'+pe.shiftIndent(Ve.instance.safeReflow(m),_,!1,t,!1,!1).trim()+'"'):l=`"
`+pe.shiftIndent(Ve.instance.safeReflow(m),_+t.tabSize,!1,t,!1,!1)+`
${p}"`,l}function sD(n,t){if(t.safeWrappingJsAttributes.length==0)return!1;for(let e=0;e<t.safeWrappingJsAttributes.length;e++)if(new RegExp(t.safeWrappingJsAttributes[e]).test(n.name))return!0;return!1}var Bp,Up=Dt(()=>{"use strict";on();Gr();Ae();zr();Ss();Bp=["(",")","{","}",,":","->","<",">"]});var Kr,rs,Qh=Dt(()=>{"use strict";on();aa();He();Kr=class{static adjustInput(t){var k,_,l,p,m,v,C,P,F,L,j,B,J,et;let e=fe.fromText(t),i=new bs,r="Void"+H.makeSlug(15);i.setIndexRanges(e.getParser().getNodeIndexRanges());let a=!1,h=i.parse(t),c=[],f=[];if(h.forEach(Q=>{let rt=Q.name.toLowerCase();rt!=Q.name&&Kr.voidElementNames.includes(rt)&&(a=!0,f.push(rt),c.push(Q))}),!a)return t;let x="",d=0;for(let Q=0;Q<c.length;Q++){let rt=c[Q],yt=rt.name.toLowerCase(),Rt=r+rt.name;Kr.voidTagMapping.has(Rt)||Kr.voidTagMapping.set(Rt,rt.name);let Nt=1;if(rt.isClosingFragment&&(Nt=2),Q==0){x+=t.substring(0,((_=(k=rt.startPosition)==null?void 0:k.offset)!=null?_:0)+Nt),x+=Rt,d=((p=(l=rt.startPosition)==null?void 0:l.offset)!=null?p:0)+Nt+yt.length,c.length==1&&(x+=t.substring(d));continue}else if(Q==c.length-1){c.length==1?x+=t.substring(0,((v=(m=rt.startPosition)==null?void 0:m.offset)!=null?v:0)+Nt):x+=t.substring(d,((P=(C=rt.startPosition)==null?void 0:C.offset)!=null?P:0)+Nt),x+=Rt,d=((L=(F=rt.startPosition)==null?void 0:F.offset)!=null?L:0)+Nt+yt.length,x+=t.substring(d);break}else{x+=t.substring(d,((B=(j=rt.startPosition)==null?void 0:j.offset)!=null?B:0)+Nt),x+=Rt,d=((et=(J=rt.startPosition)==null?void 0:J.offset)!=null?et:0)+Nt+yt.length;continue}}return x}},rs=Kr;rs.voidElementNames=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],rs.voidTagMapping=new Map});var $h,li,Ta=Dt(()=>{"use strict";Ae();mn();Nn();Ts();Cs();In();He();$h=class{constructor(){this.content="";this.chars=[];this.inputLen=0;this.prev=null;this.cur=null;this.next=null;this.currentIndex=0;this.currentContent=[];this.tokens=[]}advance(t){for(let e=0;e<t;e++)this.currentIndex++,this.checkCurrentOffsets()}encounteredFailure(){}updateIndex(t){this.currentIndex=t}inputLength(){return this.inputLen}getCurrentIndex(){return this.currentIndex}incrementIndex(){this.currentIndex+=1}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}pushChar(t){this.currentContent.push(t)}getChar(t){return this.chars[t]}getSeedOffset(){return 0}getContentSubstring(t,e){return this.content.substr(t,e)}getTokens(){return this.tokens}static couldReflow(t){return t.includes("fn(")&&t.includes("=>")}parse(t){for(this.tokens=[],this.content=H.normalizeLineEndings(t),this.chars=this.content.split(""),this.inputLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),H.ctypeSpace(this.cur)){this.currentContent.push(this.cur);continue}if(Ke(this.cur)){let e=this.cur,i=Ui(this);this.pushChar(e),this.currentContent=this.currentContent.concat(i.value.split("")),this.pushChar(e),this.currentIndex=i.endedOn;continue}if(this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_ForwardSlash){Ei(this,!0);continue}if(this.cur==nt.Punctuation_ForwardSlash&&this.next==nt.Punctuation_Asterisk){yi(this,!0);continue}if(this.cur!=null)if(this.cur==="f"&&this.next=="n")if(H.ctypePunct(this.prev)||H.ctypeSpace(this.prev)||this.prev==null){this.currentContent.push(this.cur),this.currentContent.push(this.next),this.currentContent.push(" "),this.currentIndex+=1;continue}else this.currentContent.push(this.cur);else this.currentContent.push(this.cur)}if(this.currentContent.length>0){let e=new Jt;e.content=this.currentContent.join(""),this.currentContent=[],this.tokens.push(e)}}reflow(t){try{this.parse(t)}catch{return t}let e="";return this.tokens.forEach(i=>{i instanceof Jt&&(e+=i.content)}),e}},li=$h;li.instance=new $h});var vr,Zh=Dt(()=>{"use strict";Ae();He();mn();Nn();In();vr=class{constructor(){this.content="";this.chars=[];this.inputLen=0;this.prev=null;this.cur=null;this.next=null;this.currentIndex=0;this.currentContent=[];this.tokens=[];this.createdArrays=[];this.keyValueTokens=0;this.elements=0}advance(t){for(let e=0;e<t;e++)this.currentIndex++,this.checkCurrentOffsets()}encounteredFailure(){}updateIndex(t){this.currentIndex=t}inputLength(){return this.inputLen}getCurrentIndex(){return this.currentIndex}incrementIndex(){this.currentIndex+=1}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}pushChar(t){this.currentContent.push(t)}getChar(t){return this.chars[t]}getSeedOffset(){return 0}getContentSubstring(t,e){return this.content.substr(t,e)}getNumberOfElements(){return this.elements}getNumberOfKeyValuePairs(){return this.keyValueTokens}getIsAssoc(){return this.elements==this.keyValueTokens}checkCurrentContent(){if(this.currentContent.length>0){let t=this.currentContent.join(""),e=new Je;if(t.trim().length==0){this.currentContent=[];return}e.sourceContent=t,this.tokens.push(e),this.currentContent=[]}}parse(t){for(this.content=H.normalizeLineEndings(t),this.chars=this.content.split(""),this.inputLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),!H.ctypeSpace(this.cur)){if(Ke(this.cur)){let i=this.cur,r=Ui(this);this.pushChar(i),this.currentContent=this.currentContent.concat(r.value.split("")),this.pushChar(i),this.currentIndex=r.endedOn;continue}if(this.cur==nt.LeftBracket){this.checkCurrentContent(),this.tokens.push(new ks);continue}else if(this.cur==nt.RightBracket)this.checkCurrentContent(),this.tokens.push(new Mr);else if(this.cur==nt.Punctuation_Comma)this.checkCurrentContent(),this.tokens.push(new ar),this.currentContent=[];else if(this.cur==nt.Punctuation_Equals&&this.next==nt.Punctuation_GreaterThan){this.checkCurrentContent(),this.currentIndex+=1,this.tokens.push(new Ur);continue}else this.currentContent.push(this.cur)}let e=this.parseArrays(this.tokens);return this.fillArrayDetails(),e==null||e.elements.filter(function(i){return!(i.value instanceof ar)}).forEach(i=>{this.elements+=1,i.key!=null&&i.value!=null&&(this.keyValueTokens+=1)}),e}fillArrayDetails(){this.createdArrays.forEach(t=>{t.elements.forEach((e,i)=>{e.key!=null&&(t.containsKeys=!0,e.key.sourceContent.length>t.maxKeyLength&&(t.maxKeyLength=e.key.sourceContent.length)),e.isLast=i==t.elements.length-1})})}parseArrays(t){for(let e=0;e<t.length;e++)if(t[e]instanceof ks){let r=this.findEndOfArray(t.slice(e));return e+=r.length,r.shift(),r.pop(),this.createArray(r,!0)}return null}createArray(t,e){let i=new Us;this.createdArrays.push(i);for(let r=0;r<t.length;r++){let a=t[r],h=null;if(r+1<t.length&&(h=t[r+1]),h instanceof ar||h==null){let c=new Ms;c.value=a,i.elements.push(c),r+=1;continue}else if(h instanceof Ur){let c=t[r+2];if(c instanceof ks){let f=this.findEndOfArray(t.slice(r+2)),x=new Ms;r+=f.length+1,f.shift(),f.pop(),x.key=a,x.value=this.createArray(f,!1),i.elements.push(x);continue}else{let f=new Ms;f.key=a,f.value=c,i.elements.push(f),r+=3;continue}}else if(a instanceof ks){let c=this.findEndOfArray(t.slice(r)),f=new Ms;r+=c.length,c.shift(),c.pop(),f.value=this.createArray(c,!1);continue}}return i}findEndOfArray(t){let e=[],i=0;for(let r=0;r<t.length;r++){let a=t[r];if(e.push(a),a instanceof ks){i+=1;continue}else if(a instanceof Mr){if(i-=1,i<=0)break;continue}}return e}}});var Hp,Er,Ca,Vp=Dt(()=>{"use strict";Hp=Xi(require("crypto")),Er=Xi(require("fs")),Ca=class{constructor(t){this.cacheDir="";this.cacheVersion="5";this.cacheDir=t}generateSHA1Hash(t){let e=Hp.default.createHash("sha1");return e.update(t),"_pint"+this.cacheVersion+"_"+e.digest("hex")}getCachePath(t){return this.cacheDir+this.generateSHA1Hash(t)+".json"}canCache(t){return typeof t=="undefined"?!1:t.trim().length>0}has(t){return typeof t=="undefined"?!1:Er.existsSync(this.getCachePath(t))}serializeMap(t){return JSON.stringify(Array.from(t.entries()))}unserializeMap(t){let e=JSON.parse(t);return new Map(e)}put(t,e,i){let r=this.getCachePath(t),a={resultMapping:this.serializeMap(e),contentMapping:this.serializeMap(i)};Er.writeFileSync(r,JSON.stringify(a))}get(t){let e=Er.readFileSync(this.getCachePath(t),{encoding:"utf8"}),i=JSON.parse(e);return{contentMapping:this.unserializeMap(i.contentMapping),resultMapping:this.unserializeMap(i.resultMapping)}}isValid(t,e){if(t.size!==e.size)return!1;for(let[i,r]of t.entries())if(!e.has(i)||e.get(i)!==r)return!1;return!0}}});var Me,tu,Wp,Ds,Qr,Gp=Dt(()=>{"use strict";Me=Xi(require("fs")),tu=Xi(require("path"));Ae();He();Vp();({execSync:Wp}=require("child_process")),Ds=class{constructor(t,e,i,r){this.tmpDir="";this.cacheDir="";this.resultMapping=new Map;this.contentMapping=new Map;this.pintCommand="";this.templateFile="";this.wasCached=!1;this.outputPintResults=!1;this.markerSuffix="";this.pintConfigPath="";this.phpDocs=new Map;this.phpTagDocs=new Map;this.cleanupFiles=[];this.cleanupDirs=[];this.didFail=!1;this.defaultConfig={preset:"laravel",rules:{concat_space:{spacing:"none"},no_unused_imports:!1,declare_strict_types:!1,method_argument_space:!0,single_trait_insert_per_statement:!0,types_spaces:{space:"single"}}};this.tmpDir=t,this.cacheDir=e,this.pintConfigPath=r,this.markerSuffix=this.markerSuffix+H.makeSlug(27);let a=this.tmpDir+"/pint.json";if(Ds.processConfigPath==null)if(this.pintConfigPath.trim().length==0||!Me.existsSync(this.pintConfigPath))Me.writeFileSync(a,JSON.stringify(this.defaultConfig),{encoding:"utf8"}),Ds.processConfigPath=a;else try{let h=JSON.parse(Me.readFileSync(this.pintConfigPath,{encoding:"utf8"}));typeof h.rules!="undefined"?(h.rules.no_unused_imports=!1,h.rules.declare_strict_types=!1):h.rules={no_unused_imports:!1,declare_strict_types:!1},Me.writeFileSync(a,JSON.stringify(h),{encoding:"utf8"}),Ds.processConfigPath=a}catch{Me.writeFileSync(a,JSON.stringify(this.defaultConfig),{encoding:"utf8"}),Ds.processConfigPath=a}Me.existsSync(this.cacheDir)||Me.mkdirSync(this.cacheDir),this.cache=new Ca(this.cacheDir),Me.existsSync(this.tmpDir)||Me.mkdirSync(this.tmpDir),this.pintCommand=i}getDidFail(){return this.didFail}setTemplateFilePath(t){this.templateFile=t}getTemplateFile(){return this.templateFile}prepareContent(t){let e=/[^\S\n]/g,i=/['"`]/g,r=t.replace(e,"");return r=r.replace(i,""),r}getResultMapping(){return this.resultMapping}getPhpBlockContent(t){if(t.overrideContent!=null&&this.resultMapping.has(t.overrideContent))return this.resultMapping.get(t.overrideContent);let e=this.prepareContent(t.sourceContent);if(this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i))return this.resultMapping.get(i)}if(e=this.prepareContent(t.sourceContent.trim()),this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i))return this.resultMapping.get(i)}return t.sourceContent}getEchoContent(t){if(t.overrideContent!=null&&this.resultMapping.has(t.overrideContent))return this.resultMapping.get(t.overrideContent);let e=this.prepareContent(t.content);if(this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i))return this.resultMapping.get(i)}if(e=this.prepareContent(t.content.trim()),this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i))return this.resultMapping.get(i)}return t.content}getComponentParameterContent(t){if(t.overrideValue!=null&&this.resultMapping.has(t.overrideValue)){let i=this.resultMapping.get(t.overrideValue);return i.includes(`
`)?`${t.name}="
${i}
"`:t.name+'="'+i.trim()+'"'}let e=this.prepareContent(t.value);if(this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i)){let r=this.resultMapping.get(i);return r.includes(`
`)?`${t.name}="
${r}
"`:t.name+'="'+r.trim()+'"'}}if(e=this.prepareContent(t.value.trim()),this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i)){let r=this.resultMapping.get(i);return r.includes(`
`)?`${t.name}="
${r}
"`:t.name+'="'+r.trim()+'"'}}return t.content}getDirectiveContent(t){if(t.overrideParams!=null&&this.resultMapping.has(t.overrideParams))return"("+this.resultMapping.get(t.overrideParams)+")";let e=this.prepareContent(t.directiveParameters);if(this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i))return"("+this.resultMapping.get(i)+")"}if(e=this.prepareContent(t.directiveParameters.trim()),this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i))return"("+this.resultMapping.get(i)+")"}return t.directiveParameters}getDirectivePhpContent(t){if(t.overrideParams!=null&&this.resultMapping.has(t.overrideParams))return this.resultMapping.get(t.overrideParams);let e=this.prepareContent(t.documentContent);if(this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i))return this.resultMapping.get(i)}if(e=this.prepareContent(t.documentContent.trim()),this.contentMapping.has(e)){let i=this.contentMapping.get(e);if(this.resultMapping.has(i))return this.resultMapping.get(i)}return t.documentContent}transform(t){let e=`<?php 
`,i=0,r=0;return t.getAllNodes().forEach(a=>{if(a instanceof _t){if(a.directiveName=="php"&&a.isClosedBy!=null&&a.hasValidPhp()){if(a.documentContent.trim().length==0)return;r+=1;let c="";c+=`<?php 
`,c+=a.documentContent,c+=`
`,a.overrideParams="__pint"+i.toString();let f=this.prepareContent(a.documentContent);this.contentMapping.has(f)||this.contentMapping.set(f,a.overrideParams),this.phpDocs.set(a.overrideParams,c),i+=1}else if(a.hasDirectiveParameters&&!a.hasJsonParameters&&a.hasValidPhp())if(a.directiveName=="php"){let h=a.directiveParameters.substring(1,a.directiveParameters.length-1).trim();if(h.length==0)return;r+=1,e+="// "+i.toString()+"=IPD"+this.markerSuffix,e+=`
`,H.breakByNewLine(h).forEach(f=>{e+=f.trimLeft()+`
`}),e=e.trimRight(),e+=";",e+=`
`,a.overrideParams="__pint"+i.toString();let c=this.prepareContent(a.directiveParameters);this.contentMapping.has(c)||this.contentMapping.set(c,a.overrideParams),i+=1}else if(a.directiveName=="forelse"||a.directiveName=="foreach"){let h=a.directiveParameters.substring(1,a.directiveParameters.length-1).trim();if(h.length==0)return;r+=1,e+="// "+i.toString()+"=FRL"+this.markerSuffix,e+=`
`,e+="foreach(",H.breakByNewLine(h).forEach(f=>{e+=f.trimLeft()+`
`}),e+=") {}",e+=`
`,a.overrideParams="__pint"+i.toString();let c=this.prepareContent(a.directiveParameters);this.contentMapping.has(c)||this.contentMapping.set(c,a.overrideParams),i+=1}else{let h=a.directiveParameters.substring(1,a.directiveParameters.length-1).trim();if(h.length==0)return;r+=1,e+="// "+i.toString()+"=DIR"+this.markerSuffix,e+=`
`,e+="$tVar = ",H.breakByNewLine(h).forEach(f=>{e+=f.trimLeft()+`
`}),e+=";",e+=`
`,a.overrideParams="__pint"+i.toString();let c=this.prepareContent(a.directiveParameters);this.contentMapping.has(c)||this.contentMapping.set(c,a.overrideParams),i+=1}}else if(a instanceof we&&a.hasValidPhp()){let h=a.content.trim();if(h.length==0)return;r+=1,e+="// "+i.toString()+"=ECH"+this.markerSuffix,e+=`
`,e+="echo ",H.breakByNewLine(h).forEach(f=>{e+=f.trimLeft()+`
`}),e=e.trimRight(),e+=";",e+=`
`,a.overrideContent="__pint"+i.toString();let c=this.prepareContent(a.content);this.contentMapping.has(c)||this.contentMapping.set(c,a.overrideContent),i+=1}else if(a instanceof si)a.parameters.length&&a.parameters.forEach(h=>{if(h.type==1&&h.directive!=null&&!h.directive.hasJsonParameters&&h.directive.hasValidPhp()){let c=h.directive.directiveParameters.substring(1,h.directive.directiveParameters.length-1).trim();if(c.length==0)return;r+=1,e+="// "+i.toString()+"=DIR"+this.markerSuffix,e+=`
`,e+="$tVar = ",H.breakByNewLine(c).forEach(x=>{e+=x+`
`}),e+=";",e+=`
`,h.directive.overrideParams="__pint"+i.toString();let f=this.prepareContent(h.directive.directiveParameters);this.contentMapping.has(f)||this.contentMapping.set(f,h.directive.overrideParams),i+=1}else if(h.type==3&&h.inlineEcho!=null&&h.inlineEcho.hasValidPhp()){r+=1;let c=h.inlineEcho.content.trim();e+="// "+i.toString()+"=ECH"+this.markerSuffix,e+=`
`,e+="echo ",H.breakByNewLine(c).forEach(x=>{e+=x+`
`}),e=e.trimRight(),e+=";",e+=`
`,h.inlineEcho.overrideContent="__pint"+i.toString();let f=this.prepareContent(h.inlineEcho.content);this.contentMapping.has(f)||this.contentMapping.set(f,h.inlineEcho.overrideContent),i+=1}else if(h.isExpression&&!h.isEscapedExpression&&h.hasValidPhpExpression()){r+=1;let c=h.value.trim();e+="// "+i.toString()+"=CPV"+this.markerSuffix,e+=`
`,e+="echo ",H.breakByNewLine(c).forEach(x=>{e+=x+`
`}),e=e.trimRight(),e+=";",e+=`
`,h.overrideValue="__pint"+i.toString();let f=this.prepareContent(h.value);this.contentMapping.has(f)||this.contentMapping.set(f,h.overrideValue),i+=1}});else if(a instanceof hi&&a.hasValidPhp()){let c=a.sourceContent.trim().substring(5).trimLeft();if(c=c.trimRight().substring(0,c.length-2).trim(),c.length==0)return;r+=1,a.overrideContent="__pint"+i.toString();let f=this.prepareContent(a.sourceContent);this.contentMapping.has(f)||this.contentMapping.set(f,a.overrideContent),this.phpTagDocs.set(a.overrideContent,a.sourceContent+"KEEP"),i+=1}}),r==0?null:e}format(t){let e=this.transform(t);if(e==null)return this.resultMapping;if(this.wasCached=!1,this.cache.canCache(this.templateFile)&&this.cache.has(this.templateFile))try{let d=this.cache.get(this.templateFile);if(this.cache.isValid(d.contentMapping,this.contentMapping))return this.contentMapping=d.contentMapping,this.resultMapping=d.resultMapping,this.wasCached=!0,this.resultMapping}catch{}let i="";try{i=this.callLaravelPint(e)}catch(d){return this.didFail=!0,this.cleanupFiles.forEach(k=>{Me.unlinkSync(k)}),this.cleanupDirs.forEach(k=>{Me.rmdirSync(k,{recursive:!0})}),this.outputPintResults&&console.error(d),this.resultMapping}this.cleanupFiles.forEach(d=>{Me.unlinkSync(d)});let r=H.breakByNewLine(i),a=[],h=this.markerSuffix,c=-1,f="",x=!1;return r.forEach(d=>{if(d.endsWith(h)){x=!0;var k=parseInt(d.substring(2).trim().substring(0,d.indexOf("="))),_=d.substring(d.indexOf("=")+1,d.indexOf("=")+4);if(f==""&&(f=_),c==-1){c=k;return}else{this.resultMapping.set("__pint"+c.toString(),this.cleanPintOutput(a.join(`
`),f)),a=[],c=k,f=_;return}}x&&a.push(d)}),a.length>0&&(this.resultMapping.set("__pint"+c.toString(),this.cleanPintOutput(a.join(`
`),f)),a=[],c=-1),this.cache.canCache(this.templateFile)&&this.cache.put(this.templateFile,this.resultMapping,this.contentMapping),this.resultMapping}cleanPintOutput(t,e){let i=t;return e=="DIR"?(i=i.trim().trimRight(),i=i.substring(7).trimLeft(),i.endsWith(";")&&(i=i.substring(0,i.length-1).trimRight())):e=="PHP"?(i=t.trim().substring(5).trimLeft(),i=i.trimRight(),i=i.trimRight(),i.endsWith("?")&&(i=i.substring(0,i.length-1).trimRight())):e=="IPD"?(i=t.trim().trimRight(),i.endsWith("?")&&(i=i.substring(0,i.length-1).trimRight()),i.endsWith(";")&&(i=i.substring(0,i.length-1).trimRight())):e=="FRL"?(i=i.trimLeft().substring(8).trimLeft().substring(1).trimLeft(),i=i.trimRight(),i=i.trimRight(),i.endsWith("?")&&(i=i.substring(0,i.length-1).trimRight()),i.endsWith(";")&&(i=i.substring(0,i.length-1).trimRight()),i=i.substring(0,i.length-1).trimRight(),i=i.substring(0,i.length-1).trimRight(),i=i.substring(0,i.length-1).trimRight()):e=="ECH"||e=="CPV"?(i=t.trim(),i=i.substring(4).trimLeft(),i=i.trimRight(),i=i.trimRight(),i.endsWith("?")&&(i=i.substring(0,i.length-1).trimRight()),i.endsWith(";")&&(i=i.substring(0,i.length-1).trimRight())):e=="BHP"&&(i=t.trim()),i}callLaravelPint(t){if(this.wasCached)return"";let e=H.makeSlug(26),i="",r="",a="";if(this.phpDocs.size>0||this.phpTagDocs.size>0){let h=this.tmpDir+"/"+H.makeSlug(32)+"/";Me.mkdirSync(h);let c=h+e+".php";Me.writeFileSync(c,t,{encoding:"utf8"}),this.cleanupFiles.push(c),this.cleanupDirs.push(h),this.phpDocs.forEach((x,d)=>{let k=h+e+"php_"+d+".php";Me.writeFileSync(k,x,{encoding:"utf8"}),this.cleanupFiles.push(k)}),this.phpTagDocs.forEach((x,d)=>{let k=h+e+"tag_php_"+d+".php";Me.writeFileSync(k,x,{encoding:"utf8"}),this.cleanupFiles.push(k)});let f=this.pintCommand.replace("{file}",`"${h}"`)+` --config "${Ds.processConfigPath}"`;r=Wp(f).toString(),this.phpDocs.forEach((x,d)=>{let k=h+e+"php_"+d+".php",l=Me.readFileSync(k,{encoding:"utf8"}).trim().substring(5);this.resultMapping.set(d,l)}),this.phpTagDocs.forEach((x,d)=>{let k=h+e+"tag_php_"+d+".php",l=Me.readFileSync(k,{encoding:"utf8"}).trim();l=l.substring(0,l.length-4),this.resultMapping.set(d,l)}),a=Me.readFileSync(c,{encoding:"utf8"})}else{let h=this.tmpDir+e+".php";Me.writeFileSync(h,t,{encoding:"utf8"});let c=this.pintCommand.replace("{file}",`"${h}"`)+` --config "${Ds.processConfigPath}"`;i=tu.basename(h),r=Wp(c).toString(),this.cleanupFiles.push(h),a=Me.readFileSync(h,{encoding:"utf8"})}if(this.outputPintResults&&typeof this.templateFile!="undefined"&&this.templateFile!=null&&r.includes(i)){let h=H.breakByNewLine(r),c=[];for(let f=0;f<h.length;f++){let x=h[f].trim();x.length==0||x=="\u2713"||(x.startsWith("\u2713")&&(x=x.substring(1).trim()),x.includes(i)&&(x=tu.basename(this.templateFile)+x.substring(x.indexOf(i)+i.length)),c.push(x))}console.log(c.join(`
`))}return a}},Qr=Ds;Qr.processConfigPath=null});var ba,qp=Dt(()=>{"use strict";ba=class{constructor(t,e){this.tabSize=0;this.content="";this.activeIndentLevel=0;this.tabSize=t,this.activeIndentLevel=e}appendNoRepeat(t){return this.content.trimEnd().endsWith(t)==!1?this.append(t):this}append(t){return this.content+=t,this}getContents(){return this.content}newLine(){return this.content+=`
`,this}indent(){return this.content+=" ".repeat(this.tabSize*this.activeIndentLevel),this}outdent(){let t=this.activeIndentLevel-1;return t<1&&(t=1),this.content+=" ".repeat(this.tabSize*t),this}}});var os,eu=Dt(()=>{"use strict";Ae();qp();os=class{static print(t,e,i){let r=new ba(e,i);if(r.append("[").newLine(),t.elements.length>0){let a="";r.indent(),t.elements.forEach(h=>{t.maxKeyLength>0&&h.key!=null&&(a=""),h.key!=null?(r.append(h.key.sourceContent+a).append(" => "),h.value!=null&&(h.value instanceof Us?h.value.elements.length==0?r.append("[],"):r.append(os.print(h.value,e,i+1)):r.append(h.value.sourceContent))):h.value!=null&&(h.value instanceof Us?r.append(os.print(h.value,e,i+1)):r.append(h.value.sourceContent)),r.appendNoRepeat(",").newLine(),h.isLast||r.indent()})}return i>1&&r.outdent(),r.append("]"),r.getContents()}}});var zs,zp=Dt(()=>{"use strict";He();zs=class{static printComment(t,e,i){if(t.isMultiline()){let r=H.breakByNewLine(t.innerContent.trim()),a=[];r.forEach(f=>{a.push(" ".repeat(e+i)+f.trim())});let h=a.join(`
`),c=`{{--
`;return c+=h,c+=`
`+" ".repeat(i)+"--}}",c}return"{{-- "+t.innerContent.trim()+" --}}"}}});function yr(n,t){if(n.includes(`
`)&&(n.includes("match")||n.includes("=>")||n.includes("&&")||n.includes(",")||n.includes("("))){let e=H.breakByNewLine(n),i=0;return e.forEach(r=>{let a=r.trim().length;a>i&&(i=a)}),i+Math.ceil(i/2)}return t}function Aa(n){let t=H.breakByNewLine(n),e=[],i=!1;for(let r=0;r<t.length;r++){let a=t[r];if(a.trimRight().endsWith("//")&&!i){e.push(a.trimRight().substring(0,a.trimRight().length-2).trimRight()),i=!0;continue}e.push(a)}return e.join(`
`)}function Sa(n){let t=H.breakByNewLine(n),e=[],i=!1,r=!1,a=!0;for(let h=0;h<t.length;h++){let c=t[h];if(!i&&c.trimRight().endsWith("[")){r=!0,e.push(c);continue}if(c.trimRight().endsWith(",")&&r&&!i)if(c.trimRight().endsWith("//")){a=!1;break}else e.push(c+"//"),i=!0;else e.push(c)}return a?{content:e.join(`
`),addedHack:i}:{content:n,addedHack:!1}}var Da=Dt(()=>{"use strict";He()});function rD(n){let t="",e=H.breakByNewLine(n);for(let i=0;i<e.length;i++)t+=e[i].trim();return t}var Ns,$r,Jp=Dt(()=>{"use strict";Ss();Ta();Zh();He();eu();Gr();Da();zr();Ns=class{static getReasonableDirectivePhpOptions(t,e){return Ns.defaultControlDirectiveNames.includes(t.name)?{...e,trailingCommaPHP:!1}:e}static printDirective(t,e,i,r,a,h){var x,d,k,_;let c=t.directiveName.trim(),f="@"+c;if(t.hasDirectiveParameters){let l=t.directiveParameters;if(t.hasJsonParameters){if(e.formatDirectiveJsonParameters&&r&&t.hasValidJson()){let m=t.getPhpContent().trim();m.startsWith("(")&&m.endsWith(")")&&(m=m.substring(1),m=m.substring(0,m.length-1));let v=r(m);v.includes(`
`)&&(v=pe.shiftIndent(v,a,!0,e)),l="("+v+")"}}else if(e.formatDirectivePhpParameters&&i!=null&&t.hasValidPhp()){if(h!=null){let F=e.spacesAfterDirective;Ns.defaultControlDirectiveNames.includes(c)&&(F=e.spacesAfterControlDirective);let L="@"+c+" ".repeat(F),j=h.getDirectiveContent(t);if(j=pe.shiftIndent(j,a,!0,e),Ns.defaultControlDirectiveNames.includes(c)&&j.includes(`
`)){let B=H.breakByNewLine(j),J=[];for(let et=0;et<B.length;et++){let Q=B[et];if(et==0){J.push(Q);continue}J.push(" ".repeat(L.length+1)+Q)}j=J.join(`
`)}return L+j}let m=t.getPhpContent().trim();m.startsWith("(")&&m.endsWith(")")&&(m=m.substring(1),m=m.substring(0,m.length-1));let v=m,C=!1,P=_r();if(m.startsWith("[")&&m.endsWith("]")&&((x=t.startPosition)==null?void 0:x.line)!=((d=t.endPosition)==null?void 0:d.line)){let F="<?php "+m,L=Sa(F);L.addedHack&&(F=L.content),v=i(F,e,Ns.getReasonableDirectivePhpOptions(t,{...P,printWidth:yr(m,P.printWidth)})),L.addedHack&&(v=Aa(v));let j=new vr,B=j.parse(H.replaceAllInString(v,`
`," ")),J=0;return j.getIsAssoc()||v.includes("match")||v.includes("=>")?(v.includes(`
`)&&!C&&(v=pe.shiftIndent(v,a,!0,e)),Ve.couldReflow(v)&&(v=Ve.instance.reflow(v)),li.couldReflow(v)&&(v=li.instance.reflow(v)),v="@"+c+" ".repeat(e.spacesAfterDirective)+"("+v+")"):B!=null&&(v=os.print(B,e.tabSize,1),J>0&&(v=H.removeEmptyNewLines(pe.shiftIndent(v,J,!0,e))),v.includes(`
`)&&!C&&(v=pe.shiftIndent(v,a,!0,e)),v="@"+c+" ".repeat(e.spacesAfterDirective)+"("+v+")"),v}else try{let F=_r();((k=t.startPosition)==null?void 0:k.line)==((_=t.endPosition)==null?void 0:_.line)&&(F={..._r(),printWidth:1/0},C=!0),v=i("<?php "+m,e,Ns.getReasonableDirectivePhpOptions(t,F))}catch{}t.directiveName.toLowerCase()=="forelse"&&(v=v.substring(9),v=v.substring(0,v.length-14)),Ve.couldReflow(v)&&(v=Ve.instance.reflow(v)),li.couldReflow(v)&&(v=li.instance.reflow(v)),v.includes(`
`)&&!C?l="("+pe.shiftIndent(v,a,!0,e)+")":(C&&(v=rD(v)),l="("+v+")")}let p=e.spacesAfterDirective;Ns.defaultControlDirectiveNames.includes(c)&&(p=e.spacesAfterControlDirective),f+=" ".repeat(p)+l}return f}},$r=Ns;$r.defaultControlDirectiveNames=["if","elseif","unless","while","for","foreach","forelse"]});var as,jp=Dt(()=>{"use strict";zr();Ss();Ta();Ae();He();Gr();Da();as=class{static printEcho(t,e,i,r,a){var d,k;let h="{{ ",c=" }}";t instanceof wn?(h="{!! ",c=" !!}"):t instanceof Ln&&(h="{{{ ",c=" }}}");let f=h,x=t.content.trim();if(e.formatInsideEcho&&i!=null&&t.hasValidPhp()){let _=Ap(),l=x;if(((d=t.startPosition)==null?void 0:d.line)!=((k=t.endPosition)==null?void 0:k.line)){if(_={..._,printWidth:yr(x,_.printWidth)},e.useLaravelPint)a!=null&&(l=a.getEchoContent(t));else{let m=Sa(x);m.addedHack&&(x=m.content),l=i("<?php "+x,e,_),m.addedHack&&(l=Aa(l)),Ve.couldReflow(l)&&(l=Ve.instance.reflow(l)),li.couldReflow(l)&&(l=li.instance.reflow(l))}if(e.echoStyle=="inline"){let m=pe.shiftIndentWithLastLineInline(l,e.tabSize,r+e.tabSize,!0).trim();return h.trimRight()+" "+m+" "+c.trim()}return h.trim()+`
`+pe.shiftIndent(l,r+e.tabSize,!1,e,!0)+`
`+" ".repeat(r)+c.trim()}else e.useLaravelPint?a!=null&&(l=a.getEchoContent(t)):(l=i("<?php "+x+";",e,{..._,printWidth:1/0}),l=l.trimRight().substring(0,l.trimRight().length-1),Ve.couldReflow(l)&&(l=Ve.instance.reflow(l)),li.couldReflow(l)&&(l=li.instance.reflow(l))),l.includes(`
`)&&(l=H.collapse(l));x=l}return f+=x+c,f}}});var Wn,iu=Dt(()=>{"use strict";Wn=class{};Wn.FormatIgnoreStart="format-ignore-start",Wn.FormatIgnoreEnd="format-ignore-end"});var Se,ss,Kh=Dt(()=>{"use strict";Up();Jr();zr();Ss();Qh();Ta();Ae();Zh();He();Ea();on();Gp();eu();zp();Jp();jp();Gr();Da();iu();Se=class{constructor(t){this.isInsideIgnoreFormatter=!1;this.ignoredLiteralBlocks=new Map;this.activeLiteralSlug="";this.shadowDoc=null;this.inlineDirectiveBlocks=new Map;this.contentDirectives=new Map;this.dynamicEchoBlocks=new Map;this.dynamicAttributeEchoBlocks=new Map;this.pairedDirectives=new Map;this.dynamicInlineDirectives=new Map;this.inlineDirectives=new Map;this.attachedDirectives=new Map;this.inlineEchos=new Map;this.spanEchos=new Map;this.inlinePhpNodes=new Map;this.echoBlockSlugs=new Map;this.parentTransformer=null;this.forElseWithEmpty=[];this.forElseNoEmpty=[];this.conditions=[];this.switchStatements=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.inlineComments=new Map;this.htmlTagComments=new Map;this.blockComments=[];this.blockPhpNodes=new Map;this.breakDirectives=new Map;this.htmlTagDirectives=new Map;this.htmlTagSwitchStatements=new Map;this.dynamicElementDirectives=new Map;this.dynamicElementDirectiveNodes=new Map;this.dynamicElementConditions=new Map;this.dynamicElementConditionNodes=new Map;this.dynamicElementSwitch=new Map;this.dynamicElementSwitchNodes=new Map;this.dynamicElementForElse=new Map;this.dynamicElementForElseNodes=new Map;this.dynamicElementPhpNodes=new Map;this.dynamicElementPhp=new Map;this.embeddedEchos=new Map;this.inlineLiterals=new Map;this.embeddedDirectives=new Map;this.structureLines=[];this.directiveParameters=new Map;this.expressionParameters=new Map;this.echoParameters=new Map;this.commentParameters=new Map;this.slugs=[];this.extractedEmbeddedDocuments=new Map;this.propDirectives=new Map;this.useLaravelPint=!1;this.pintTransformer=null;this.filePath="";this.formattingOptions=null;this.didPintFail=!1;this.removedAttributes=new Map;this.shorthandSlotAttributes=new Map;this.shorthandSlotAttributeReference=new Map;this.phpFormatter=null;this.blockPhpFormatter=null;this.phpTagFormatter=null;this.jsonFormatter=null;this.transformOptions={spacesAfterDirective:0,spacesAfterControlDirective:1,tabSize:4,formatDirectiveJsonParameters:!0,formatDirectivePhpParameters:!0,formatInsideEcho:!0,phpOptions:null,attributeJsOptions:null,echoStyle:"block",useLaravelPint:!1,pintCommand:"pint {filename}",pintTempDirectory:"",pintCacheDirectory:"",pintCacheEnabled:!0,pintConfigPath:"",classStrings:gr(),formatJsAttributes:!0,excludeJsAttributes:[],safeWrappingJsAttributes:["^x-data"],includeJsAttributes:["^x-"]};this.forceCleanLines=["@endphp","@elseif","@else","@endif","@endswitch","@endverbatim","@case","@default"];this.doc=t}withShadowDocument(t=null){return this.shadowDoc=t,this}getPintTransformer(){return this.pintTransformer}setPintTransformer(t){this.pintTransformer=t}setUsingLaravelPint(t){this.useLaravelPint=t}getUsingLaravelPint(){return this.useLaravelPint}withRemovedAttributes(t){return this.removedAttributes=t,this}setParentTransformer(t){return this.parentTransformer=t,this.cloneOptions(t),this}cloneOptions(t){return this.setUsingLaravelPint(t.getUsingLaravelPint()),this.setPintTransformer(t.getPintTransformer()),this}getFormattingOptions(){return this.formattingOptions}setFormattingOptions(t){return this.formattingOptions=t,this}withJsonFormatter(t){return this.jsonFormatter=t,this}getJsonFormatter(){return this.jsonFormatter}withFilePath(t){return this.filePath=t,this}withBlockPhpFormatter(t){return this.blockPhpFormatter=t,this}getBlockPhpFormatter(){return this.blockPhpFormatter}withPhpTagFormatter(t){return this.phpTagFormatter=t,this}getPhpTagFormatter(){return this.phpTagFormatter}withPhpFormatter(t){return this.phpFormatter=t,this}getPhpFormatter(){return this.phpFormatter}removeBlade(){let t=this.doc.getAllNodes(),e="";return t.forEach(i=>{i instanceof Jt?e+=i.getOutputContent():i instanceof hi?e+=i.sourceContent:i instanceof _t&&i.directiveName=="verbatim"&&(e+=i.innerContent)}),e}close(t){return"</"+t+">"}open(t){return"<"+t+">"}selfClosing(t){return"<"+t+" />"}pair(t,e=""){return"<"+t+">"+e+"</"+t+">"}printDirective(t,e){var i;return $r.printDirective(t,this.transformOptions,this.phpFormatter,this.jsonFormatter,e,(i=this.pintTransformer)!=null?i:Se.sharedPintTransformer)}makeSlug(t){let e=H.makeSlug(t);return this.slugs.includes(e)?this.makeSlug(t+1):(this.slugs.push(e),e)}registerDirectiveParameter(t,e){this.parentTransformer!=null?this.parentTransformer.registerDirectiveParameter(t,e):this.directiveParameters.set(t,e)}registerShorthandSlot(t){if(this.parentTransformer!=null)return this.parentTransformer.registerShorthandSlot(t);let e=this.makeSlug(20);return this.shorthandSlotAttributes.set(t.refId,e),this.shorthandSlotAttributeReference.set(e,t),e}getSlotSlug(t){return this.parentTransformer!=null?this.parentTransformer.getSlotSlug(t):this.shorthandSlotAttributes.has(t)?this.shorthandSlotAttributes.get(t):""}registerCommentParameter(t,e){this.parentTransformer!=null?this.parentTransformer.registerCommentParameter(t,e):this.commentParameters.set(t,e)}registerEchoParameter(t,e){this.parentTransformer!=null?this.parentTransformer.registerEchoParameter(t,e):this.echoParameters.set(t,e)}registerExpressionParameter(t,e){this.parentTransformer!=null?this.parentTransformer.registerExpressionParameter(t,e):this.expressionParameters.set(t,e)}registerCondition(t){this.parentTransformer!=null?this.parentTransformer.registerCondition(t):this.conditions.push(t)}registerInlineLiteral(t,e){this.parentTransformer!=null?this.parentTransformer.registerInlineLiteral(t,e):this.inlineLiterals.set(t,{content:e})}registerSwitchStatement(t){this.parentTransformer!=null?this.parentTransformer.registerSwitchStatement(t):this.switchStatements.push(t)}registerPairedDirective(t,e){this.parentTransformer!=null?this.parentTransformer.registerPairedDirective(t,e):e.isInline==!1?this.pairedDirectives.set(t,e):(this.inlineDirectives.set(e.slug,e),this.dynamicInlineDirectives.set(e.directive.nodeContent,e.slug))}registerAttachedDirective(t,e){this.parentTransformer!=null?this.parentTransformer.registerAttachedDirective(t,e):this.attachedDirectives.set(t,e)}registerInlineDirectiveBlock(t,e){this.parentTransformer!=null?this.parentTransformer.registerInlineDirectiveBlock(t,e):this.inlineDirectiveBlocks.set(t,e)}registerContentDirective(t,e){this.parentTransformer!=null?this.parentTransformer.registerContentDirective(t,e):this.contentDirectives.set(t,e)}registerComment(t,e){this.parentTransformer!=null?this.parentTransformer.registerComment(t,e):this.inlineComments.set(t,e)}registerDynamicDirective(t,e){this.parentTransformer!=null?(this.dynamicElementDirectives.set(e.nodeContent,t),this.parentTransformer.registerDynamicDirective(t,e)):(this.dynamicElementDirectives.set(e.nodeContent,t),this.dynamicElementDirectiveNodes.set(t,e))}prepareConditionalDirective(t){if(this.dynamicElementDirectives.has(t.nodeContent))return this.dynamicElementDirectives.get(t.nodeContent);let e=this.makeSlug(t.nodeContent.length);return this.registerDynamicDirective(e,t),e}prepareInlineBlockDirective(t){let e=this.makeSlug(t.sourceContent.length);return this.registerInlineDirectiveBlock(e,t),this.selfClosing(e)}prepareContentDirective(t){var i,r,a,h;let e=this.makeSlug(t.sourceContent.length);if(this.registerContentDirective(e,t),t.nextNode!=null){let c=((r=(i=t.nextNode.startPosition)==null?void 0:i.offset)!=null?r:0)-((h=(a=t.endPosition)==null?void 0:a.offset)!=null?h:0);if(t.nextNode instanceof Jt){let f=t.nextNode;if(f.content.length-f.content.trimLeft().length>0)return e;if(f.content.length==0)return e;{let x=f.content[0];return H.ctypePunct(x)||H.ctypeSpace(x)?e:e+" "}}else return c>0?e+" ":e}return e}registerPhpBlock(t,e){this.parentTransformer!=null?this.parentTransformer.registerPhpBlock(t,e):(this.removeLines.push(this.close(t)),this.blockPhpNodes.set(t,e))}registerConditionalPhpBlock(t,e){this.parentTransformer!=null?(this.dynamicElementPhp.set(e.sourceContent,t),this.parentTransformer.registerConditionalPhpBlock(t,e)):(this.dynamicElementPhp.set(e.sourceContent,t),this.dynamicElementPhpNodes.set(t,e))}prepareConditionalPhpBlock(t){if(this.dynamicElementPhp.has(t.sourceContent))return this.dynamicElementPhp.get(t.sourceContent);let e=this.makeSlug(t.sourceContent.length);return this.registerConditionalPhpBlock(e,t),e}registerInlinePhpBlock(t){if(this.parentTransformer!=null)return this.parentTransformer.registerInlinePhpBlock(t);{let e=this.makeSlug(t.sourceContent.length);return this.inlinePhpNodes.set(e,t),e}}prepareInlinePhpBlock(t){return this.registerInlinePhpBlock(t)}transformComponentSlots(t){let e=t;return this.shorthandSlotAttributeReference.forEach((i,r)=>{var x;let a=`<x-${r}`,h=`</x-${r}`,c=(x=i.name)==null?void 0:x.inlineName,f=`<x-slot:${c}`;e=H.safeReplaceAllInString(e,h,"</x-slot"),e=H.safeReplaceAllInString(e,a,f)}),e}preparePhpBlock(t){if(t.fragmentPosition==0)return this.prepareConditionalPhpBlock(t);if(t.isInline||t.fragmentPosition==2||t.fragmentPosition==1)return this.prepareInlinePhpBlock(t);let e=this.makeSlug(35);this.registerPhpBlock(e,t);let i=this.open(e),r=this.close(e);return`
`+i+r+`
`}transformPhpBlock(t){let e=t;return this.blockPhpNodes.forEach((i,r)=>{let a=this.open(r),h=this.indentLevel(a),c=i.sourceContent;this.transformOptions.formatDirectivePhpParameters&&i.hasValidPhp()&&(this.useLaravelPint?this.pintTransformer!=null?c=this.pintTransformer.getPhpBlockContent(i):Se.sharedPintTransformer!=null&&(c=Se.sharedPintTransformer.getPhpBlockContent(i)):this.phpTagFormatter!=null&&(c=this.phpTagFormatter(c,this.transformOptions,null),Ve.couldReflow(c)&&(c=Ve.instance.reflow(c)),li.couldReflow(c)&&(c=li.instance.reflow(c))),c=pe.shiftIndent(c,h,!0,this.transformOptions)),e=H.safeReplace(e,a,c)}),this.dynamicElementPhpNodes.forEach((i,r)=>{e=H.safeReplaceAllInString(e,r,this.printInlinePhp(i))}),this.inlinePhpNodes.forEach((i,r)=>{e=H.safeReplace(e,r,this.printInlinePhp(i))}),e}printInlinePhp(t){let e=t.sourceContent;return this.phpTagFormatter&&t.hasValidPhp()&&(e=this.phpTagFormatter(e,this.transformOptions,null),Ve.couldReflow(e)&&(e=Ve.instance.reflow(e)),li.couldReflow(e)&&(e=li.instance.reflow(e)),e=H.safeReplaceAllInString(e,`
`," ")),e}shouldCreateVirutal(t){let e=t.getImmediateChildren();if(e.length==0)return!0;let i=!0,r=!0,a=0,h=0,c=0,f=!0;for(let x=0;x<e.length;x++){let d=e[x];d instanceof we&&d.isInlineEcho?(i=!1,a+=1,h+=1):d instanceof Jt?(c+=1,d.content.trim().length>0&&(r=!1)):h+=1}return a==0&&(f=!0),h>0&&i==!0?!1:(r==!1&&h==0&&(f=!0),r==!0&&h==0&&(f=!0),f)}preparePairedDirective(t){var h,c,f,x,d,k,_,l,p,m;let e=this.makeSlug(t.sourceContent.length),i=t.directiveName.toLowerCase(),r=(h=t.childrenDocument)==null?void 0:h.document.transform().setParentTransformer(this).toStructure();if(t.fragmentPosition!=0){if(t.originalAbstractNode!=null&&t.originalAbstractNode.prevNode instanceof we&&t.originalAbstractNode instanceof _t&&t.originalAbstractNode.directiveName=="if"){let P=((f=(c=t.originalAbstractNode.startPosition)==null?void 0:c.index)!=null?f:0)-((d=(x=t.originalAbstractNode.prevNode.endPosition)==null?void 0:x.index)!=null?d:0);if(P>0&&P<3)return this.registerAttachedDirective(e,{directive:t,innerDoc:r,slug:e,isInline:!1,virtualElementSlug:""}),e}let v="",C=`${this.open(e)}
`;if(i=="php"||i=="verbatim")v=this.makeSlug(15),C+=this.pair(v);else{let P=this.isAllInlineNodes((k=t.children)!=null?k:[]),F=this.containsBladeStructures((_=t.children)!=null?_:[]);if(ns)C+=" "+r.trim()+" ";else if(this.shouldCreateVirutal(t)&&t.containsChildStructures==!1&&t.containsAnyFragments==!1&&!P&&!F||!t.containsAnyFragments&&P&&F)if(!t.containsAnyFragments&&!F&&t.documentContent.trim().length>0&&t.documentContent.trim().split(`
`).length==1)if(((l=t.endPosition)==null?void 0:l.line)!=((m=(p=t.isClosedBy)==null?void 0:p.startPosition)==null?void 0:m.line)){let L=this.makeSlug(32);this.registerInlineLiteral(L,t.documentContent.trim()),C+=this.selfClosing(L)}else v=this.makeSlug(15),C+=this.pair(v,r);else v=this.makeSlug(15),C+=this.pair(v,r);else C+=r}return C+=`${this.close(e)}
`,this.virtualStructureOpens.push(this.open(v)),this.virtualStructureClose.push(this.close(v)),this.virtualStructureClose.push(this.close(e)),this.registerPairedDirective(e,{innerDoc:r,slug:e,directive:t,virtualElementSlug:v,isInline:!1}),C}if(this.dynamicInlineDirectives.has(t.nodeContent))return this.dynamicInlineDirectives.get(t.nodeContent)+" ";let a=this.makeSlug(t.nodeContent.length);return this.registerPairedDirective(e,{innerDoc:r,slug:a,directive:t,virtualElementSlug:"",isInline:!0}),a+" "}registerForElseWithEmpty(t){this.parentTransformer!=null?this.parentTransformer.registerForElseWithEmpty(t):this.forElseWithEmpty.push(t)}prepareForElse(t){var i,r,a,h,c,f,x,d,k;if(t.fragmentPosition==3||t.fragmentPosition==2){if(t.elseNode!=null){let P=this.makeSlug((r=(i=t.constructedFrom)==null?void 0:i.sourceContent.length)!=null?r:0),F=this.makeSlug((h=(a=t.elseNode)==null?void 0:a.sourceContent.length)!=null?h:0),L=(c=t.truthDocument)==null?void 0:c.document.transform().setParentTransformer(this).toStructure(),j=(f=t.falseDocument)==null?void 0:f.document.transform().setParentTransformer(this).toStructure(),B={truthDoc:L,falseDoc:j,forElse:t,truthClose:this.close(P),emptyOpen:this.open(F),pairClose:this.close(F),truthSlug:P,falseSlug:F},J=this.open(P);if(J+=L,J+=B.truthClose,J+=`
`+B.emptyOpen+`
`,j.includes("<")==!1){let et=this.makeSlug(32);this.registerInlineLiteral(et,j.trim()),J+=this.selfClosing(et)}else J+=j;return J+=B.pairClose,this.registerForElseWithEmpty(B),J}let _=t.constructedFrom,l=(x=t.truthDocument)==null?void 0:x.document.transform().setParentTransformer(this).toStructure(),p=this.makeSlug(_.sourceContent.length),m=this.makeSlug((k=(d=_.isClosedBy)==null?void 0:d.sourceContent.length)!=null?k:0),v={truthDoc:l,falseDoc:"",forElse:t,truthSlug:p,falseSlug:"",pairClose:this.close(m),emptyOpen:"",truthClose:""};this.forElseNoEmpty.push(v);let C=this.open(p);return C+=l,C+=this.close(p),C}if(this.dynamicElementForElse.has(t.nodeContent))return this.dynamicElementForElse.get(t.nodeContent)+" ";let e=this.makeSlug(t.nodeContent.length);return this.registerDynamicElementForElse(e,t),e+" "}registerBreak(t,e){this.parentTransformer!=null?this.parentTransformer.registerBreak(t,e):this.breakDirectives.set(t,e)}registerProps(t,e){this.parentTransformer!=null?this.parentTransformer.registerProps(t,e):this.propDirectives.set(t,e)}preparePropsDirective(t){let e=this.makeSlug(10);return this.registerProps(e,t),`

${this.pair(e)}`}prepareBreakDirective(t){let e=this.makeSlug(10);return this.registerBreak(e,t),`

${this.pair(e)}`}registerEmbeddedDirective(t){if(this.parentTransformer!=null)return this.parentTransformer.registerEmbeddedDirective(t);let e=this.makeSlug(t.nodeContent.length);return this.embeddedDirectives.set(e,t),e}prepareHtmlSwitchStatement(t){if(Se.rootTransformer!=null&&Se.rootTransformer!=this)return Se.rootTransformer.prepareHtmlSwitchStatement(t);let e=H.makeSlug(64);return this.htmlTagSwitchStatements.set(e,t),e}prepareHtmlTagDirective(t){if(Se.rootTransformer!=null&&Se.rootTransformer!=this)return Se.rootTransformer.prepareHtmlTagDirective(t);let e=H.makeSlug(64);return this.htmlTagDirectives.set(e,t),e}registerEmbeddedDocument(t,e,i){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(t,e,i):(this.extractedEmbeddedDocuments.set(t,{slug:t,content:e,isScript:i}),t)}prepareDirective(t){return t.fragmentPosition==2&&t.isClosedBy!=null?`
`+this.prepareHtmlTagDirective(t):t.isEmbedded()?this.registerEmbeddedDirective(t):t.directiveName.trim().toLowerCase()=="break"?this.prepareBreakDirective(t):t.directiveName.trim().toLowerCase()=="props"?this.preparePropsDirective(t):t.isClosedBy!=null?this.preparePairedDirective(t):t.fragmentPosition==3?this.prepareInlineBlockDirective(t):t.fragmentPosition==0?this.prepareConditionalDirective(t):this.prepareContentDirective(t)}registerVirtualComment(t){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(t):this.blockComments.push(t)}registerHtmlTagComment(t){if(this.parentTransformer!=null)return this.parentTransformer.registerHtmlTagComment(t);let e=H.makeSlug(64);return this.htmlTagComments.set(e,t),e}prepareComment(t){if(!ns&&t.isPartOfHtmlTag())return this.registerHtmlTagComment(t);if(t.isMultiline()){let i=this.makeSlug(10),r=this.makeSlug(10),a={node:t,pairOpen:this.open(i),pairClose:this.close(i),virtualElement:this.selfClosing(r)};return this.registerVirtualComment(a),a.pairOpen+`
`+a.virtualElement+`
`+a.pairClose}let e=this.makeSlug(t.sourceContent.length);return ns&&t.hasNeighborsOnLine()&&Se.inlineComments.push(this.selfClosing(e)),this.registerComment(e,t),this.selfClosing(e)}registerDynamicFragmentEcho(t){if(this.parentTransformer!=null)return this.parentTransformer.registerDynamicFragmentEcho(t);if(this.echoBlockSlugs.has(t.sourceContent))return this.echoBlockSlugs.get(t.sourceContent);{let e=this.makeSlug(t.sourceContent.length);return this.dynamicEchoBlocks.set(e,t),this.echoBlockSlugs.set(t.sourceContent,e),e}}registerDynamicAttributeFragmentEcho(t){if(this.parentTransformer!=null)return this.parentTransformer.registerDynamicFragmentEcho(t);{let e=this.makeSlug(t.sourceContent.length);return this.dynamicAttributeEchoBlocks.set(e,t),`${e}="${e}"`}}registerInlineEcho(t){if(this.parentTransformer!=null)return this.parentTransformer.registerInlineEcho(t);{let e=this.makeSlug(t.sourceContent.length);return t.isInlineEcho?(this.spanEchos.set(e,t),e):(this.inlineEchos.set(e,t),this.selfClosing(e))}}prepareComponent(t){var i,r;if(t.isClosingTag){if(((i=t.name)==null?void 0:i.name)=="slot"){if(t.isOpenedBy!=null&&t.isOpenedBy.isShorthandSlot){let a=t.isOpenedBy.refId;return`</x-${this.getSlotSlug(a)}>`}return"</x-slot>"}return"</x-"+t.getComponentName()+">"}let e="<x-";if(((r=t.name)==null?void 0:r.name)=="slot"&&t.isSelfClosing==!1)if(t.name.inlineName.trim().length>0){let a=t.name.inlineName;a.startsWith(":")&&(a=a.substring(1)),t.isClosedBy!=null?e+=this.registerShorthandSlot(t):e+='slot name="'+a+'"'}else e+=t.getComponentName();else e+=t.getComponentName();return t.hasParameters&&(e+=" ",t.parameters.forEach(a=>{var h,c;if(a.type==0)if(a.isExpression){let f=this.makeSlug(a.content.length);this.registerExpressionParameter(f,a),e+=f+" "}else e+=a.content+" ";else if(a.type==2)e+=a.name+" ";else if(a.type==1){let f=this.makeSlug((c=(h=a.directive)==null?void 0:h.sourceContent.length)!=null?c:0);this.registerDirectiveParameter(f,a),e+=f+" "}else if(a.type==3&&a.inlineEcho!=null){let f=this.makeSlug(a.inlineEcho.content.length);this.registerEchoParameter(f,a),e+=f+" "}else if(a.type==4&&a.inlineComment!=null){let f=this.makeSlug(a.inlineComment.innerContent.length);this.registerCommentParameter(f,a),e+=f+" "}})),t.isSelfClosing?e+=" />":e+=">",e}registerEmbeddedEcho(t){if(this.parentTransformer!=null)return this.parentTransformer.registerEmbeddedEcho(t);let e=this.makeSlug(t.sourceContent.length);return this.embeddedEchos.set(e,t),e}prepareEcho(t){if(t.isEmbedded())return this.registerEmbeddedEcho(t);if(t.fragmentPosition==0)return this.registerDynamicFragmentEcho(t);if(t.fragmentPosition==1)return this.registerDynamicFragmentEcho(t);if(t.fragmentPosition==2){if(t.prevNode!=null&&!(t.prevNode instanceof Jt))return this.registerInlineEcho(t);if(t.nextNode!=null)if(t.nextNode instanceof Jt){let e=t.nextNode;if(e.content.length-e.content.trimLeft().length>0)return this.registerDynamicAttributeFragmentEcho(t);if(e.content.length==0)return this.registerDynamicAttributeFragmentEcho(t);{let i=e.content[0];if(!H.ctypeSpace(i))return this.registerDynamicFragmentEcho(t)}}else return this.registerInlineEcho(t);return this.registerDynamicAttributeFragmentEcho(t)}return this.registerInlineEcho(t)}prepareSwitch(t){if(t.fragmentPosition==3||t.fragmentPosition==2){if(t.fragmentPosition==2)return this.prepareHtmlSwitchStatement(t);let i=[],r="";t.cases.forEach((_,l)=>{var F,L;let p=_.head,m=(F=_.childDocument)==null?void 0:F.document.transform().setParentTransformer(this).toStructure(),v=this.makeSlug(p.sourceContent.length),C=this.makeSlug(5),P={case:_,slug:v,doc:m,virtualOpen:this.selfClosing(C),virtualClose:this.close(C),pairOpen:this.open(v),pairClose:this.close(v),isFirst:l==0,isLast:l==t.cases.length-1,leadingClose:"",leadingOpen:""};if(_.leadingDocument!=null){let j=this.makeSlug(25);P.leadingOpen=this.open(j),P.leadingClose=this.close(j),r+=`
`+_.leadingDocument.document.transform().setParentTransformer(this).toStructure()+`
`}r+=P.pairOpen,((L=_.head)==null?void 0:L.directiveName)=="default"&&(r+=P.virtualOpen),r+=m,r+=P.pairClose,i.push(P)});let a=i[0].pairOpen,h=i[i.length-1].pairClose,c=this.makeSlug(10),f=this.open(c),x=this.close(c),d={switchNode:t,pairOpen:a,pairClose:h,structures:i,virtualSwitchClose:x,virtualSwitchOpen:f},k=`
`+f+`
`+r+`
`+x;return this.registerSwitchStatement(d),k}if(this.dynamicElementSwitch.has(t.nodeContent))return this.dynamicElementSwitch.get(t.nodeContent)+" ";let e=this.makeSlug(t.nodeContent.length);return this.registerDynamicElementSwitch(e,t),e+" "}registerDynamicElementSwitch(t,e){this.parentTransformer!=null?(this.dynamicElementSwitch.set(e.nodeContent,t),this.parentTransformer.registerDynamicElementSwitch(t,e)):(this.dynamicElementSwitch.set(e.nodeContent,t),this.dynamicElementSwitchNodes.set(t,e))}registerDynamicElementCondition(t,e){this.parentTransformer!=null?(this.dynamicElementConditions.set(e.nodeContent,t),this.parentTransformer.registerDynamicElementCondition(t,e)):(this.dynamicElementConditions.set(e.nodeContent,t),this.dynamicElementConditionNodes.set(t,e))}registerDynamicElementForElse(t,e){this.parentTransformer!=null?(this.dynamicElementForElse.set(e.nodeContent,t),this.parentTransformer.registerDynamicElementForElse(t,e)):(this.dynamicElementForElse.set(e.nodeContent,t),this.dynamicElementForElseNodes.set(t,e))}containsComponents(t){for(let e=0;e<t.length;e++)if(t[e]instanceof si)return!0;return!1}containsBladeStructures(t){for(let e=0;e<t.length;e++){let i=t[e];if(!(i instanceof Jt)){if(i instanceof _t&&(i.isClosingDirective||i.isClosingDirective||i.name=="elseif"||i.name=="else"))continue;return!0}}return!1}isAllInlineNodes(t){let e=0;for(let i=0;i<t.length;i++){let r=t[i];if(!(r instanceof Jt))if(r instanceof we){if(!r.isInlineEcho)return!1;e+=1}else if(r instanceof _t){if(r.isClosingDirective||r.name=="elseif"||r.name=="else")continue;return!1}else return!1}return e!=0}prepareConditions(t){var i,r,a,h,c,f;if(t.fragmentPosition==3){if(t.chain.length==1&&t.constructedFrom!=null){let p=t.constructedFrom.clone();return p.childrenDocument=t.logicBranches[0].childDocument,this.preparePairedDirective(p)}let x=[],d="";t.logicBranches.forEach((p,m)=>{var j,B,J,et,Q,rt,yt,Rt,Nt,Ct,Et,vt,dt,ct;let v=p.head,C=(j=p.childDocument)==null?void 0:j.document.transform().setParentTransformer(this).toStructure(),P=this.makeSlug(v.sourceContent.length),F=this.makeSlug(10),L={branch:p,slug:P,doc:C,pairOpen:this.open(P),pairClose:this.close(P),virtualOpen:this.open(F),virtualClose:this.close(F),isFirst:m==0,isLast:m==t.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:"",isLiteralContent:!1};if(((B=p.head)==null?void 0:B.directiveName)=="else"){d+=`
`+L.pairOpen;let ee=this.makeSlug(25),It=this.containsBladeStructures((J=p.head.children)!=null?J:[]);ns?(L.virtualBreakOpen=this.selfClosing(ee),d+=L.virtualBreakOpen+`
`,d+=C,d+=`
`+L.pairClose):p.head.containsChildStructures==!1&&p.head.containsAnyFragments==!1&&(((et=p.head)==null?void 0:et.children.length)<=2||((Q=p.head)==null?void 0:Q.children.length)>4)&&!this.isAllInlineNodes(p.head.children)&&!It?(L.virtualBreakOpen=this.open(ee),L.virtualBreakClose=this.close(ee),d+=`
`+L.virtualBreakOpen+`
`,d+=C,d+=`
`+L.virtualBreakClose+`
`+L.pairClose):(L.virtualBreakOpen=this.selfClosing(ee),d+=L.virtualBreakOpen+`
`,d+=C,d+=`
`+L.pairClose)}else{let ee=this.isAllInlineNodes((yt=(rt=p.head)==null?void 0:rt.children)!=null?yt:[]),It=this.containsBladeStructures((Nt=(Rt=p.head)==null?void 0:Rt.children)!=null?Nt:[]);if(ns){d+=`
`+L.pairOpen;let Qt=this.makeSlug(25);L.virtualBreakOpen=this.selfClosing(Qt),d+=L.virtualBreakOpen+`
`,d+=C,d+=`
`+L.pairClose}else if(((Ct=p.head)==null?void 0:Ct.containsAnyFragments)==!1&&((Et=p.head)==null?void 0:Et.containsChildStructures)==!1&&(((vt=p.head)==null?void 0:vt.children.length)<=2||((dt=p.head)==null?void 0:dt.children.length)>4)&&!ee&&!It){let Qt=this.makeSlug(25);L.virtualBreakOpen=this.open(Qt),L.virtualBreakClose=this.close(Qt),((ct=p.head)==null?void 0:ct.children.length)<=2&&p.head.children[0]instanceof Jt?(d+=L.pairOpen,d+=`
`+L.virtualBreakOpen,d+=`
`+L.virtualBreakClose,d+=L.pairClose,L.isLiteralContent=!0):(d+=L.pairOpen,d+=`
`+L.virtualBreakOpen,d+=C,d+=`
`+L.virtualBreakClose,d+=L.pairClose)}else if(ee){d+=`
`+L.pairOpen;let Qt=this.makeSlug(25);L.virtualBreakOpen=this.selfClosing(Qt),d+=L.virtualBreakOpen+`
`,d+=C,d+=`
`+L.pairClose}else d+=L.pairOpen,d+=`
`,d+=C,d+=`
`,d+=L.pairClose}x.push(L)});let k=x[0].pairOpen,_=x[x.length-1].pairClose,l={pairOpen:k,pairClose:_,structures:x,condition:t};return this.registerCondition(l),d}if(this.dynamicElementConditions.has(t.nodeContent))return this.dynamicElementConditions.get(t.nodeContent)+" ";let e=this.makeSlug(t.nodeContent.length);if(((i=t.startPosition)==null?void 0:i.line)!=((r=t.endPosition)==null?void 0:r.line)&&(e=this.makeSlug(128)),this.registerDynamicElementCondition(e,t),t.fragmentPosition==1||t.fragmentPosition==2){if(t.logicBranches.length>0){let x=t.logicBranches[t.logicBranches.length-1];if(x.head!=null&&x.head.isClosedBy!=null&&x.head.isClosedBy.nextNode!=null){let d=((h=(a=x.head.isClosedBy.nextNode.startPosition)==null?void 0:a.offset)!=null?h:0)-((f=(c=x.head.isClosedBy.endPosition)==null?void 0:c.offset)!=null?f:0);if(x.head.isClosedBy.nextNode instanceof Jt){let k=x.head.isClosedBy.nextNode;if(k.content.length-k.content.trimLeft().length>0)return e;if(k.content.length==0)return e;{let _=k.content[0];return H.ctypePunct(_)||H.ctypeSpace(_)?e:e+" "}}else return d>0?e+" ":e}}return e}return e+" "}toStructure(){let t="";is&&this.parentTransformer==null&&Se.rootTransformer==null&&(Se.rootTransformer=this),is&&this.useLaravelPint&&this.parentTransformer==null&&(this.pintTransformer=new Qr(this.transformOptions.pintTempDirectory,this.transformOptions.pintCacheDirectory,this.transformOptions.pintCommand,this.transformOptions.pintConfigPath),Se.sharedPintTransformer=this.pintTransformer,this.pintTransformer.setTemplateFilePath(this.filePath),this.shadowDoc!=null?this.pintTransformer.format(this.shadowDoc):this.pintTransformer.format(this.doc),this.didPintFail=this.pintTransformer.getDidFail()),this.doc.getRenderNodes().forEach(r=>{if(this.isInsideIgnoreFormatter){if(this.pushLiteralBlock(this.activeLiteralSlug,r),r instanceof Hi&&r.innerContent.trim().toLowerCase()==Wn.FormatIgnoreEnd){this.isInsideIgnoreFormatter=!1;return}return}r instanceof Jt?t+=r.content:r instanceof Vi?r.cases.length>0?t+=this.prepareSwitch(r):t+=this.preparePairedDirective(r.constructedFrom):r instanceof Ci?t+=this.prepareConditions(r):r instanceof _t?t+=this.prepareDirective(r):r instanceof we?t+=this.prepareEcho(r):r instanceof Wi?t+=this.prepareForElse(r):r instanceof Hi?r.innerContent.trim()==Wn.FormatIgnoreStart?(this.isInsideIgnoreFormatter=!0,this.activeLiteralSlug=this.makeSlug(16),this.pushStartLiteralBlock(this.activeLiteralSlug,r),t+=this.selfClosing(this.activeLiteralSlug)):t+=this.prepareComment(r):r instanceof si?t+=this.prepareComponent(r):r instanceof hi&&(t+=this.preparePhpBlock(r))});let i=this.doc.getParser().getFragmentsContainingStructures();if(i.length>0){let r=fe.fromText(t);i.forEach(a=>{var l,p,m,v,C,P,F,L;let h=this.doc.getParser().getText(((p=(l=a.start.endPosition)==null?void 0:l.offset)!=null?p:0)+1,(v=(m=a.end.startPosition)==null?void 0:m.offset)!=null?v:0),c=r.getParser().getFragmentsParser().getEmbeddedFragment(a.start.embeddedIndex),f=r.getParser().getFragmentsParser().getClosingFragmentAfter(c),x=r.getParser().getText(((P=(C=c.endPosition)==null?void 0:C.offset)!=null?P:0)+1,(L=(F=f==null?void 0:f.startPosition)==null?void 0:F.offset)!=null?L:0),d=this.makeSlug(16),k=a.start.name.toLowerCase()=="script",_=d;k?_="//"+d:_="/*"+d+"*/",t=t.replace(x,_),this.registerEmbeddedDocument(d,h,k)})}return t}withOptions(t){return this.transformOptions=t,this.useLaravelPint=this.transformOptions.useLaravelPint,this}transformInlineDirectives(t){let e=t;return this.inlineDirectiveBlocks.forEach((i,r)=>{let a=this.selfClosing(r),h=this.printDirective(i,this.indentLevel(a));e=H.safeReplace(e,a,h)}),e}transformHtmlSwitchStatements(t){let e=t;return this.htmlTagSwitchStatements.forEach((i,r)=>{let a=i.nodeContent,h=a;if(jr){Vn(!0);try{Yr(),this.transformOptions.useLaravelPint?h=Xr(a,this.formattingOptions,this.transformOptions).trim():h=xr(a,this.formattingOptions).trim()}catch(x){throw As(),Vn(!1),x}}As(),Vn(!1);let c=pe.relativeIndentLevel(r,e),f=!1;c==0&&(f=!0,c=this.transformOptions.tabSize),a=pe.shiftHtmlAttributeContent(h,c,this.transformOptions.tabSize)+`
`,f&&(a=`
`+a),e=H.safeReplace(e,r,a)}),e}transformHtmlTagDirectives(t){let e=t;return this.htmlTagDirectives.forEach((i,r)=>{var c;let a=`${i.sourceContent}
    ${i.documentContent}
${(c=i.isClosedBy)==null?void 0:c.sourceContent}
`;if(this.transformOptions.formatJsAttributes&&jr){Vn(!0);try{Yr(),this.transformOptions.useLaravelPint?a=Xr(a,this.formattingOptions,this.transformOptions).trim():a=xr(a,this.formattingOptions).trim()}catch(f){throw As(),Vn(!1),f}}As(),Vn(!1);let h=pe.relativeIndentLevel(r,e);a=this.adjustAttributeFormattingResults(a),a=pe.shiftIndent(a,h,!0,this.transformOptions,!1,!1),e=H.safeReplace(e,r,a)}),e}transformContentDirectives(t){let e=t;return this.contentDirectives.forEach((i,r)=>{let a=this.printDirective(i,0);if(a.includes(`
`)){let h=this.indentLevel(r);h>0&&(a=pe.shiftIndent(a,h,!0,this.transformOptions))}e=H.safeReplace(e,r,a)}),e}transformDynamicEcho(t){let e=t;return this.dynamicEchoBlocks.forEach((i,r)=>{var h;let a=as.printEcho(i,this.transformOptions,this.phpFormatter,this.indentLevel(r),(h=this.pintTransformer)!=null?h:Se.sharedPintTransformer);e=H.safeReplaceAllInString(e,r,a)}),e}transformDynamicDirectives(t){let e=t;return this.dynamicElementDirectiveNodes.forEach((i,r)=>{let a=this.printDirective(i,this.indentLevel(r));e=H.safeReplaceAllInString(e,r,a)}),e}transformBlockPhp(t,e){if(this.blockPhpFormatter==null)return t;let i=t.trim();i.startsWith("<?php")==!1&&(i="<?php "+i);let r=_r();return i=this.blockPhpFormatter(i,this.transformOptions,{...r,printWidth:yr(t,r.printWidth)}),e&&(i=`
`+i+`
`),Ve.couldReflow(i)&&(i=Ve.instance.reflow(i)),li.couldReflow(i)&&(i=li.instance.reflow(i)),i}removeLeadingWhitespace(t,e){let i=t.indexOf(e);if(i===-1)return t;let r=t.slice(0,i),a=t.slice(i+e.length);return r.replace(/[\s\uFEFF\xA0]+$/g,"")+e+a}findNewLeadingStart(t,e){let i=H.breakByNewLine(t);for(let r=0;r<i.length;r++){let a=i[r];if(a.includes(e))return a.length-a.trim().length}return-1}transformPairedDirectives(t){let e=t;return this.attachedDirectives.forEach((i,r)=>{var d;e=this.removeLeadingWhitespace(e,r);let a=i.directive.documentContent;Yr(),this.transformOptions.useLaravelPint?a=Xr(a,this.formattingOptions,this.transformOptions).trim():a=xr(a,this.formattingOptions).trim(),As();let h=this.printDirective(i.directive,this.indentLevel(r)).trim(),c=this.findNewLeadingStart(e,r),f=h+a+`
`+((d=i.directive.isClosedBy)==null?void 0:d.sourceContent),x=pe.shiftIndent(f,c+this.transformOptions.tabSize,!0,this.transformOptions,!1,!0);e=H.safeReplace(e,r,x)}),this.pairedDirectives.forEach((i,r)=>{var x,d,k;let a=i.directive;if(i.virtualElementSlug.length>0){let _=this.open(i.virtualElementSlug),l=this.close(i.virtualElementSlug);this.virtualStructureOpens.push(_),this.removeLines.push(_),this.removeLines.push(l)}let h=this.open(r),c=this.close(r),f=!0;if(a.directiveName.trim().toLowerCase()=="php"){let _=this.open(i.virtualElementSlug),l=this.indentLevel(_),p=i.directive.sourceContent,m=a.documentContent;if(this.transformOptions.formatDirectivePhpParameters)if(!this.useLaravelPint)m=pe.shiftIndent(this.transformBlockPhp(a.innerContent,!0),l,!0,this.transformOptions),e=H.safeReplace(e,h,p),e=H.safeReplace(e,_,m);else if(this.pintTransformer!=null||Se.sharedPintTransformer!=null){this.pintTransformer!=null?m=this.pintTransformer.getDirectivePhpContent(a).trim():Se.sharedPintTransformer!=null&&(m=Se.sharedPintTransformer.getDirectivePhpContent(a).trim());let v=H.breakByNewLine(m),C=[];for(let P=0;P<v.length;P++){if(v[P].trim().length==0){C.push("");continue}C.push(" ".repeat(l)+v[P])}m=C.join(`
`),e=H.safeReplace(e,h,p+`
`+m),e=H.safeReplace(e,_,"")}else e=H.safeReplace(e,h,p),e=H.safeReplace(e,_,m);else e=H.safeReplace(e,h,p+`
`+m),e=H.safeReplace(e,_,"")}else if(a.directiveName.trim().toLowerCase()=="verbatim")if(a.isClosedBy!=null&&((x=a.startPosition)==null?void 0:x.line)==((d=a.isClosedBy.startPosition)==null?void 0:d.line))e=H.safeReplace(e,h,i.directive.nodeContent),f=!1;else{let _=i.directive.sourceContent+`
`+pe.shiftClean(a.innerContent,this.transformOptions.tabSize);e=H.safeReplace(e,h,_)}else e=H.safeReplace(e,h,this.printDirective(i.directive,this.indentLevel(h)));f?e=H.safeReplace(e,c,(k=i.directive.isClosedBy)==null?void 0:k.sourceContent):e=H.safeReplace(e,c,"")}),this.inlineDirectives.forEach((i,r)=>{e=H.safeReplaceAllInString(e,r,i.directive.nodeContent)}),e}transformInlineLiterals(t){let e=t;return this.inlineLiterals.forEach((i,r)=>{let a=this.selfClosing(r);e=H.safeReplace(e,a,i.content)}),e}transformForElseWithNoEmpty(t){let e=t;return this.forElseNoEmpty.forEach(i=>{var x;let r=i.forElse.constructedFrom,a=this.open(i.truthSlug),h=this.close(i.truthSlug),c=this.printDirective(r,this.indentLevel(a)),f=(x=r.isClosedBy)==null?void 0:x.sourceContent;e=H.safeReplace(e,a,c),e=H.safeReplace(e,h,f)}),e}transformForElseWithEmpty(t){let e=t;return this.forElseWithEmpty.forEach(i=>{var c,f;let r=this.open(i.truthSlug),a=i.forElse.constructedFrom,h=this.printDirective(a,this.indentLevel(r));e=H.safeReplace(e,r,h),e=H.safeReplace(e,i.pairClose,(c=a.isClosedBy)==null?void 0:c.sourceContent),e=H.safeReplace(e,i.emptyOpen,(f=i.forElse.elseNode)==null?void 0:f.sourceContent),this.removeLines.push(i.truthClose)}),e}transformInlineEcho(t){let e=t;return this.inlineEchos.forEach((i,r)=>{var h;let a=this.selfClosing(r);e=H.safeReplace(e,a,as.printEcho(i,this.transformOptions,this.phpFormatter,this.indentLevel(r),(h=this.pintTransformer)!=null?h:Se.sharedPintTransformer))}),this.spanEchos.forEach((i,r)=>{var a;e=H.safeReplace(e,r,as.printEcho(i,this.transformOptions,this.phpFormatter,this.indentLevel(r),(a=this.pintTransformer)!=null?a:Se.sharedPintTransformer))}),e}pushStartLiteralBlock(t,e){var i;this.parentTransformer!=null?this.parentTransformer.pushStartLiteralBlock(t,e):(this.ignoredLiteralBlocks.set(t,[]),(i=this.ignoredLiteralBlocks.get(t))==null||i.push(e))}pushLiteralBlock(t,e){var i;this.parentTransformer!=null?this.parentTransformer.pushLiteralBlock(t,e):(i=this.ignoredLiteralBlocks.get(t))==null||i.push(e)}transformConditions(t){let e=t;return this.conditions.forEach(i=>{i.structures.forEach(r=>{let a=r.branch.head;if(r.isLiteralContent&&(e=H.safeReplace(e,r.virtualBreakOpen,r.doc.trim())),r.virtualBreakOpen.length>0&&this.removeLines.push(r.virtualBreakOpen),r.virtualBreakClose.length>0&&(e=H.safeReplace(e,r.virtualBreakClose,r.virtualBreakClose+`
`),this.removeLines.push(r.virtualBreakClose)),this.virtualStructureOpens.push(r.virtualOpen),this.removeLines.push(r.virtualOpen),this.removeLines.push(r.virtualClose),!r.isLast)this.removeLines.push(r.pairClose),e=H.safeReplace(e,r.pairOpen,this.printDirective(a,this.indentLevel(r.pairOpen)));else{e=H.safeReplace(e,r.pairOpen,this.printDirective(a,this.indentLevel(r.pairOpen)));let h=a.isClosedBy;e=H.safeReplace(e,r.pairClose,this.printDirective(h,this.indentLevel(r.pairClose)))}})}),e}transformSwitchStatements(t){let e=t;return this.switchStatements.forEach(i=>{let r=i.switchNode.constructedFrom;e=H.safeReplace(e,i.virtualSwitchOpen,this.printDirective(r,this.indentLevel(i.virtualSwitchOpen)));let a=r.isClosedBy;e=H.safeReplace(e,i.virtualSwitchClose,a.sourceContent),i.structures.forEach(h=>{let c=h.case.head;this.removeLines.push(h.virtualClose),this.removeLines.push(h.virtualOpen),h.isLast?(e=H.safeReplace(e,h.pairOpen,this.printDirective(c,this.indentLevel(h.pairOpen))),this.removeLines.push(h.pairClose)):h.isFirst?(this.removeLines.push(h.pairClose),e=H.safeReplace(e,h.pairOpen,this.printDirective(c,this.indentLevel(h.pairOpen)))):(this.removeLines.push(h.pairClose),e=H.safeReplace(e,h.pairOpen,this.printDirective(c,this.indentLevel(h.pairOpen))))})}),e}transformProps(t){let e=t;return this.propDirectives.forEach((i,r)=>{let a=this.close(r),h=this.open(r);this.removeLines.push(a);let c=i.sourceContent;try{if(this.transformOptions.formatDirectivePhpParameters){if(this.useLaravelPint)c=this.printDirective(i,this.indentLevel(h));else if(this.phpFormatter!=null&&i.hasValidPhp()){let f=i.getPhpContent().trim();f.startsWith("(")&&f.endsWith(")")&&(f=f.substring(1),f=f.substring(0,f.length-1));let x=this.phpFormatter("<?php "+f,this.transformOptions,null),d=new vr,k=d.parse(H.safeReplaceAllInString(x,`
`," ")),_=this.indentLevel(h);d.getIsAssoc()?c="@props"+" ".repeat(this.transformOptions.spacesAfterDirective)+"("+x+")":k!=null&&(x=os.print(k,this.transformOptions.tabSize,1),_>0&&(x=H.removeEmptyNewLines(pe.shiftIndent(x,_,!0,this.transformOptions))),c="@props"+" ".repeat(this.transformOptions.spacesAfterDirective)+"("+x+")")}}}catch{c=i.sourceContent}e=H.safeReplace(e,h,c)}),e}transformBreaks(t){let e=t;return this.breakDirectives.forEach((i,r)=>{let a=this.close(r),h=this.open(r);this.removeLines.push(a),e=H.safeReplace(e,h,i.sourceContent)}),e}transformComments(t){let e=t;return this.inlineComments.forEach((i,r)=>{let a=this.selfClosing(r);e=H.safeReplace(e,a,zs.printComment(i,this.transformOptions.tabSize,0))}),this.htmlTagComments.forEach((i,r)=>{e=H.safeReplace(e,r,zs.printComment(i,this.transformOptions.tabSize,0))}),e}indentLevel(t){for(let e=0;e<this.structureLines.length;e++){let i=this.structureLines[e];if(i.includes(t)){let r=i.trimLeft();return i.length-r.length}}return 0}transformVirtualComments(t){let e=t;return this.blockComments.forEach(i=>{let r=i.node;e=H.safeReplace(e,i.pairOpen,zs.printComment(r,this.transformOptions.tabSize,this.indentLevel(i.pairOpen))),this.removeLines.push(i.pairClose),this.removeLines.push(i.virtualElement)}),e}adjustAttributeFormattingResults(t){let e=H.breakByNewLine(t),i=[];for(let r=0;r<e.length;r++){let a=e[r];if(a.trimRight().endsWith(":")&&r+1<e.length-1){i.push(a.trimRight()+" "+e[r+1].trimLeft()),r+=1;continue}else i.push(a)}return i.join(`
`)}transformDynamicElementForElse(t){let e=t;return this.dynamicElementForElseNodes.forEach((i,r)=>{e=H.safeReplaceAllInString(e,r,i.nodeContent)}),e}removeTrailingWhitespaceAfterSubstring(t,e){let i=H.breakByNewLine(t),r=[];for(let a=0;a<i.length;a++){let h=i[a];h.trimRight().endsWith(e)?r.push(h.trimRight()):r.push(h)}return r.join(`
`)}transformDynamicElementConditions(t){let e=t;return this.dynamicElementConditionNodes.forEach((i,r)=>{var a,h;if(((a=i.startPosition)==null?void 0:a.line)!=((h=i.endPosition)==null?void 0:h.line)){let c=i.nodeContent;if(this.transformOptions.formatJsAttributes&&jr){Yr(),Vn(!0);try{this.transformOptions.useLaravelPint?c=Xr(c,this.formattingOptions,this.transformOptions).trim():c=xr(c,this.formattingOptions).trim()}catch(x){throw As(),Vn(!1),x}As(),Vn(!1)}let f=pe.relativeIndentLevel(r,e);c=this.adjustAttributeFormattingResults(c),c=pe.shiftIndent(c,f,!0,this.transformOptions,!1,!1),e=H.safeReplaceAllInString(e,r,c)}else e=this.removeTrailingWhitespaceAfterSubstring(e,r),e=H.safeReplaceAllInString(e,r,i.nodeContent)}),e}transformDynamicElementSwitch(t){let e=t;return this.dynamicElementSwitchNodes.forEach((i,r)=>{e=H.safeReplaceAllInString(e,r,i.nodeContent)}),e}transformDirectiveParameters(t){let e=t;return this.directiveParameters.forEach((i,r)=>{let a=i.directive;e=H.safeReplace(e,r,this.printDirective(a,this.indentLevel(r)))}),e}transformExpressionParameters(t){let e=t;return this.expressionParameters.forEach((i,r)=>{let a=i.content,h=!1;if(this.transformOptions.useLaravelPint&&(this.pintTransformer!=null||Se.sharedPintTransformer!=null)&&(this.pintTransformer!=null?(a=this.pintTransformer.getComponentParameterContent(i),h=!0):Se.sharedPintTransformer!=null&&(a=Se.sharedPintTransformer.getComponentParameterContent(i))),a.includes(`
`)){let c=this.indentLevel(r);h?a=pe.shiftIndent(pe.removeLeadingWhitespace(a,this.transformOptions.tabSize),c+this.transformOptions.tabSize,!0,this.transformOptions,!1,!0):a=pe.shiftParameterContent(a,c,this.transformOptions.tabSize)}e=H.safeReplace(e,r,a)}),e}transformEchoParameters(t){let e=t;return this.commentParameters.forEach((i,r)=>{i.inlineComment!=null?e=H.safeReplace(e,r,zs.printComment(i.inlineComment,this.transformOptions.tabSize,0)):e=H.safeReplace(e,r,"")}),this.echoParameters.forEach((i,r)=>{var a;if(i.inlineEcho!=null){let h=i.inlineEcho.content.trim();if(h.startsWith("{{--")&&h.endsWith("--}}")){let c=h.substring(2,h.length-2);e=H.safeReplace(e,r,"{{"+c.trim()+"}}");return}else if(h.startsWith("{--")&&h.endsWith("--}")){let c=h.substring(3,h.length-3);e=H.safeReplace(e,r,"{{-- "+c.trim()+" --}}");return}else if(h.startsWith("--")&&h.endsWith("--")){let c=h.substring(2,h.length-2);e=H.safeReplace(e,r,"{{-- "+c.trim()+" --}}");return}e=H.safeReplace(e,r,as.printEcho(i.inlineEcho,this.transformOptions,this.phpFormatter,0,(a=this.pintTransformer)!=null?a:Se.sharedPintTransformer))}else e=H.safeReplace(e,r,"")}),e}transformEmbeddedEcho(t){let e=t;return this.embeddedEchos.forEach((i,r)=>{var h;let a=this.indentLevel(r);a==0&&(a=this.transformOptions.tabSize),e=H.safeReplace(e,r,as.printEcho(i,this.transformOptions,this.phpFormatter,a,(h=this.pintTransformer)!=null?h:Se.sharedPintTransformer))}),this.dynamicAttributeEchoBlocks.forEach((i,r)=>{var c;let a=this.indentLevel(r),h=`${r}="${r}"`;a==0&&(a=this.transformOptions.tabSize),e=H.safeReplace(e,h,as.printEcho(i,this.transformOptions,this.phpFormatter,a,(c=this.pintTransformer)!=null?c:Se.sharedPintTransformer))}),e}transformEmbeddedDirectives(t){let e=t;return this.embeddedDirectives.forEach((i,r)=>{let a=this.indentLevel(r);a==0&&i.sourceContent.includes(`
`)&&(a=pe.relativeIndentLevel(r,e)+2*this.transformOptions.tabSize),e=H.safeReplace(e,r,this.printDirective(i,a))}),e}transformExtractedDocuments(t){let e=t;return this.extractedEmbeddedDocuments.forEach((i,r)=>{let a="",h=0;i.isScript?a="//"+r:a="/*"+r+"*/",h=this.indentLevel(a),h==this.transformOptions.tabSize&&(h=0),e.includes(a)&&(e=H.safeReplace(e,a,pe.indentRelative(i.content,h,this.transformOptions.tabSize)))}),e}removeVirtualStructures(t){let e=t;return this.removeLines.forEach(i=>{e=H.safeReplace(e,i,"")}),e}shouldCleanAfter(t){for(let e=0;e<this.removeLines.length;e++)if(t.startsWith(this.removeLines[e]))return!0;return!1}shouldCleanLine(t){for(let e=0;e<this.forceCleanLines.length;e++)if(t.startsWith(this.forceCleanLines[e]))return!0;return!1}cleanVirtualStructures(t){let e=[],i=H.breakByNewLine(t),r=!1;for(let a=0;a<i.length;a++){let h=i[a].trim();if(r){if(h.length==0)continue;r=!1}else r=this.shouldCleanAfter(h);if(this.shouldCleanLine(h))for(let c=e.length-1;c>0&&e[c].trim().length==0;c--)e.pop();if(!this.removeLines.includes(h)){let c=i[a];this.removeLines.forEach(f=>{c.includes(f)&&(c=H.safeReplace(c,f,""))}),e.push(c)}}return e.join(`
`)}reflowSlugs(t){let e=t,i=H.breakByNewLine(e),r=[];for(let a=0;a<i.length;a++){let h=i[a].trimRight(),c=!1;for(let f=0;f<this.slugs.length;f++){let x=this.slugs[f];if(h.endsWith("<"+x)&&a+1<i.length){let d=i[a+1];if(d.trimLeft().startsWith("/>")){let k=d.indexOf("/>"),_=d.substring(k+2);r.push(h.trimRight()+" />");let l=h.indexOf("<"+x);r.push(" ".repeat(l)+_.trimLeft()),a+=1,c=!0;break}}}c||r.push(h)}return e=r.join(`
`),this.slugs.forEach(a=>{let h=this.open(a),c=this.close(a),f=this.selfClosing(a),x="/<"+a+"(.*?)>/gms",d="/</"+a+"(.*?)>/gms",k="/<"+a+"(.*?)/>/gms";e=e.replace(x,h),e=e.replace(d,c),e=e.replace(k,f)}),e}transformRemovedAttibutes(t){let e=t;return this.removedAttributes.forEach((i,r)=>{let a=Mp(i,this.transformOptions,r,e,this,this.doc);e=H.safeReplace(e,'"'+r+'"',a)}),e}fromStructure(t){if(this.didPintFail)return this.shadowDoc!=null?this.shadowDoc.getContent():this.doc.getContent();let e=this.reflowSlugs(t);this.structureLines=H.breakByNewLine(e);let i=this.transformDynamicElementConditions(e);return i=this.transformDynamicEcho(i),i=this.transformDynamicElementForElse(i),i=this.transformDynamicElementSwitch(i),i=this.transformDynamicDirectives(i),i=this.transformHtmlTagDirectives(i),i=this.transformHtmlSwitchStatements(i),i=this.transformRemovedAttibutes(i),this.parentTransformer==null&&rs.voidTagMapping.size>0&&rs.voidTagMapping.forEach((r,a)=>{i=H.safeReplaceAllInString(i,a,r)}),this.transformStructures(i)}containsRemovedAttributes(t){if(this.removedAttributes.size==0)return!1;let e=Array.from(this.removedAttributes.keys());for(let i=0;i<e.length;i++){let r=e[i];if(t.includes(r))return!0}return!1}transformStructures(t){let e=t;return e=this.transformInlineDirectives(e),e=this.transformContentDirectives(e),e=this.transformDynamicEcho(e),e=this.transformPairedDirectives(e),e=this.transformForElseWithEmpty(e),e=this.transformForElseWithNoEmpty(e),e=this.transformInlineLiterals(e),e=this.transformDynamicElementForElse(e),e=this.transformInlineEcho(e),e=this.transformConditions(e),e=this.transformDynamicElementConditions(e),e=this.transformSwitchStatements(e),e=this.transformDynamicElementSwitch(e),e=this.transformBreaks(e),e=this.transformProps(e),e=this.transformComments(e),e=this.transformVirtualComments(e),e=this.transformDirectiveParameters(e),e=this.transformExpressionParameters(e),e=this.transformEchoParameters(e),e=this.transformDynamicDirectives(e),e=this.cleanVirtualStructures(e),e=this.removeVirtualStructures(e),e=this.transformEmbeddedEcho(e),e=this.transformEmbeddedDirectives(e),e=this.transformExtractedDocuments(e),e=this.transformPhpBlock(e),e=this.transformComponentSlots(e),this.ignoredLiteralBlocks.size>0&&(this.ignoredLiteralBlocks.forEach((i,r)=>{var x,d,k,_,l;let a=this.selfClosing(r),h=i[0],c=i[i.length-1];if(h.getParser()){let p=(l=h.getParser())==null?void 0:l.getText((d=(x=h.startPosition)==null?void 0:x.index)!=null?d:0,(_=(k=c.endPosition)==null?void 0:k.index)!=null?_:0);var f="asdf"}e=H.safeReplace(e,a,this.dumpPreservedNodes(i))}),this.removedAttributes.size>0&&this.removedAttributes.forEach((i,r)=>{let a=i.content.substring(1,i.content.length-1);e=H.safeReplace(e,r,a)})),this.parentTransformer===null&&is&&(Se.sharedPintTransformer=null,Se.rootTransformer=null,Se.inlineComments=[]),e}dumpPreservedNodes(t){let e="";return t.forEach(i=>{i instanceof Jt?e+=i.content:i instanceof Vi||i instanceof Ci?e+=i.nodeContent:i instanceof _t?i.isClosedBy!=null?e+=i.nodeContent:e+=i.sourceContent:i instanceof we?e+=i.sourceContent:i instanceof Wi?e+=i.nodeContent:(i instanceof Hi||i instanceof si||i instanceof hi)&&(e+=i.sourceContent)}),e}},ss=Se;ss.sharedPintTransformer=null,ss.rootTransformer=null,ss.inlineComments=[]});var fe,on=Dt(()=>{"use strict";mn();np();sp();rp();Kh();fe=class{constructor(){this.documentParser=new nt;this.transformer=null;this.cursor=new ca(this);this.nodes=new pa(this);this.errors=new fa(this)}static fromText(t,e=null){let i=new fe;return e!=null&&i.getParser().setSeedPosition(e),i.loadString(t)}static childFromText(t,e,i=null){let r=new fe;return i!=null&&r.getParser().setSeedPosition(i),r.getParser().withPhpValidator(e.getPhpValidator()),r.loadString(t),{renderNodes:r.getRenderNodes(),content:t,document:r}}isValid(){return!this.documentParser.hasUnclosedStructures()}transform(){return this.transformer==null&&(this.transformer=new ss(this)),this.transformer}loadString(t){return this.documentParser.parse(t),this}getLinesAround(t){return this.documentParser.getLinesAround(t)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getAllNodes(){return this.documentParser.getNodes()}getRenderNodes(){return this.documentParser.getRenderNodes()}getFragments(){return this.documentParser.getFragments()}getParser(){return this.documentParser}getText(t,e){return this.documentParser.getText(t,e)}charLeftAt(t){return this.documentParser.charLeftAt(t)}charAt(t){return this.documentParser.charAt(t)}charRightAt(t){return this.documentParser.charRightAt(t)}getLineIndex(t){return this.documentParser.getLineIndex(t)}getLineText(t){return this.documentParser.getLineText(t)}wordAt(t,e=4){return this.documentParser.wordAt(t,e)}wordLeftAt(t,e=4){return this.documentParser.wordLeftAt(t,e)}wordRightAt(t,e=4){return this.documentParser.wordRightAt(t,e)}punctuationLeftAt(t,e=4){return this.documentParser.punctuationLeftAt(t,e)}punctuationRightAt(t,e=4){return this.documentParser.punctuationRightAt(t,e)}getLineChars(t){let e=this.getLineText(t);return e!=null?e.split(""):null}}});var Xp=Y((Pw,Yp)=>{"use strict";Yp.exports={attributeIndex:0,attributeListDepth:{},matchST_ATTRIBUTE:function(){let n=this.input();if(this.is_WHITESPACE()){do n=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(n){case"]":return this.attributeListDepth[this.attributeIndex]===0?(delete this.attributeListDepth[this.attributeIndex],this.attributeIndex--,this.popState()):this.attributeListDepth[this.attributeIndex]--,"]";case"(":case")":case":":case"=":case"|":case"&":case"^":case"-":case"+":case"*":case"%":case"~":case"<":case">":case"!":case".":return this.consume_TOKEN();case"[":return this.attributeListDepth[this.attributeIndex]++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN()}if(this.is_LABEL_START()||n==="\\"){for(;this.offset<this.size;){let t=this.input();if(!(this.is_LABEL()||t==="\\")){t&&this.unput(1);break}}return this.T_STRING()}else if(this.is_NUM())return this.consume_NUM();throw new Error(`Bad terminal sequence "${n}" at line ${this.yylineno} (offset ${this.offset})`)}}});var Qp=Y((Ow,Kp)=>{"use strict";Kp.exports={T_COMMENT:function(){for(;this.offset<this.size;){let n=this.input();if(n===`
`||n==="\r")return this.tok.T_COMMENT;if(n==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(n==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){let n=this.input(),t=this.tok.T_COMMENT;if(n==="*"){if(n=this.input(),this.is_WHITESPACE()&&(t=this.tok.T_DOC_COMMENT),n==="/")return t;this.unput(1)}for(;this.offset<this.size;)if(n=this.input(),n==="*"&&this._input[this.offset]==="/"){this.input();break}return t}}});var Zp=Y((ww,$p)=>{"use strict";$p.exports={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){let n=this.input();if(n=="<"){if(n=this.ahead(1),n=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}else if(this.tryMatchCaseless("?php")&&(n=this._input[this.offset+4],n===" "||n==="	"||n===`
`||n==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&n=="%")if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}else{this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0?this.tok.T_INLINE_HTML:!1}}});var id=Y((Lw,ed)=>{"use strict";var Na=10,td="2147483648";process.arch=="x64"&&(Na=19,td="9223372036854775808");ed.exports={consume_NUM:function(){let n=this.yytext[0],t=n===".";if(n==="0")if(n=this.input(),n==="x"||n==="X"){if(n=this.input(),n!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(n?2:1)}else if(n==="b"||n==="B"){if(n=this.input(),n!=="_"&&n==="0"||n==="1")return this.consume_BNUM();this.unput(n?2:1)}else if(n==="o"||n==="O"){if(n=this.input(),n!=="_"&&this.is_OCTAL())return this.consume_ONUM();this.unput(n?2:1)}else this.is_NUM()||n&&this.unput(1);for(;this.offset<this.size;){let e=n;if(n=this.input(),n==="_"){if(e==="_"){this.unput(2);break}if(e==="."){this.unput(1);break}if(e==="e"||e==="E"){this.unput(2);break}}else if(n==="."){if(t){this.unput(1);break}if(e==="_"){this.unput(2);break}t=!0;continue}else if(n==="e"||n==="E"){if(e==="_"){this.unput(1);break}let i=2;if(n=this.input(),(n==="+"||n==="-")&&(i=3,n=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(n?i:i-1);break}if(!this.is_NUM()){n&&this.unput(1);break}}return t?this.tok.T_DNUMBER:this.yytext.length<Na-1?this.tok.T_LNUMBER:this.yytext.length<Na||this.yytext.length==Na&&this.yytext<td?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){let n=this.input();if(!this.is_HEX()){n&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){let n=this.input();if(!this.is_NUM()){n&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){let n;for(;this.offset<this.size;)if(n=this.input(),n!=="0"&&n!=="1"&&n!=="_"){n&&this.unput(1);break}return this.tok.T_LNUMBER},consume_ONUM:function(){for(;this.offset<this.size;){let n=this.input();if(!this.is_OCTAL()){n&&this.unput(1);break}}return this.tok.T_LNUMBER}}});var sd=Y((Fw,nd)=>{"use strict";nd.exports={matchST_LOOKING_FOR_PROPERTY:function(){let n=this.input();if(n==="-"){if(n=this.input(),n===">")return this.tok.T_OBJECT_OPERATOR;n&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),n&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){let n=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),n=this.input(),n==="["||n==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else n&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){let n=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(n==="]")return this.popState(),"]";if(n==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}else{if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||n==="\\"||n==="'"||n==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(n==="["||n==="{"||n==="}"||n==='"'||n==="`"||this.is_TOKEN())return n;throw new Error("Unexpected terminal")}}}});var od=Y((Rw,rd)=>{"use strict";rd.exports={matchST_IN_SCRIPTING:function(){let n=this.input();switch(n){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this.version>=800&&this._input[this.offset]==="["?(this.input(),this.attributeListDepth[++this.attributeIndex]=0,this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();let t=this._input[this.offset];return(t===`
`||t==="\r")&&this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),n=this._input[this.offset],(n===`
`||n==="\r")&&this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(n==="."){if(n=this.input(),this.is_NUM_START())return this.consume_NUM();n&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+n+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){let n=this.input();if(!(n===" "||n==="	"||n===`
`||n==="\r")){n&&this.unput(1);break}}return this.tok.T_WHITESPACE}}});var ud=Y((Bw,hd)=>{"use strict";var Is=[`
`,"\r"],ad=[`
`,"\r",";"],oD=ad.concat(["	"," ",",","]",")","/","=","!"]);hd.exports={T_CONSTANT_ENCAPSED_STRING:function(){let n;for(;this.offset<this.size;)if(n=this.input(),n=="\\")this.input();else if(n=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){let n=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,!!this.is_TABSPACE()););let t=this._input[this.offset-1];if(t==="'"||t==='"'?this.offset++:t=null,this.is_LABEL_START()){let e=this.offset-1;for(;this.offset<this.size&&(this.offset++,!!this.is_LABEL()););let i=this._input.substring(e,this.offset-1);if((!t||t===this._input[this.offset-1])&&(t&&this.offset++,Is.includes(this._input[this.offset-1])))return this.heredoc_label.label=i,this.heredoc_label.length=i.length,this.heredoc_label.finished=!1,e=this.offset-n,this.offset=n,this.consume(e),t==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=n,!1},ST_DOUBLE_QUOTES:function(){let n;for(;this.offset<this.size;)if(n=this.input(),n=="\\")this.input();else{if(n=='"')break;if(n=="$"){if(n=this.input(),n=="{"||this.is_LABEL_START()){this.unput(2);break}n&&this.unput(1)}else if(n=="{"){if(n=this.input(),n=="$"){this.unput(2);break}n&&this.unput(1)}}if(n=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;{let t=1;return(this.yytext[0]==="b"||this.yytext[0]==="B")&&(t=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-t),this.unput(this.yytext.length-t),this.begin("ST_DOUBLE_QUOTES"),this.yytext}},isDOC_MATCH:function(n,t){let e=this._input[n-2];if(!Is.includes(e))return!1;let i=!1,r=!1,a=0,h=this._input[n-1];if(this.version>=703){for(;h==="	"||h===" ";)h===" "?i=!0:h==="	"&&(r=!0),h=this._input[n+a],a++;if(n=n+a,Is.includes(this._input[n-1]))return!1}if(this._input.substring(n-1,n-1+this.heredoc_label.length)===this.heredoc_label.label){let c=this._input[n-1+this.heredoc_label.length];if((this.version>=703?oD:ad).includes(c)){if(t){if(this.consume(a),i&&r)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=a,this.heredoc_label.indentation_uses_spaces=i,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;let n=this.offset+1;for(;n<this._input.length;){if(this.isDOC_MATCH(n,!1))return;if(!Is.includes(this._input[n-1]))for(;!Is.includes(this._input[n++])&&n<this._input.length;);n++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;let n=this._input[this.offset-1];for(;this.offset<this.size;)if(Is.includes(n)){if(n=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else n=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){let n=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(n==="\\"&&(n=this.input(),Is.includes(n)||(n=this.input())),Is.includes(n)){if(n=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(n==="$"){if(n=this.input(),n==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let t=this.offset,e=this.consume_VARIABLE();return this.yytext.length>this.offset-t+2?(this.appendToken(e,this.offset-t+2),this.unput(this.offset-t+2),this.tok.T_ENCAPSED_AND_WHITESPACE):e}}else if(n==="{"){if(n=this.input(),n==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else n=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();let n=this.input();if(n=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(n==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else n&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){let n=this.input();if(n==="$"){if(n=this.input(),n==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(n==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(n==="`")return this.popState(),"`";for(;this.offset<this.size;){if(n==="\\")this.input();else if(n==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}else if(n==="$"){if(n=this.input(),n==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let t=this.offset,e=this.consume_VARIABLE();return this.yytext.length>this.offset-t+2?(this.appendToken(e,this.offset-t+2),this.unput(this.offset-t+2),this.tok.T_ENCAPSED_AND_WHITESPACE):e}continue}else if(n==="{"){if(n=this.input(),n==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}n=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){let n=this.input();if(n==="$"){if(n=this.input(),n==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(n==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(n==='"')return this.popState(),'"';for(;this.offset<this.size;){if(n==="\\")this.input();else if(n==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}else if(n==="$"){if(n=this.input(),n==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let t=this.offset,e=this.consume_VARIABLE();return this.yytext.length>this.offset-t+2?(this.appendToken(e,this.offset-t+2),this.unput(this.offset-t+2),this.tok.T_ENCAPSED_AND_WHITESPACE):e}n&&this.unput(1)}else if(n==="{"){if(n=this.input(),n==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);n&&this.unput(1)}n=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}}});var cd=Y((Mw,ld)=>{"use strict";ld.exports={T_STRING:function(){let n=this.yytext.toLowerCase(),t=this.keywords[n];if(typeof t!="number"){if(n==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),t=this.tok.T_YIELD_FROM):t=this.tok.T_YIELD;else if(t=this.tok.T_STRING,n==="b"||n==="B"){let e=this.input();if(e==='"')return this.ST_DOUBLE_QUOTES();if(e==="'")return this.T_CONSTANT_ENCAPSED_STRING();e&&this.unput(1)}}if(t===this.tok.T_ENUM){if(this.version<801)return this.tok.T_STRING;let e=this.offset,i=this.input();for(;i==" ";)i=this.input();let r=!1;if(this.is_LABEL_START()){for(;this.is_LABEL();)i+=this.input();let a=i.slice(0,-1).toLowerCase();r=a!=="extends"&&a!=="implements"}return this.unput(this.offset-e),r?this.tok.T_ENUM:this.tok.T_STRING}if(this.offset<this.size&&t!==this.tok.T_YIELD_FROM){let e=this.input();if(e==="\\"){t=n==="namespace"?this.tok.T_NAME_RELATIVE:this.tok.T_NAME_QUALIFIED;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),e=this.input()}while(e==="\\")}e&&this.unput(1)}return t},consume_TOKEN:function(){let n=this._input[this.offset-1],t=this.tokenTerminals[n];return t?t.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){let n=this._input[this.offset];return n===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):n==="-"?(this.input(),this.tok.T_DEC):n==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){if(this.offset<this.size)if(this.input(),this.is_LABEL_START()){let n;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),n=this.input()}while(n==="\\");return this.unput(1),this.tok.T_NAME_FULLY_QUALIFIED}else this.unput(1);return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){let n=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){let t=this.yytext.length;this.consume_LABEL();let e=this.yytext.substring(t-1).toLowerCase(),i=this.castKeywords[e];if(typeof i=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return i}return this.unput(this.offset-n),"("},"=":function(){let n=this._input[this.offset];return n===">"?(this.input(),this.tok.T_DOUBLE_ARROW):n==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){let n=this._input[this.offset];return n==="+"?(this.input(),this.tok.T_INC):n==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){let n=this._input[this.offset];return n==="<"?(n=this._input[this.offset+1],n==="="?(this.consume(2),this.tok.T_SL_EQUAL):n==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL)):n==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):n===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){let n=this._input[this.offset];return n==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):n===">"?(n=this._input[this.offset+1],n==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR)):">"},"*":function(){let n=this._input[this.offset];return n==="="?(this.input(),this.tok.T_MUL_EQUAL):n==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){let n=this._input[this.offset];return n==="="?(this.input(),this.tok.T_CONCAT_EQUAL):n==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){let n=this._input[this.offset];return n==="="?(this.input(),this.tok.T_AND_EQUAL):n==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){let n=this._input[this.offset];return n==="="?(this.input(),this.tok.T_OR_EQUAL):n==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}}});var pd=Y((Uw,fd)=>{"use strict";var aD=";:,.\\[]()|^&+-/*=%!~$<>?@";fd.exports={is_NUM:function(){let n=this._input.charCodeAt(this.offset-1);return n>47&&n<58||n===95},is_NUM_START:function(){let n=this._input.charCodeAt(this.offset-1);return n>47&&n<58},is_LABEL:function(){let n=this._input.charCodeAt(this.offset-1);return n>96&&n<123||n>64&&n<91||n===95||n>47&&n<58||n>126},is_LABEL_START:function(){let n=this._input.charCodeAt(this.offset-1);return n>64&&n<91||n>96&&n<123||n===95||n>126},consume_LABEL:function(){for(;this.offset<this.size;){let n=this.input();if(!this.is_LABEL()){n&&this.unput(1);break}}return this},is_TOKEN:function(){let n=this._input[this.offset-1];return aD.indexOf(n)!==-1},is_WHITESPACE:function(){let n=this._input[this.offset-1];return n===" "||n==="	"||n===`
`||n==="\r"},is_TABSPACE:function(){let n=this._input[this.offset-1];return n===" "||n==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){let n=this.input();if(!this.is_TABSPACE()){n&&this.unput(1);break}}return this},is_HEX:function(){let n=this._input.charCodeAt(this.offset-1);return n>47&&n<58||n>64&&n<71||n>96&&n<103||n===95},is_OCTAL:function(){let n=this._input.charCodeAt(this.offset-1);return n>47&&n<56||n===95}}});var md=Y((Hw,dd)=>{"use strict";var Li=function(n){this.engine=n,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=801,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,enum:this.tok.T_ENUM,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH,readonly:this.tok.T_READ_ONLY},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};Li.prototype.setInput=function(n){return this._input=n,this.size=n.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this};Li.prototype.input=function(){let n=this._input[this.offset];return n?(this.yytext+=n,this.offset++,n==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),n===`
`||n==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,n):""};Li.prototype.unput=function(n){if(n===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,n++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-n);else if(n>0)if(this.offset-=n,n<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-n),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(let t=0;t<this.yytext.length;t++){let e=this.yytext[t];e==="\r"?(e=this.yytext[++t],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,e!==`
`&&(e==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):e===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this};Li.prototype.tryMatch=function(n){return n===this.ahead(n.length)};Li.prototype.tryMatchCaseless=function(n){return n===this.ahead(n.length).toLowerCase()};Li.prototype.ahead=function(n){let t=this._input.substring(this.offset,this.offset+n);return t[t.length-1]==="\r"&&this._input[this.offset+n+1]===`
`&&(t+=`
`),t};Li.prototype.consume=function(n){for(let t=0;t<n;t++){let e=this._input[this.offset];if(!e)break;this.yytext+=e,this.offset++,e==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,t++),e===`
`||e==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this};Li.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}};Li.prototype.setState=function(n){return this.yytext=n.yytext,this.offset=n.offset,this.yylineno=n.yylineno,this.yyprevcol=n.yyprevcol,this.yylloc=n.yylloc,n.heredoc_label&&(this.heredoc_label=n.heredoc_label),this};Li.prototype.appendToken=function(n,t){return this.tokens.push([n,t]),this};Li.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;let n=this.next()||this.lex();if(!this.all_tokens){for(;n===this.tok.T_WHITESPACE||!this.comment_tokens&&(n===this.tok.T_COMMENT||n===this.tok.T_DOC_COMMENT)||n===this.tok.T_OPEN_TAG;)n=this.next()||this.lex();if(n==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(n===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),n};Li.prototype.begin=function(n){if(this.conditionStack.push(n),this.curCondition=n,this.stateCb=this["match"+n],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+n+'"');return this};Li.prototype.popState=function(){let t=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return t};Li.prototype.next=function(){let n;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(n=this.tokens.shift(),typeof n[1]=="object"?this.setState(n[1]):this.consume(n[1]),n=n[0]):n=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){let t=n;typeof t=="number"?t=this.engine.tokens.values[t]:t='"'+t+'"';let e=new Error(t+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(e.stack)}return n};[Xp(),Qp(),Zp(),id(),sd(),od(),ud(),cd(),pd()].forEach(function(n){for(let t in n)Li.prototype[t]=n[t]});dd.exports=Li});var nu=Y((Vw,gd)=>{"use strict";var hD=function(n,t,e){this.line=n,this.column=t,this.offset=e};gd.exports=hD});var xd=Y((Ww,_d)=>{"use strict";_d.exports={read_array:function(){let n=null,t=!1,e=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),n=")"):(t=!0,n="]");let i=[];return this.next().token!==n&&(i=this.read_array_pair_list(t)),this.expect(n),this.next(),e(t,i)},read_array_pair_list:function(n){let t=this;return this.read_list(function(){return t.read_array_pair(n)},",",!0)},read_array_pair:function(n){if(!n&&this.token===")"||n&&this.token==="]")return;if(this.token===",")return this.node("noop")();let t=this.node("entry"),e=null,i=null,r=!1,a=!1;if(this.token==="&")this.next(),r=!0,i=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),a=!0,i=this.read_expr();else{let h=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),e=h,this.token==="&"?(this.next(),r=!0,i=this.read_variable(!0,!1)):i=this.read_expr()):i=h}return t(e,i,r,a)}}});var Ed=Y((Gw,vd)=>{"use strict";vd.exports={read_class_declaration_statement:function(n){let t=this.node("class"),e=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier"),r=this.text();this.next(),i=i(r);let a=this.read_extends_from(),h=this.read_implements_list();this.expect("{");let c=this.next().read_class_body(!0,!1),f=t(i,a,h,c,e);return n&&(f.attrGroups=n),f},read_class_modifiers:function(){let n=this.read_class_modifier({readonly:0,final_or_abstract:0});return[0,0,n.final_or_abstract,n.readonly]},read_class_modifier:function(n){return this.token===this.tok.T_READ_ONLY?(this.next(),n.readonly=1,n=this.read_class_modifier(n)):n.final_or_abstract===0&&this.token===this.tok.T_ABSTRACT?(this.next(),n.final_or_abstract=1,n=this.read_class_modifier(n)):n.final_or_abstract===0&&this.token===this.tok.T_FINAL&&(this.next(),n.final_or_abstract=2,n=this.read_class_modifier(n)),n},read_class_body:function(n,t){let e=[],i=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){e.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){e.push(this.read_doc_comment());continue}if(this.token===this.tok.T_USE){e=e.concat(this.read_trait_use_statement());continue}if(t&&this.token===this.tok.T_CASE){let h=this.read_enum_case();this.expect(";")&&this.next(),e=e.concat(h);continue}this.token===this.tok.T_ATTRIBUTE&&(i=this.read_attr_list());let r=this.position(),a=this.read_member_flags(!1);if(this.token===this.tok.T_CONST){let h=this.read_constant_list(a,i);this.expect(";")&&this.next(),e=e.concat(h);continue}if(n&&this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),a[0]=null,a[1]=0),this.token===this.tok.T_FUNCTION)e.push(this.read_function(!1,a,i,r)),i=[];else if(n&&(this.token===this.tok.T_VARIABLE||this.version>=801&&this.token===this.tok.T_READ_ONLY||this.version>=704&&(this.token==="?"||this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING))){let h=this.read_variable_list(a,i);i=[],this.expect(";"),this.next(),e=e.concat(h)}else this.error([this.tok.T_CONST,...n?[this.tok.T_VARIABLE]:[],...t?[this.tok.T_CASE]:[],this.tok.T_FUNCTION]),this.next()}return this.expect("}"),this.next(),e},read_variable_list:function(n,t){let e=this.node("propertystatement"),i=this.read_list(function(){let a=this.node("property"),h=!1;this.token===this.tok.T_READ_ONLY&&(h=!0,this.next());let[c,f]=this.read_optional_type();this.expect(this.tok.T_VARIABLE);let x=this.node("identifier"),d=this.text().substring(1);return this.next(),x=x(d),this.token===";"||this.token===","?a(x,null,h,c,f,t||[]):this.token==="="?a(x,this.next().read_expr(),h,c,f,t||[]):(this.expect([",",";","="]),a(x,null,c,f,t||[]))},",");return e(null,i,n)},read_constant_list:function(n,t){this.expect(this.tok.T_CONST)&&this.next();let e=this.node("classconstant"),i=this.read_list(function(){let a=this.node("constant"),h=null,c=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){h=this.node("identifier");let f=this.text();this.next(),h=h(f)}else this.expect("IDENTIFIER");return this.expect("=")&&(c=this.next().read_expr()),a(h,c)},",");return e(null,i,n,t||[])},read_member_flags:function(n){let t=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){let e=0,i=0;do{switch(this.token){case this.tok.T_PUBLIC:e=0,i=0;break;case this.tok.T_PROTECTED:e=0,i=1;break;case this.tok.T_PRIVATE:e=0,i=2;break;case this.tok.T_STATIC:e=1,i=1;break;case this.tok.T_ABSTRACT:e=2,i=1;break;case this.tok.T_FINAL:e=2,i=2;break}n&&(e==0&&i==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),i=-1):e==2&&i==1&&(this.error(),i=-1)),t[e]!==-1?this.error():i!==-1&&(t[e]=i)}while(this.next().is("T_MEMBER_FLAGS"))}return t[1]==-1&&(t[1]=0),t[2]==-1&&(t[2]=0),t},read_optional_type:function(){let n=!1;this.token==="?"&&(n=!0,this.next());let t=this.read_types();if(n&&!t&&this.raiseError("Expecting a type definition combined with nullable operator"),!n&&!t)return[!1,null];if(this.token==="|"){t=[t];do{this.next();let e=this.read_type();if(!e){this.raiseError("Expecting a type definition");break}t.push(e)}while(this.token==="|")}return[n,t]},read_interface_declaration_statement:function(n){let t=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);let e=this.node("identifier"),i=this.text();this.next(),e=e(i);let r=this.read_interface_extends_list();this.expect("{");let a=this.next().read_interface_body();return t(e,r,a,n||[])},read_interface_body:function(){let n=[],t=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){n.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){n.push(this.read_doc_comment());continue}let e=this.position();t=this.read_attr_list();let i=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){let r=this.read_constant_list(i,t);this.expect(";")&&this.next(),n=n.concat(r),t=[]}else if(this.token===this.tok.T_FUNCTION){let r=this.read_function_declaration(2,i,t,e);r.parseFlags(i),n.push(r),this.expect(";")&&this.next(),t=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}return this.expect("}")&&this.next(),n},read_trait_declaration_statement:function(){let n=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);let t=this.node("identifier"),e=this.text();this.next(),t=t(e),this.expect("{");let i=this.next().read_class_body(!0,!1);return n(t,i)},read_trait_use_statement:function(){let n=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();let t=[this.read_namespace_name()],e=null;for(;this.token===",";)t.push(this.next().read_namespace_name());if(this.token==="{"){for(e=[];this.next().token!==this.EOF&&this.token!=="}";)e.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return n(t,e)},read_trait_use_alias:function(){let n=this.node(),t=null,e;if(this.is("IDENTIFIER")){e=this.node("identifier");let i=this.text();this.next(),e=e(i)}else if(e=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){t=e,e=this.node("identifier");let i=this.text();this.next(),e=e(i)}else this.expect(this.tok.T_STRING);else e=e.name;if(this.token===this.tok.T_INSTEADOF)return n("traitprecedence",t,e,this.next().read_name_list());if(this.token===this.tok.T_AS){let i=null,r=null;if(this.next().is("T_MEMBER_FLAGS")&&(i=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){r=this.node("identifier");let a=this.text();this.next(),r=r(a)}else i===!1&&this.expect(this.tok.T_STRING);return n("traitalias",t,e,r,i)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),n("traitalias",t,e,null,null)}}});var kd=Y((qw,yd)=>{"use strict";yd.exports={read_comment:function(){let n=this.text(),t=this.ast.prepare(n.substring(0,2)==="/*"?"commentblock":"commentline",null,this),e=this.lexer.yylloc.first_offset,i=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),t=t(n),t.offset=e,this.prev=i,t},read_doc_comment:function(){let n=this.ast.prepare("commentblock",null,this),t=this.lexer.yylloc.first_offset,e=this.text(),i=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),n=n(e),n.offset=t,this.prev=i,n}}});var Cd=Y((zw,Td)=>{"use strict";Td.exports={read_expr:function(n){let t=this.node();if(this.token==="@")return n||(n=this.next().read_expr()),t("silent",n);if(n||(n=this.read_expr_item()),this.token==="|")return t("bin","|",n,this.next().read_expr());if(this.token==="&")return t("bin","&",n,this.next().read_expr());if(this.token==="^")return t("bin","^",n,this.next().read_expr());if(this.token===".")return t("bin",".",n,this.next().read_expr());if(this.token==="+")return t("bin","+",n,this.next().read_expr());if(this.token==="-")return t("bin","-",n,this.next().read_expr());if(this.token==="*")return t("bin","*",n,this.next().read_expr());if(this.token==="/")return t("bin","/",n,this.next().read_expr());if(this.token==="%")return t("bin","%",n,this.next().read_expr());if(this.token===this.tok.T_POW)return t("bin","**",n,this.next().read_expr());if(this.token===this.tok.T_SL)return t("bin","<<",n,this.next().read_expr());if(this.token===this.tok.T_SR)return t("bin",">>",n,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return t("bin","||",n,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return t("bin","or",n,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return t("bin","&&",n,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return t("bin","and",n,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return t("bin","xor",n,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return t("bin","===",n,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return t("bin","!==",n,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return t("bin","==",n,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return t("bin","!=",n,this.next().read_expr());if(this.token==="<")return t("bin","<",n,this.next().read_expr());if(this.token===">")return t("bin",">",n,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return t("bin","<=",n,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return t("bin",">=",n,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return t("bin","<=>",n,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(n=t("bin","instanceof",n,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(n=this.read_expr(n))),this.token===this.tok.T_COALESCE)return t("bin","??",n,this.next().read_expr());if(this.token==="?"){let e=null;return this.next().token!==":"&&(e=this.read_expr()),this.expect(":")&&this.next(),t("retif",n,e,this.read_expr())}else t.destroy(n);return n},read_expr_cast:function(n){return this.node("cast")(n,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){let n=null;switch(this.token){case this.tok.T_ISSET:{n=this.node("isset"),this.next().expect("(")&&this.next();let t=this.read_isset_variables();this.expect(")")&&this.next(),n=n(t)}break;case this.tok.T_EMPTY:{n=this.node("empty"),this.next().expect("(")&&this.next();let t=this.read_expr();this.expect(")")&&this.next(),n=n(t)}break;case this.tok.T_INCLUDE:n=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:n=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:{n=this.node("eval"),this.next().expect("(")&&this.next();let t=this.read_expr();this.expect(")")&&this.next(),n=n(t)}break;case this.tok.T_REQUIRE:n=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:n=this.node("include")(!0,!0,this.next().read_expr());break}return n},read_optional_expr:function(n){return this.token!==n?this.read_expr():null},read_exit_expr:function(){let n=null;return this.token==="("&&(this.next(),n=this.read_optional_expr(")"),this.expect(")")&&this.next()),n},read_expr_item:function(){let n,t,e=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return t=this.next().read_expr(),t.parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(t);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){let i=null,r=this.innerList;n=this.node("list"),r||(i=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);let a=this.read_array_pair_list(!1);this.expect(")")&&this.next();let h=!1;for(let c=0;c<a.length;c++)if(a[c]!==null&&a[c].kind!=="noop"){h=!0;break}return h||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),r?n(a,!1):(this.innerList=!1,this.expect("=")?i(n(a,!1),this.next().read_expr(),"="):n(a,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(e=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:{this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression");let i=this.node("throw"),r=this.next().read_expr();return i(r)}case this.tok.T_EXIT:{let i=this.lexer.yytext.toLowerCase()==="die";n=this.node("exit"),this.next();let r=this.read_exit_expr();return n(r,i)}case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:{let i=null,r=null;return n=this.node("yield"),this.next().is("EXPR")&&(i=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(r=i,i=this.next().read_expr())),n(i,r)}case this.tok.T_YIELD_FROM:return n=this.node("yieldfrom"),t=this.next().read_expr(),n(t);case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,e);case this.tok.T_STATIC:{let i=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],e);this.lexer.tokens.push(i),this.next()}}if(this.is("VARIABLE")){n=this.node(),t=this.read_variable(!1,!1);let i=t.kind==="identifier"||t.kind==="staticlookup"&&t.offset.kind==="identifier";switch(this.token){case"=":return i&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(n,t):n("assign",t,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return i&&this.error("VARIABLE"),n("assign",t,this.next().read_expr(),"??=");case this.tok.T_INC:return i&&this.error("VARIABLE"),this.next(),n("post","+",t);case this.tok.T_DEC:return i&&this.error("VARIABLE"),this.next(),n("post","-",t);default:n.destroy(t)}}else if(this.is("SCALAR")){if(n=this.node(),t=this.read_scalar(),t.kind==="array"&&t.shortForm&&this.token==="="){let i=this.convertToList(t);t.loc&&(i.loc=t.loc);let r=this.next().read_expr();return n("assign",i,r,"=")}else n.destroy(t);return this.handleDereferencable(t)}else this.error("EXPR"),this.next();return t},convertToList:function(n){let t=n.items.map(i=>(i.value&&i.value.kind==="array"&&i.value.shortForm&&(i.value=this.convertToList(i.value)),i)),e=this.node("list")(t,!0);return n.loc&&(e.loc=n.loc),n.leadingComments&&(e.leadingComments=n.leadingComments),n.trailingComments&&(e.trailingComments=n.trailingComments),e},read_assignref:function(n,t){this.next();let e;return this.token===this.tok.T_NEW?(this.version>=700&&this.error(),e=this.read_new_expr()):e=this.read_variable(!1,!1),n("assignref",t,e)},read_inline_function:function(n,t){if(this.token===this.tok.T_FUNCTION){let x=this.read_function(!0,n,t);return x.attrGroups=t,x}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");let e=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();let i=this.is_reference();this.expect("(")&&this.next();let r=this.read_parameter_list();this.expect(")")&&this.next();let a=!1,h=null;this.token===":"&&(this.next().token==="?"&&(a=!0,this.next()),h=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();let c=this.read_expr(),f=e(r,i,c,h,a,!!n);return f.attrGroups=t,f},read_match_expression:function(){let n=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");let t=null,e=[];return this.expect("(")&&this.next(),t=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),e=this.read_match_arms(),this.expect("}")&&this.next(),n(t,e)},read_match_arms:function(){return this.read_list(()=>this.read_match_arm(),",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){let n=[];if(this.token===this.tok.T_DEFAULT)n=null,this.next();else for(n.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),n;n.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),n},read_attribute(){let n=this.text(),t=[];return this.next(),this.token==="("&&(t=this.read_argument_list()),this.node("attribute")(n,t)},read_attr_list(){let n=[];if(this.token===this.tok.T_ATTRIBUTE)do{let t=this.node("attrgroup")([]);for(this.next(),t.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&t.attrs.push(this.read_attribute());n.push(t),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return n},read_new_expr:function(){let n=this.node("new");this.expect(this.tok.T_NEW)&&this.next();let t=[];if(this.token==="("){this.next();let r=this.read_expr();return this.expect(")"),this.next(),this.token==="("&&(t=this.read_argument_list()),n(r,t)}let e=this.read_attr_list();if(this.token===this.tok.T_CLASS){let r=this.node("class");this.next().token==="("&&(t=this.read_argument_list());let a=this.read_extends_from(),h=this.read_implements_list(),c=null;this.expect("{")&&(c=this.next().read_class_body(!0,!1));let f=r(null,a,h,c,[0,0,0]);return f.attrGroups=e,n(f,t)}let i=this.read_new_class_name();for(;this.token==="[";){let r=this.node("offsetlookup"),a=this.next().read_encaps_var_offset();this.expect("]")&&this.next(),i=r(i,a)}return this.token==="("&&(t=this.read_argument_list()),n(i,t)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){let n=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(n=this.read_static_getter(n)),n}else{if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])}},handleDereferencable:function(n){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)n=this.recursive_variable_chain_scan(n,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")n=this.read_dereferencable(n);else if(this.token==="(")n=this.node("call")(n,this.read_argument_list());else return n;return n}}});var Ad=Y((Jw,bd)=>{"use strict";bd.exports={read_enum_declaration_statement:function(n){let t=this.node("enum");if(!this.expect(this.tok.T_ENUM))return null;this.next().expect(this.tok.T_STRING);let e=this.node("identifier"),i=this.text();this.next(),e=e(i);let r=this.read_enum_value_type(),a=this.read_implements_list();this.expect("{");let h=this.next().read_class_body(!1,!0),c=t(e,r,a,h);return n&&(c.attrGroups=n),c},read_enum_value_type:function(){return this.token===":"?this.next().read_namespace_name():null},read_enum_case:function(){this.expect(this.tok.T_CASE);let n=this.node("enumcase"),t=this.node("identifier"),e=this.next().text();this.next(),t=t(e);let i=this.token==="="?this.next().read_expr():null;return this.expect(";"),n(t,i)}}});var Dd=Y((jw,Sd)=>{"use strict";Sd.exports={is_reference:function(){return this.token==="&"?(this.next(),!0):!1},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS?(this.next(),!0):!1},read_function:function(n,t,e,i){let r=this.read_function_declaration(n?1:t?2:0,t&&t[1]===1,e||[],i);return t&&t[2]==1?(r.parseFlags(t),this.expect(";")&&this.next()):(this.expect("{")&&(r.body=this.read_code_block(!1),r.loc&&r.body.loc&&(r.loc.end=r.body.loc.end)),!n&&t&&r.parseFlags(t)),r},read_function_declaration:function(n,t,e,i){let r="function";n===1?r="closure":n===2&&(r="method");let a=this.node(r);this.expect(this.tok.T_FUNCTION)&&this.next();let h=this.is_reference(),c=!1,f=[],x=null,d=!1;if(n!==1){let l=this.node("identifier");n===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(c=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(c=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(c=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(c=this.text()),this.next()),c=l(c)}this.expect("(")&&this.next();let k=this.read_parameter_list(c.name==="__construct");this.expect(")")&&this.next(),n===1&&(f=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(d=!0,this.next()),x=this.read_types());let _=l=>(l.attrGroups=e||[],i&&l.loc&&(l.loc.start=i,l.loc.source&&(l.loc.source=this.lexer._input.substr(l.loc.start.offset,l.loc.end.offset-l.loc.start.offset))),l);return _(n===1?a(k,h,f,x,d,t):a(c,k,h,x,d))},read_lexical_vars:function(){let n=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),n=this.read_lexical_var_list(),this.expect(")")&&this.next()),n},read_list_with_dangling_comma:function(n){let t=[];for(;this.token!=this.EOF;)if(t.push(n()),this.token==","){if(this.next(),this.version>=800&&this.token===")")return t}else{if(this.token==")")break;this.error([",",")"]);break}return t},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));let n=this.node("variable");this.expect(this.tok.T_VARIABLE);let t=this.text().substring(1);return this.next(),n(t,!1)},read_parameter_list:function(n){if(this.token!==")"){let t=!1;return this.read_list_with_dangling_comma(function(){let e=this.read_parameter(n);return e&&(t&&this.raiseError("Unexpected parameter after a variadic parameter"),e.variadic&&(t=!0)),e}.bind(this),",")}return[]},read_parameter:function(n){let t=this.node("parameter"),e=null,i=null,r=null,a=!1,h=!1,c=[];this.token===this.tok.T_ATTRIBUTE&&(c=this.read_attr_list()),this.version>=801&&this.token===this.tok.T_READ_ONLY&&(n?(this.next(),h=!0):this.raiseError("readonly properties can be used only on class constructor"));let f=this.read_promoted();!h&&this.version>=801&&this.token===this.tok.T_READ_ONLY&&(n?(this.next(),h=!0):this.raiseError("readonly properties can be used only on class constructor")),this.token==="?"&&(this.next(),a=!0),r=this.read_types(),a&&!r&&this.raiseError("Expecting a type definition combined with nullable operator");let x=this.is_reference(),d=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){e=this.node("identifier");let _=this.text().substring(1);this.next(),e=e(_)}this.token=="="&&(i=this.next().read_expr());let k=t(e,r,i,x,d,h,a,f);return c&&(k.attrGroups=c),k},read_types(){let n="unset",t="union",e="intersection",i=[],r=n,a=this.read_type();if(!a)return null;for(i.push(a);this.token==="|"||this.version>=801&&this.token==="&";){let h=this.peek();if(h===this.tok.T_ELLIPSIS||h===this.tok.T_VARIABLE)break;r===n?r=this.token==="|"?t:e:(r===t&&this.token!=="|"||r===e&&this.token!=="&")&&this.raiseError('Unexpect token "'+this.token+'", "|" and "&" can not be mixed'),this.next(),i.push(this.read_type())}return i.length===1?i[0]:r===e?this.node("intersectiontype")(i):this.node("uniontype")(i)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){let n=[];return this.expect("(")&&this.next(),this.version>=801&&this.token===this.tok.T_ELLIPSIS&&this.peek()===")"?(n.push(this.node("variadicplaceholder")()),this.next()):this.token!==")"&&(n=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),n},read_non_empty_argument_list:function(){let n=!1;return this.read_function_list(function(){let t=this.read_argument();if(t){let e=t.kind==="variadic";n&&!e&&this.raiseError("Unexpected non-variadic argument after a variadic argument"),e&&(n=!0)}return t}.bind(this),",")},read_argument:function(){return this.token===this.tok.T_ELLIPSIS?this.node("variadic")(this.next().read_expr()):(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token))&&this.peek()===":"?(this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())):this.read_expr()},read_type:function(){let n=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){let t=this.text();return this.next(),n("typereference",t.toLowerCase(),t)}else if(this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){let t=this.text(),e=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(t.toLowerCase())>-1?n("typereference",t.toLowerCase(),t):(this.lexer.tokens.push(e),this.next(),n.destroy(),this.read_namespace_name())}return n.destroy(),null}}});var Id=Y((Yw,Nd)=>{"use strict";Nd.exports={read_if:function(){let n=this.node("if"),t=this.next().read_if_expr(),e=null,i=null,r=!1;if(this.token===":"){r=!0,this.next(),e=this.node("block");let a=[];for(;this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){i=this.read_elseif_short();break}else if(this.token===this.tok.T_ELSE){i=this.read_else_short();break}a.push(this.read_inner_statement())}e=e(null,a),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else e=this.read_statement(),this.token===this.tok.T_ELSEIF?i=this.read_if():this.token===this.tok.T_ELSE&&(i=this.next().read_statement());return n(t,e,i,r)},read_if_expr:function(){this.expect("(")&&this.next();let n=this.read_expr();return this.expect(")")&&this.next(),n},read_elseif_short:function(){let n=null,t=this.node("if"),e=this.next().read_if_expr();this.expect(":")&&this.next();let i=this.node("block"),r=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){n=this.read_elseif_short();break}else if(this.token===this.tok.T_ELSE){n=this.read_else_short();break}r.push(this.read_inner_statement())}return t(e,i(null,r),n,!0)},read_else_short:function(){this.next().expect(":")&&this.next();let n=this.node("block"),t=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)t.push(this.read_inner_statement());return n(null,t)}}});var Od=Y((Xw,Pd)=>{"use strict";Pd.exports={read_while:function(){let n=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();let t=null,e=null,i=!1;return this.expect("(")&&this.next(),t=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(i=!0,e=this.read_short_form(this.tok.T_ENDWHILE)):e=this.read_statement(),n(t,e,i)},read_do:function(){let n=this.node("do");this.expect(this.tok.T_DO)&&this.next();let t=null,e=null;return e=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),t=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),n(t,e)},read_for:function(){let n=this.node("for");this.expect(this.tok.T_FOR)&&this.next();let t=[],e=[],i=[],r=null,a=!1;return this.expect("(")&&this.next(),this.token!==";"?(t=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(e=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(i=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(a=!0,r=this.read_short_form(this.tok.T_ENDFOR)):r=this.read_statement(),n(t,e,i,r,a)},read_foreach:function(){let n=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();let t=null,e=null,i=null,r=null,a=!1;return this.expect("(")&&this.next(),t=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),i=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(e=i,i=this.next().read_foreach_variable())),e&&e.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(a=!0,r=this.read_short_form(this.tok.T_ENDFOREACH)):r=this.read_statement(),n(t,e,i,r,a)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){let n=this.token==="[",t=this.node("list");this.next(),!n&&this.expect("(")&&this.next();let e=this.read_array_pair_list(n);return this.expect(n?"]":")")&&this.next(),t(e,n)}else return this.read_variable(!1,!1)}}});var Ld=Y((Kw,wd)=>{"use strict";wd.exports={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}}});var Rd=Y((Qw,Fd)=>{"use strict";Fd.exports={read_namespace:function(){let n=this.node("namespace"),t;this.expect(this.tok.T_NAMESPACE)&&this.next();let e;return this.token==="{"?e={name:[""]}:e=this.read_namespace_name(),this.currentNamespace=e,this.token===";"?(this.currentNamespace=e,t=this.next().read_top_statements(),this.expect(this.EOF),n(e.name,t,!1)):this.token==="{"?(this.currentNamespace=e,t=this.next().read_top_statements(),this.expect("}")&&this.next(),t.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&t.push(this.node("noop")()),n(e.name,t,!0)):(this.error(["{",";"]),this.currentNamespace=e,t=this.read_top_statements(),this.expect(this.EOF),n(e,t,!1))},read_namespace_name:function(n){let t=this.node(),e,i=this.text();switch(this.token){case this.tok.T_NAME_RELATIVE:e=this.ast.name.RELATIVE_NAME,i=i.replace(/^namespace\\/,"");break;case this.tok.T_NAME_QUALIFIED:e=this.ast.name.QUALIFIED_NAME;break;case this.tok.T_NAME_FULLY_QUALIFIED:e=this.ast.name.FULL_QUALIFIED_NAME;break;default:if(e=this.ast.name.UNQUALIFIED_NAME,!this.expect(this.tok.T_STRING))return t("name","",this.ast.name.FULL_QUALIFIED_NAME)}if(this.next(),n||this.token!=="("){if(i.toLowerCase()==="parent")return t("parentreference",i);if(i.toLowerCase()==="self")return t("selfreference",i)}return t("name",i,e)},read_use_statement:function(){let n=this.node("usegroup"),t=[],e=null;this.expect(this.tok.T_USE)&&this.next();let i=this.read_use_type();return t.push(this.read_use_declaration(!1)),this.token===","?t=t.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(e=t[0].name,t=this.next().read_use_declarations(i===null),this.expect("}")&&this.next()),n=n(e,i,t),this.expect(";")&&this.next(),n},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(n){let t=this.node("useitem"),e=null;n&&(e=this.read_use_type());let i=this.read_namespace_name(),r=this.read_use_alias();return t(i.name,r,e)},read_use_declarations:function(n){let t=[this.read_use_declaration(n)];for(;this.token===",";){if(this.next(),n){if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;t.push(this.read_use_declaration(n))}return t},read_use_alias:function(){let n=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){let t=this.node("identifier"),e=this.text();this.next(),n=t(e)}return n},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}}});var Ud=Y(($w,Md)=>{"use strict";var Bd={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)};Md.exports={resolve_special_chars:function(n,t){return t?n.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,(e,i,r)=>Bd[i]?Bd[i]:i[0]==="x"||i[0]==="X"?String.fromCodePoint(parseInt(i.substr(1),16)):i[0]==="u"?String.fromCodePoint(parseInt(r,16)):String.fromCodePoint(parseInt(i,8))):n.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(n,t,e,i){if(t===0)return n;this.check_heredoc_indentation_level(n,t,e,i);let r=e?" ":"	",a=new RegExp(`\\n${r}{${t}}`,"g"),h=new RegExp(`^${r}{${t}}`);return i&&(n=n.replace(h,"")),n.replace(a,`
`)},check_heredoc_indentation_level:function(n,t,e,i){let r=n.length,a=0,h=0,c=!0,f=e?" ":"	",x=!1;if(!i){if(a=n.indexOf(`
`),a===-1)return;a++}for(;a<r;)c?n[a]===f?h++:x=!0:c=!1,n[a]!==`
`&&x&&h<t?this.raiseError(`Invalid body indentation level (expecting an indentation at least ${t})`):x=!1,n[a]===`
`&&(c=!0,h=0),a++},read_dereferencable_scalar:function(){let n=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:{let t=this.node("string"),e=this.text(),i=0;(e[0]==="b"||e[0]==="B")&&(i=1);let r=e[i]==='"';this.next();let a=this.resolve_special_chars(e.substring(i+1,e.length-1),r);t=t(r,a,i===1,e),this.token===this.tok.T_DOUBLE_COLON?n=this.read_static_getter(t):n=t}break;case this.tok.T_ARRAY:n=this.read_array();break;case"[":n=this.read_array();break}return n},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();{let n,t;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:{let e=this.node("number");return n=this.text(),this.next(),e(n,null)}case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){let e=this.lexer.yylloc.first_offset;t=this.node("nowdoc"),n=this.next().text(),this.lexer.heredoc_label.indentation>0&&(n=n.substring(0,n.length-this.lexer.heredoc_label.indentation));let i=n[n.length-1];i===`
`?n[n.length-2]==="\r"?n=n.substring(0,n.length-2):n=n.substring(0,n.length-1):i==="\r"&&(n=n.substring(0,n.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();let r=this.lexer._input.substring(e,this.lexer.yylloc.first_offset);return t=t(this.remove_heredoc_leading_whitespace_chars(n,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),r,this.lexer.heredoc_label.label),this.lexer.heredoc_label.finished=!0,t}else return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:{let e=this.error("SCALAR");return this.next(),e}}}},read_dereferencable:function(n){let t,e,i=this.node("offsetlookup");return this.token==="["?(e=this.next().read_expr(),this.expect("]")&&this.next(),t=i(n,e)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(e=this.read_encapsed_string_item(!1),t=i(n,e)),t},read_encapsed_string_item:function(n){let t=this.node("encapsedpart"),e=null,i=!1,r=this.node(),a,h,c;if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){let f=this.text();this.next(),r=r("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(f,n),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):f,!1,f)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(e="simple",i=!0,c=null,this.next().token===this.tok.T_STRING_VARNAME){c=this.node("variable");let f=this.text();this.next(),r.destroy(),this.token==="["?(c=c(f,!1),h=this.node("offsetlookup"),a=this.next().read_expr(),this.expect("]")&&this.next(),r=h(c,a)):r=c(f,!1)}else r=r("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)e="complex",r.destroy(),r=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(e="simple",r.destroy(),r=this.read_simple_variable(),this.token==="["&&(h=this.node("offsetlookup"),a=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),r=h(r,a)),this.token===this.tok.T_OBJECT_OPERATOR){h=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);let f=this.node("identifier");c=this.text(),this.next(),r=h(r,f(c))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);let f=this.text();this.next(),r.destroy(),r=r("string",!1,f,!1,f)}return this.lexer.heredoc_label.first_encaps_node=!1,t(r,e,i)},read_encapsed_string:function(n,t=!1){let e=this.lexer.yylloc.first_offset,i=this.node("encapsed");this.next();let r=this.lexer.yylloc.prev_offset-(t?1:0),a=[],h=null;for(n==="`"?h=this.ast.encapsed.TYPE_SHELL:n==='"'?h=this.ast.encapsed.TYPE_STRING:h=this.ast.encapsed.TYPE_HEREDOC;this.token!==n&&this.token!==this.EOF;)a.push(this.read_encapsed_string_item(!0));if(a.length>0&&a[a.length-1].kind==="encapsedpart"&&a[a.length-1].expression.kind==="string"){let f=a[a.length-1].expression,x=f.value[f.value.length-1];x===`
`?f.value[f.value.length-2]==="\r"?f.value=f.value.substring(0,f.value.length-2):f.value=f.value.substring(0,f.value.length-1):x==="\r"&&(f.value=f.value.substring(0,f.value.length-1))}this.expect(n)&&this.next();let c=this.lexer._input.substring(h==="heredoc"?e:r-1,this.lexer.yylloc.first_offset);return i=i(a,c,h),n===this.tok.T_END_HEREDOC&&(i.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),i},get_magic_constant:function(){let n=this.node("magic"),t=this.text();return this.next(),n(t.toUpperCase(),t)}}});var Vd=Y((Zw,Hd)=>{"use strict";Hd.exports={read_top_statements:function(){let n=[];for(;this.token!==this.EOF&&this.token!=="}";){let t=this.read_top_statement();t&&(Array.isArray(t)?n=n.concat(t):n.push(t))}return n},read_top_statement:function(){let n=[];switch(this.token===this.tok.T_ATTRIBUTE&&(n=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,n);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_READ_ONLY:case this.tok.T_CLASS:return this.read_class_declaration_statement(n);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(n);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement(n);case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:{let t=this.node("constantstatement"),e=this.next().read_const_list();return this.expectEndOfStatement(),t(null,e)}case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:{let t=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,t(this.lexer._input.substring(this.lexer.offset))}default:return this.read_statement()}},read_inner_statements:function(){let n=[];for(;this.token!=this.EOF&&this.token!=="}";){let t=this.read_inner_statement();t&&(Array.isArray(t)?n=n.concat(t):n.push(t))}return n},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);let n=this.node("constant"),t=this.node("identifier"),e=this.text();return this.next(),t=t(e),this.expect("=")?n(t,this.next().read_expr()):n(t,null)},",",!1)},read_declare_list:function(){let n=[];for(;this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);let t=this.node("declaredirective"),e=this.node("identifier"),i=this.text();this.next(),e=e(i);let r=null;if(this.expect("=")&&(r=this.next().read_expr()),n.push(t(e,r)),this.token!==",")break;this.next()}return n},read_inner_statement:function(){let n=[];switch(this.token===this.tok.T_ATTRIBUTE&&(n=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:{let t=this.read_function(!1,!1);return t.attrGroups=n,t}case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement();case this.tok.T_HALT_COMPILER:{this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");let t=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),t=t(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),t}default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:{let n=this.node("return");this.next();let t=this.read_optional_expr(";");return this.expectEndOfStatement(),n(t)}case this.tok.T_BREAK:case this.tok.T_CONTINUE:{let n=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();let t=this.read_optional_expr(";");return this.expectEndOfStatement(),n(t)}case this.tok.T_GLOBAL:{let n=this.node("global"),t=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),n(t)}case this.tok.T_STATIC:{let n=[this.token,this.lexer.getState()],t=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(n);let i=this.next().read_expr();return this.expectEndOfStatement(i),t("expressionstatement",i)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);let e=this.read_variable_declarations();return this.expectEndOfStatement(),t("static",e)}case this.tok.T_ECHO:{let n=this.node("echo"),t=this.text(),e=t==="<?="||t==="<%=",i=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),n(i,e)}case this.tok.T_INLINE_HTML:{let n=this.text(),t=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,e=t==="\r"||t===`
`;e&&t===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(t=`\r
`);let i=this.node("inline");return this.next(),i(n,e?t+n:n)}case this.tok.T_UNSET:{let n=this.node("unset");this.next().expect("(")&&this.next();let t=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),n(t)}case this.tok.T_DECLARE:{let n=this.node("declare"),t=[],e;this.next().expect("(")&&this.next();let i=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)t.push(this.read_top_statement());t.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&t.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),e=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)t.push(this.read_top_statement());t.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&t.push(this.node("noop")()),this.expect("}")&&this.next(),e=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),e=this.ast.declare.MODE_NONE;return n(i,t,e)}case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:{let n=this.node("throw"),t=this.next().read_expr();return this.expectEndOfStatement(),n(t)}case";":return this.next(),null;case this.tok.T_STRING:{let n=this.node(),t=[this.token,this.lexer.getState()],e=this.text(),i=this.node("identifier");if(this.next().token===":")return i=i(e),this.next(),n("label",i);i.destroy(),n.destroy(),this.lexer.tokens.push(t);let r=this.node("expressionstatement"),a=this.next().read_expr();return this.expectEndOfStatement(a),r(a)}case this.tok.T_GOTO:{let n=this.node("goto"),t=null;if(this.next().expect(this.tok.T_STRING)){t=this.node("identifier");let e=this.text();this.next(),t=t(e),this.expectEndOfStatement()}return n(t)}default:{let n=this.node("expressionstatement"),t=this.read_expr();return this.expectEndOfStatement(t),n(t)}}},read_code_block:function(n){let t=this.node("block");this.expect("{")&&this.next();let e=n?this.read_top_statements():this.read_inner_statements();return e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect("}")&&this.next(),t(null,e)}}});var Gd=Y((tL,Wd)=>{"use strict";Wd.exports={read_switch:function(){let n=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();let t=this.read_expr();this.expect(")")&&this.next();let e=this.token===":",i=this.read_switch_case_list();return n(t,i,e)},read_switch_case_list:function(){let n=null,t=this.node("block"),e=[];for(this.token==="{"?n="}":this.token===":"?n=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==n;)e.push(this.read_case_list(n));return e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect(n)&&this.next(),n===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),t(null,e)},read_case_list:function(n){let t=this.node("case"),e=null;this.token===this.tok.T_CASE?e=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();let i=this.node("block"),r=[];for(;this.token!==this.EOF&&this.token!==n&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)r.push(this.read_inner_statement());return t(e,i(null,r))}}});var zd=Y((eL,qd)=>{"use strict";qd.exports={read_try:function(){this.expect(this.tok.T_TRY);let n=this.node("try"),t=null,e=[],i=this.next().read_statement();for(;this.token===this.tok.T_CATCH;){let r=this.node("catch");this.next().expect("(")&&this.next();let a=this.read_list(this.read_namespace_name,"|",!1),h=null;(this.version<800||this.token===this.tok.T_VARIABLE)&&(h=this.read_variable(!0,!1)),this.expect(")"),e.push(r(this.next().read_statement(),a,h))}return this.token===this.tok.T_FINALLY&&(t=this.next().read_statement()),n(i,e,t)}}});var jd=Y((iL,Jd)=>{"use strict";Jd.exports={read_short_form:function(n){let t=this.node("block"),e=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==n;)e.push(this.read_inner_statement());return e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect(n)&&this.next(),this.expectEndOfStatement(),t(null,e)},read_function_list:function(n,t){let e=[];do{if(this.token==t&&this.version>=703&&e.length>0){e.push(this.node("noop")());break}if(e.push(n.apply(this,[])),this.token!=t||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return e},read_list:function(n,t,e){let i=[];if(this.token==t&&(e&&i.push(typeof n=="function"?this.node("noop")():null),this.next()),typeof n=="function")do{let r=n.apply(this,[]);if(r&&i.push(r),this.token!=t)break}while(this.next().token!=this.EOF);else{if(this.expect(n))i.push(this.text());else return[];for(;this.next().token!=this.EOF&&!(this.token!=t||this.next().token!=n);)i.push(this.text())}return i},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(n){let t=this.node("byref");this.next(),t=t(null);let e=n();return e&&(this.ast.swapLocations(e,t,e,this),e.byref=!0),e},read_variable_declarations:function(){return this.read_list(function(){let n=this.node("staticvariable"),t=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){let e=this.text().substring(1);this.next(),t=t(e,!1)}else t=t("#ERR",!1);return this.token==="="?n(t,this.next().read_expr()):t},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}}});var Xd=Y((nL,Yd)=>{"use strict";Yd.exports={read_variable:function(n,t){let e;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,n,t));if(this.is([this.tok.T_VARIABLE,"$"]))e=this.read_reference_variable(t);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE])){e=this.node();let i=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(i.kind)===-1){let r=i.name.toLowerCase();r==="true"?e=i.destroy(e("boolean",!0,i.name)):r==="false"?e=i.destroy(e("boolean",!1,i.name)):r==="null"?e=i.destroy(e("nullkeyword",i.name)):(e.destroy(i),e=i)}else e.destroy(i),e=i}else if(this.token===this.tok.T_STATIC){e=this.node("staticreference");let i=this.text();this.next(),e=e(i)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(e=this.read_static_getter(e,t)),this.recursive_variable_chain_scan(e,n,t)},read_static_getter:function(n,t){let e=this.node("staticlookup"),i,r;return this.next().is([this.tok.T_VARIABLE,"$"])?i=this.read_reference_variable(t):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(i=this.node("identifier"),r=this.text(),this.next(),i=i(r)):this.token==="{"?(i=this.node("literal"),r=this.next().read_expr(),this.expect("}")&&this.next(),i=i("literal",r,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),i=this.node("identifier"),r=this.text(),this.next(),i=i(r)),e(n,i)},read_what:function(n=!1){let t=null,e=null;switch(this.next().token){case this.tok.T_STRING:t=this.node("identifier"),e=this.text(),this.next(),t=t(e),n&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:t=this.node("variable"),e=this.text().substring(1),this.next(),t=t(e,!1);break;case"$":t=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(e=this.next().read_expr(),this.expect("}")&&this.next(),t=t("variable",e,!0)):(e=this.read_expr(),t=t("variable",e,!1));break;case"{":t=this.node("encapsedpart"),e=this.next().read_expr(),this.expect("}")&&this.next(),t=t(e,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),t=this.node("identifier"),e=this.text(),this.next(),t=t(e);break}return t},recursive_variable_chain_scan:function(n,t,e){let i,r;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(t)return n;n=this.node("call")(n,this.read_argument_list());break;case"[":case"{":{let h=this.token==="[";i=this.node("offsetlookup"),this.next(),r=!1,e?(r=this.read_encaps_var_offset(),this.expect(h?"]":"}")&&this.next()):(h?this.token!=="]":this.token!=="}")?(r=this.read_expr(),this.expect(h?"]":"}")&&this.next()):this.next(),n=i(n,r);break}case this.tok.T_DOUBLE_COLON:n.kind==="staticlookup"&&n.offset.kind==="identifier"&&this.error(),i=this.node("staticlookup"),n=i(n,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:{i=this.node("propertylookup"),n=i(n,this.read_what());break}case this.tok.T_NULLSAFE_OBJECT_OPERATOR:{i=this.node("nullsafepropertylookup"),n=i(n,this.read_what());break}default:break t}return n},read_encaps_var_offset:function(){let n=this.node();if(this.token===this.tok.T_STRING){let t=this.text();this.next(),n=n("identifier",t)}else if(this.token===this.tok.T_NUM_STRING){let t=this.text();this.next(),n=n("number",t,null)}else if(this.token==="-"){this.next();let t=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),n=n("number",t,null)}else if(this.token===this.tok.T_VARIABLE){let t=this.text().substring(1);this.next(),n=n("variable",t,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);let t=this.text();this.next(),n=n("identifier",t)}return n},read_reference_variable:function(n){let t=this.read_simple_variable(),e;for(;this.token!=this.EOF;){let i=this.node();if(this.token=="{"&&!n)e=this.next().read_expr(),this.expect("}")&&this.next(),t=i("offsetlookup",t,e);else{i.destroy();break}}return t},read_simple_variable:function(){let n=this.node("variable"),t;if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)t=this.text().substring(1),this.next(),n=n(t,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":{let e=this.next().read_expr();this.expect("}")&&this.next(),n=n(e,!0);break}case"$":n=n(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:{t=this.text().substring(1);let e=this.node("variable");this.next(),n=n(e(t,!1),!1);break}default:this.error(["{","$",this.tok.T_VARIABLE]),t=this.text(),this.next(),n=n(t,!1)}return n}}});var Qd=Y((sL,Kd)=>{"use strict";var uD=nu();function ru(n){return n!="."&&n!=","&&!isNaN(parseFloat(n))&&isFinite(n)}var bi=function(n,t){this.lexer=n,this.ast=t,this.tok=n.tok,this.EOF=n.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=801,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;let e=function(i){return[i,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_ENUM,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_READ_ONLY,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(e)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(e)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(e)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(e)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(e)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(e)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(e))}};bi.prototype.getTokenName=function(n){return ru(n)?n==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[n]:"'"+n+"'"};bi.prototype.parse=function(n,t){this._errors=[],this.filename=t||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(n),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;let e=this.node("program"),i=[];for(this.next();this.token!=this.EOF;)i.push(this.read_start());i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];let r=e(i,this._errors,this._docs,this._tokens);if(this.debug){let a=this.ast.checkNodes();if(a.length>0)throw a.forEach(function(h){h.position&&console.log("Node at line "+h.position.line+", column "+h.position.column),console.log(h.stack.join(`
`))}),new Error("Some nodes are not closed")}return r};bi.prototype.raiseError=function(n,t,e,i){if(n+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){let a=new SyntaxError(n,this.filename,this.lexer.yylloc.first_line);throw a.lineNumber=this.lexer.yylloc.first_line,a.fileName=this.filename,a.columnNumber=this.lexer.yylloc.first_column,a}let r=this.ast.prepare("error",null,this)(n,i,this.lexer.yylloc.first_line,e);return this._errors.push(r),r};bi.prototype.error=function(n){let t="Parse Error : syntax error",e=this.getTokenName(this.token),i="";if(this.token!==this.EOF){if(ru(this.token)){let r=this.text();r.length>10&&(r=r.substring(0,7)+"..."),e="'"+r+"' ("+e+")"}t+=", unexpected "+e}return n&&!Array.isArray(n)&&((ru(n)||n.length===1)&&(i=", expecting "+this.getTokenName(n)),t+=i),this.raiseError(t,i,n,e)};bi.prototype.position=function(){return new uD(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)};bi.prototype.node=function(n){if(this.extractDoc){let t=null;this._docIndex<this._docs.length&&(t=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+n)),console.log(t)));let e=this.ast.prepare(n,t,this);return e.postBuild=function(i){if(this._docIndex<this._docs.length)if(this._lastNode){let r=this.prev[2],a=this._docIndex;for(;a<this._docs.length&&!(this._docs[a].offset>r);a++);a>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,a)),this._docIndex=a)}else this.token===this.EOF&&(i.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=i}.bind(this),e}return this.ast.prepare(n,null,this)};bi.prototype.expectEndOfStatement=function(n){if(this.token===";")n&&this.lexer.yytext===";"&&n.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var su=["parser.next","parser.node","parser.showlog"];bi.prototype.showlog=function(){let n=new Error().stack.split(`
`),t;for(let e=2;e<n.length;e++){t=n[e].trim();let i=!1;for(let r=0;r<su.length;r++)if(t.substring(3,3+su[r].length)===su[r]){i=!0;break}if(!i)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+t),this};bi.prototype.expect=function(n){if(Array.isArray(n)){if(n.indexOf(this.token)===-1)return this.error(n),!1}else if(this.token!=n)return this.error(n),!1;return!0};bi.prototype.text=function(){return this.lexer.yytext};bi.prototype.next=function(){if((this.token!==";"||this.lexer.yytext===";")&&(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this};bi.prototype.peek=function(){let n=this.lexer.getState(),t=this.lexer.lex();return this.lexer.setState(n),t};bi.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;let n=this.lexer.yytext;if(Object.prototype.hasOwnProperty.call(this.lexer.engine.tokens.values,this.token)?n=[this.lexer.engine.tokens.values[this.token],n,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:n=[null,n,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(n),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this};bi.prototype.is=function(n){return Array.isArray(n)?n.indexOf(this.token)!==-1:this.entries[n].has(this.token)};[xd(),Ed(),kd(),Cd(),Ad(),Dd(),Id(),Od(),Ld(),Rd(),Ud(),Vd(),Gd(),zd(),jd(),Xd()].forEach(function(n){for(let t in n){if(Object.prototype.hasOwnProperty.call(bi.prototype,t))throw new Error("Function "+t+" is already defined - collision");bi.prototype[t]=n[t]}});Kd.exports=bi});var tm=Y((rL,Zd)=>{"use strict";var $d={T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238,T_ENUM:239,T_READ_ONLY:240,T_NAME_RELATIVE:241,T_NAME_QUALIFIED:242,T_NAME_FULLY_QUALIFIED:243},lD={values:Object.entries($d).reduce((n,[t,e])=>({...n,[e]:t}),{}),names:$d};Zd.exports=Object.freeze(lD)});var im=Y((oL,em)=>{"use strict";var cD=function(n,t,e){this.source=n,this.start=t,this.end=e};em.exports=cD});var ci=Y((aL,nm)=>{"use strict";var Zr=function(t,e,i){this.kind=t,e&&(this.leadingComments=e),i&&(this.loc=i)};Zr.prototype.setTrailingComments=function(n){this.trailingComments=n};Zr.prototype.destroy=function(n){if(!n)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(n.leadingComments?n.leadingComments=Array.concat(this.leadingComments,n.leadingComments):n.leadingComments=this.leadingComments),this.trailingComments&&(n.trailingComments?n.trailingComments=Array.concat(this.trailingComments,n.trailingComments):n.trailingComments=this.trailingComments),n};Zr.prototype.includeToken=function(n){return this.loc&&(this.loc.end&&(this.loc.end.line=n.lexer.yylloc.last_line,this.loc.end.column=n.lexer.yylloc.last_column,this.loc.end.offset=n.lexer.offset),n.ast.withSource&&(this.loc.source=n.lexer._input.substring(this.loc.start.offset,n.lexer.offset))),this};Zr.extends=function(n,t){return t.prototype=Object.create(this.prototype),t.extends=this.extends,t.prototype.constructor=t,t.kind=n,t};nm.exports=Zr});var ye=Y((hL,om)=>{"use strict";var sm=ci(),rm="expression";om.exports=sm.extends(rm,function(t,e,i){sm.apply(this,[t||rm,e,i])})});var lm=Y((uL,um)=>{"use strict";var am=ye(),hm="array";um.exports=am.extends(hm,function(t,e,i,r){am.apply(this,[hm,i,r]),this.items=e,this.shortForm=t})});var dm=Y((lL,pm)=>{"use strict";var cm=ye(),fm="arrowfunc";pm.exports=cm.extends(fm,function(t,e,i,r,a,h,c,f){cm.apply(this,[fm,c,f]),this.arguments=t,this.byref=e,this.body=i,this.type=r,this.nullable=a,this.isStatic=h||!1})});var xm=Y((cL,_m)=>{"use strict";var mm=ye(),gm="assign";_m.exports=mm.extends(gm,function(t,e,i,r,a){mm.apply(this,[gm,r,a]),this.left=t,this.right=e,this.operator=i})});var km=Y((fL,ym)=>{"use strict";var vm=ye(),Em="assignref";ym.exports=vm.extends(Em,function(t,e,i,r){vm.apply(this,[Em,i,r]),this.left=t,this.right=e})});var Am=Y((pL,bm)=>{"use strict";var Tm=ci(),Cm="attribute";bm.exports=Tm.extends(Cm,function(t,e,i,r){Tm.apply(this,[Cm,i,r]),this.name=t,this.args=e})});var Im=Y((dL,Nm)=>{"use strict";var Sm=ci(),Dm="attrgroup";Nm.exports=Sm.extends(Dm,function(t,e,i){Sm.apply(this,[Dm,e,i]),this.attrs=t||[]})});var Js=Y((mL,wm)=>{"use strict";var Pm=ye(),Om="operation";wm.exports=Pm.extends(Om,function(t,e,i){Pm.apply(this,[t||Om,e,i])})});var Bm=Y((gL,Rm)=>{"use strict";var Lm=Js(),Fm="bin";Rm.exports=Lm.extends(Fm,function(t,e,i,r,a){Lm.apply(this,[Fm,r,a]),this.type=t,this.left=e,this.right=i})});var De=Y((_L,Hm)=>{"use strict";var Mm=ci(),Um="statement";Hm.exports=Mm.extends(Um,function(t,e,i){Mm.apply(this,[t||Um,e,i])})});var to=Y((xL,Gm)=>{"use strict";var Vm=De(),Wm="block";Gm.exports=Vm.extends(Wm,function(t,e,i,r){Vm.apply(this,[t||Wm,i,r]),this.children=e.filter(Boolean)})});var hs=Y((vL,Jm)=>{"use strict";var qm=ye(),zm="literal";Jm.exports=qm.extends(zm,function(t,e,i,r,a){qm.apply(this,[t||zm,r,a]),this.value=e,i&&(this.raw=i)})});var Km=Y((EL,Xm)=>{"use strict";var jm=hs(),Ym="boolean";Xm.exports=jm.extends(Ym,function(t,e,i,r){jm.apply(this,[Ym,t,e,i,r])})});var tg=Y((yL,Zm)=>{"use strict";var Qm=De(),$m="break";Zm.exports=Qm.extends($m,function(t,e,i){Qm.apply(this,[$m,e,i]),this.level=t})});var sg=Y((kL,ng)=>{"use strict";var eg=ye(),ig="byref";ng.exports=eg.extends(ig,function(t,e,i){eg.apply(this,[ig,e,i]),this.what=t})});var hg=Y((TL,ag)=>{"use strict";var rg=ye(),og="call";ag.exports=rg.extends(og,function(t,e,i,r){rg.apply(this,[og,i,r]),this.what=t,this.arguments=e})});var fg=Y((CL,cg)=>{"use strict";var ug=De(),lg="case";cg.exports=ug.extends(lg,function(t,e,i,r){ug.apply(this,[lg,i,r]),this.test=t,this.body=e})});var gg=Y((bL,mg)=>{"use strict";var pg=Js(),dg="cast";mg.exports=pg.extends(dg,function(t,e,i,r,a){pg.apply(this,[dg,r,a]),this.type=t,this.raw=e,this.expr=i})});var Eg=Y((AL,vg)=>{"use strict";var _g=De(),xg="catch";vg.exports=_g.extends(xg,function(t,e,i,r,a){_g.apply(this,[xg,r,a]),this.body=t,this.what=e,this.variable=i})});var Gn=Y((SL,Cg)=>{"use strict";var yg=De(),kg="declaration",fD="",pD="public",dD="protected",mD="private",Tg=yg.extends(kg,function(t,e,i,r){yg.apply(this,[t||kg,i,r]),this.name=e});Tg.prototype.parseFlags=function(n){this.isAbstract=n[2]===1,this.isFinal=n[2]===2,this.isReadonly=n[3]===1,this.kind!=="class"&&(n[0]===-1?this.visibility=fD:n[0]===null?this.visibility=null:n[0]===0?this.visibility=pD:n[0]===1?this.visibility=dD:n[0]===2&&(this.visibility=mD),this.isStatic=n[1]===1)};Cg.exports=Tg});var Dg=Y((DL,Sg)=>{"use strict";var bg=Gn(),Ag="class";Sg.exports=bg.extends(Ag,function(t,e,i,r,a,h,c){bg.apply(this,[Ag,t,h,c]),this.isAnonymous=!t,this.extends=e,this.implements=i,this.body=r,this.attrGroups=[],this.parseFlags(a)})});var ou=Y((NL,Pg)=>{"use strict";var Ng=De(),Ig="constantstatement";Pg.exports=Ng.extends(Ig,function(t,e,i,r){Ng.apply(this,[t||Ig,i,r]),this.constants=e})});var Rg=Y((IL,Fg)=>{"use strict";var Og=ou(),wg="classconstant",gD="",_D="public",xD="protected",vD="private",Lg=Og.extends(wg,function(t,e,i,r,a,h){Og.apply(this,[t||wg,e,a,h]),this.parseFlags(i),this.attrGroups=r});Lg.prototype.parseFlags=function(n){n[0]===-1?this.visibility=gD:n[0]===null?this.visibility=null:n[0]===0?this.visibility=_D:n[0]===1?this.visibility=xD:n[0]===2&&(this.visibility=vD)};Fg.exports=Lg});var Hg=Y((PL,Ug)=>{"use strict";var Bg=ye(),Mg="clone";Ug.exports=Bg.extends(Mg,function(t,e,i){Bg.apply(this,[Mg,e,i]),this.what=t})});var qg=Y((OL,Gg)=>{"use strict";var Vg=ye(),Wg="closure";Gg.exports=Vg.extends(Wg,function(t,e,i,r,a,h,c,f){Vg.apply(this,[Wg,c,f]),this.uses=i,this.arguments=t,this.byref=e,this.type=r,this.nullable=a,this.isStatic=h||!1,this.body=null,this.attrGroups=[]})});var Ia=Y((wL,Jg)=>{"use strict";var zg=ci();Jg.exports=zg.extends("comment",function(t,e,i,r){zg.apply(this,[t,i,r]),this.value=e})});var Kg=Y((LL,Xg)=>{"use strict";var jg=Ia(),Yg="commentblock";Xg.exports=jg.extends(Yg,function(t,e,i){jg.apply(this,[Yg,t,e,i])})});var t_=Y((FL,Zg)=>{"use strict";var Qg=Ia(),$g="commentline";Zg.exports=Qg.extends($g,function(t,e,i){Qg.apply(this,[$g,t,e,i])})});var s_=Y((RL,n_)=>{"use strict";var e_=ci(),i_="constant";n_.exports=e_.extends(i_,function(t,e,i,r){e_.apply(this,[i_,i,r]),this.name=t,this.value=e})});var h_=Y((BL,a_)=>{"use strict";var r_=De(),o_="continue";a_.exports=r_.extends(o_,function(t,e,i){r_.apply(this,[o_,e,i]),this.level=t})});var f_=Y((ML,c_)=>{"use strict";var u_=to(),l_="declare",Pa=u_.extends(l_,function(t,e,i,r,a){u_.apply(this,[l_,e,r,a]),this.directives=t,this.mode=i});Pa.MODE_SHORT="short";Pa.MODE_BLOCK="block";Pa.MODE_NONE="none";c_.exports=Pa});var g_=Y((UL,m_)=>{"use strict";var p_=ci(),d_="declaredirective";m_.exports=p_.extends(d_,function(t,e,i,r){p_.apply(this,[d_,i,r]),this.key=t,this.value=e})});var E_=Y((HL,v_)=>{"use strict";var __=De(),x_="do";v_.exports=__.extends(x_,function(t,e,i,r){__.apply(this,[x_,i,r]),this.test=t,this.body=e})});var C_=Y((VL,T_)=>{"use strict";var y_=De(),k_="echo";T_.exports=y_.extends(k_,function(t,e,i,r){y_.apply(this,[k_,i,r]),this.shortForm=e,this.expressions=t})});var D_=Y((WL,S_)=>{"use strict";var b_=ye(),A_="empty";S_.exports=b_.extends(A_,function(t,e,i){b_.apply(this,[A_,e,i]),this.expression=t})});var O_=Y((GL,P_)=>{"use strict";var N_=hs(),I_="encapsed",eo=N_.extends(I_,function(t,e,i,r,a){N_.apply(this,[I_,t,e,r,a]),this.type=i});eo.TYPE_STRING="string";eo.TYPE_SHELL="shell";eo.TYPE_HEREDOC="heredoc";eo.TYPE_OFFSET="offset";P_.exports=eo});var R_=Y((qL,F_)=>{"use strict";var w_=ye(),L_="encapsedpart";F_.exports=w_.extends(L_,function(t,e,i,r,a){w_.apply(this,[L_,r,a]),this.expression=t,this.syntax=e,this.curly=i})});var H_=Y((zL,U_)=>{"use strict";var B_=ye(),M_="entry";U_.exports=B_.extends(M_,function(t,e,i,r,a,h){B_.apply(this,[M_,a,h]),this.key=t,this.value=e,this.byRef=i,this.unpack=r})});var q_=Y((JL,G_)=>{"use strict";var V_=Gn(),W_="enum";G_.exports=V_.extends(W_,function(t,e,i,r,a,h){V_.apply(this,[W_,t,a,h]),this.valueType=e,this.implements=i,this.body=r,this.attrGroups=[]})});var Y_=Y((jL,j_)=>{"use strict";var z_=ci(),J_="enumcase";j_.exports=z_.extends(J_,function(t,e,i,r){z_.apply(this,[J_,i,r]),this.name=t,this.value=e})});var $_=Y((YL,Q_)=>{"use strict";var X_=ci(),K_="error";Q_.exports=X_.extends(K_,function(t,e,i,r,a,h){X_.apply(this,[K_,a,h]),this.message=t,this.token=e,this.line=i,this.expected=r})});var ix=Y((XL,ex)=>{"use strict";var Z_=ye(),tx="eval";ex.exports=Z_.extends(tx,function(t,e,i){Z_.apply(this,[tx,e,i]),this.source=t})});var ox=Y((KL,rx)=>{"use strict";var nx=ye(),sx="exit";rx.exports=nx.extends(sx,function(t,e,i,r){nx.apply(this,[sx,i,r]),this.expression=t,this.useDie=e})});var lx=Y((QL,ux)=>{"use strict";var ax=De(),hx="expressionstatement";ux.exports=ax.extends(hx,function(t,e,i){ax.apply(this,[hx,e,i]),this.expression=t})});var dx=Y(($L,px)=>{"use strict";var cx=De(),fx="for";px.exports=cx.extends(fx,function(t,e,i,r,a,h,c){cx.apply(this,[fx,h,c]),this.init=t,this.test=e,this.increment=i,this.shortForm=a,this.body=r})});var xx=Y((ZL,_x)=>{"use strict";var mx=De(),gx="foreach";_x.exports=mx.extends(gx,function(t,e,i,r,a,h,c){mx.apply(this,[gx,h,c]),this.source=t,this.key=e,this.value=i,this.shortForm=a,this.body=r})});var au=Y((tF,yx)=>{"use strict";var vx=Gn(),Ex="function";yx.exports=vx.extends(Ex,function(t,e,i,r,a,h,c){vx.apply(this,[Ex,t,h,c]),this.arguments=e,this.byref=i,this.type=r,this.nullable=a,this.body=null,this.attrGroups=[]})});var bx=Y((eF,Cx)=>{"use strict";var kx=De(),Tx="global";Cx.exports=kx.extends(Tx,function(t,e,i){kx.apply(this,[Tx,e,i]),this.items=t})});var Nx=Y((iF,Dx)=>{"use strict";var Ax=De(),Sx="goto";Dx.exports=Ax.extends(Sx,function(t,e,i){Ax.apply(this,[Sx,e,i]),this.label=t})});var wx=Y((nF,Ox)=>{"use strict";var Ix=De(),Px="halt";Ox.exports=Ix.extends(Px,function(t,e,i){Ix.apply(this,[Px,e,i]),this.after=t})});var Bx=Y((sF,Rx)=>{"use strict";var Lx=ci(),Fx="identifier",ED=Lx.extends(Fx,function(t,e,i){Lx.apply(this,[Fx,e,i]),this.name=t});Rx.exports=ED});var Vx=Y((rF,Hx)=>{"use strict";var Mx=De(),Ux="if";Hx.exports=Mx.extends(Ux,function(t,e,i,r,a,h){Mx.apply(this,[Ux,a,h]),this.test=t,this.body=e,this.alternate=i,this.shortForm=r})});var zx=Y((oF,qx)=>{"use strict";var Wx=ye(),Gx="include";qx.exports=Wx.extends(Gx,function(t,e,i,r,a){Wx.apply(this,[Gx,r,a]),this.once=t,this.require=e,this.target=i})});var Xx=Y((aF,Yx)=>{"use strict";var Jx=hs(),jx="inline";Yx.exports=Jx.extends(jx,function(t,e,i,r){Jx.apply(this,[jx,t,e,i,r])})});var Zx=Y((hF,$x)=>{"use strict";var Kx=Gn(),Qx="interface";$x.exports=Kx.extends(Qx,function(t,e,i,r,a,h){Kx.apply(this,[Qx,t,a,h]),this.extends=e,this.body=i,this.attrGroups=r})});var nv=Y((uF,iv)=>{"use strict";var tv=Gn(),ev="intersectiontype";iv.exports=tv.extends(ev,function(t,e,i){tv.apply(this,[ev,null,e,i]),this.types=t})});var av=Y((lF,ov)=>{"use strict";var sv=ye(),rv="isset";ov.exports=sv.extends(rv,function(t,e,i){sv.apply(this,[rv,e,i]),this.variables=t})});var cv=Y((cF,lv)=>{"use strict";var hv=De(),uv="label";lv.exports=hv.extends(uv,function(t,e,i){hv.apply(this,[uv,e,i]),this.name=t})});var mv=Y((fF,dv)=>{"use strict";var fv=ye(),pv="list";dv.exports=fv.extends(pv,function(t,e,i,r){fv.apply(this,[pv,i,r]),this.items=t,this.shortForm=e})});var kr=Y((pF,xv)=>{"use strict";var gv=ye(),_v="lookup";xv.exports=gv.extends(_v,function(t,e,i,r,a){gv.apply(this,[t||_v,r,a]),this.what=e,this.offset=i})});var kv=Y((dF,yv)=>{"use strict";var vv=hs(),Ev="magic";yv.exports=vv.extends(Ev,function(t,e,i,r){vv.apply(this,[Ev,t,e,i,r])})});var Av=Y((mF,bv)=>{"use strict";var Tv=ye(),Cv="match";bv.exports=Tv.extends(Cv,function(t,e,i,r){Tv.apply(this,[Cv,i,r]),this.cond=t,this.arms=e})});var Iv=Y((gF,Nv)=>{"use strict";var Sv=ye(),Dv="matcharm";Nv.exports=Sv.extends(Dv,function(t,e,i,r){Sv.apply(this,[Dv,i,r]),this.conds=t,this.body=e})});var Lv=Y((_F,wv)=>{"use strict";var Pv=au(),Ov="method";wv.exports=Pv.extends(Ov,function(){Pv.apply(this,arguments),this.kind=Ov})});var js=Y((xF,Bv)=>{"use strict";var Fv=ci(),Rv="reference",yD=Fv.extends(Rv,function(t,e,i){Fv.apply(this,[t||Rv,e,i])});Bv.exports=yD});var Vv=Y((vF,Hv)=>{"use strict";var Mv=js(),Uv="name",io=Mv.extends(Uv,function(t,e,i,r){Mv.apply(this,[Uv,i,r]),this.name=t.replace(/\\$/,""),this.resolution=e});io.UNQUALIFIED_NAME="uqn";io.QUALIFIED_NAME="qn";io.FULL_QUALIFIED_NAME="fqn";io.RELATIVE_NAME="rn";Hv.exports=io});var zv=Y((EF,qv)=>{"use strict";var Wv=to(),Gv="namespace";qv.exports=Wv.extends(Gv,function(t,e,i,r,a){Wv.apply(this,[Gv,e,r,a]),this.name=t,this.withBrackets=i||!1})});var Xv=Y((yF,Yv)=>{"use strict";var Jv=ye(),jv="namedargument";Yv.exports=Jv.extends(jv,function(t,e,i,r){Jv.apply(this,[jv,i,r]),this.name=t,this.value=e})});var Zv=Y((kF,$v)=>{"use strict";var Kv=ye(),Qv="new";$v.exports=Kv.extends(Qv,function(t,e,i,r){Kv.apply(this,[Qv,i,r]),this.what=t,this.arguments=e})});var nE=Y((TF,iE)=>{"use strict";var tE=ci(),eE="noop";iE.exports=tE.extends(eE,function(t,e){tE.apply(this,[eE,t,e])})});var aE=Y((CF,oE)=>{"use strict";var sE=hs(),rE="nowdoc";oE.exports=sE.extends(rE,function(t,e,i,r,a){sE.apply(this,[rE,t,e,r,a]),this.label=i})});var cE=Y((bF,lE)=>{"use strict";var hE=ci(),uE="nullkeyword";lE.exports=hE.extends(uE,function(t,e,i){hE.apply(this,[uE,e,i]),this.raw=t})});var mE=Y((AF,dE)=>{"use strict";var fE=kr(),pE="nullsafepropertylookup";dE.exports=fE.extends(pE,function(t,e,i,r){fE.apply(this,[pE,t,e,i,r])})});var vE=Y((SF,xE)=>{"use strict";var gE=hs(),_E="number";xE.exports=gE.extends(_E,function(t,e,i,r){gE.apply(this,[_E,t,e,i,r])})});var TE=Y((DF,kE)=>{"use strict";var EE=kr(),yE="offsetlookup";kE.exports=EE.extends(yE,function(t,e,i,r){EE.apply(this,[yE,t,e,i,r])})});var SE=Y((NF,AE)=>{"use strict";var CE=Gn(),bE="parameter";AE.exports=CE.extends(bE,function(t,e,i,r,a,h,c,f,x,d){CE.apply(this,[bE,t,x,d]),this.value=i,this.type=e,this.byref=r,this.variadic=a,this.readonly=h,this.nullable=c,this.flags=f||0,this.attrGroups=[]})});var PE=Y((IF,IE)=>{"use strict";var DE=js(),NE="parentreference",kD=DE.extends(NE,function(t,e,i){DE.apply(this,[NE,e,i]),this.raw=t});IE.exports=kD});var FE=Y((PF,LE)=>{"use strict";var OE=Js(),wE="post";LE.exports=OE.extends(wE,function(t,e,i,r){OE.apply(this,[wE,i,r]),this.type=t,this.what=e})});var UE=Y((OF,ME)=>{"use strict";var RE=Js(),BE="pre";ME.exports=RE.extends(BE,function(t,e,i,r){RE.apply(this,[BE,i,r]),this.type=t,this.what=e})});var GE=Y((wF,WE)=>{"use strict";var HE=ye(),VE="print";WE.exports=HE.extends(VE,function(t,e,i){HE.apply(this,[VE,e,i]),this.expression=t})});var jE=Y((LF,JE)=>{"use strict";var qE=to(),zE="program";JE.exports=qE.extends(zE,function(t,e,i,r,a,h){qE.apply(this,[zE,t,a,h]),this.errors=e,i&&(this.comments=i),r&&(this.tokens=r)})});var QE=Y((FF,KE)=>{"use strict";var YE=De(),XE="property";KE.exports=YE.extends(XE,function(t,e,i,r,a,h,c,f){YE.apply(this,[XE,c,f]),this.name=t,this.value=e,this.readonly=i,this.nullable=r,this.type=a,this.attrGroups=h})});var ey=Y((RF,ty)=>{"use strict";var $E=kr(),ZE="propertylookup";ty.exports=$E.extends(ZE,function(t,e,i,r){$E.apply(this,[ZE,t,e,i,r])})});var oy=Y((BF,ry)=>{"use strict";var iy=De(),ny="propertystatement",TD="",CD="public",bD="protected",AD="private",sy=iy.extends(ny,function(t,e,i,r,a){iy.apply(this,[ny,r,a]),this.properties=e,this.parseFlags(i)});sy.prototype.parseFlags=function(n){n[0]===-1?this.visibility=TD:n[0]===null?this.visibility=null:n[0]===0?this.visibility=CD:n[0]===1?this.visibility=bD:n[0]===2&&(this.visibility=AD),this.isStatic=n[1]===1};ry.exports=sy});var ly=Y((MF,uy)=>{"use strict";var ay=ye(),hy="retif";uy.exports=ay.extends(hy,function(t,e,i,r,a){ay.apply(this,[hy,r,a]),this.test=t,this.trueExpr=e,this.falseExpr=i})});var dy=Y((UF,py)=>{"use strict";var cy=De(),fy="return";py.exports=cy.extends(fy,function(t,e,i){cy.apply(this,[fy,e,i]),this.expr=t})});var xy=Y((HF,_y)=>{"use strict";var my=js(),gy="selfreference",SD=my.extends(gy,function(t,e,i){my.apply(this,[gy,e,i]),this.raw=t});_y.exports=SD});var ky=Y((VF,yy)=>{"use strict";var vy=ye(),Ey="silent";yy.exports=vy.extends(Ey,function(t,e,i){vy.apply(this,[Ey,e,i]),this.expr=t})});var Ay=Y((WF,by)=>{"use strict";var Ty=De(),Cy="static";by.exports=Ty.extends(Cy,function(t,e,i){Ty.apply(this,[Cy,e,i]),this.variables=t})});var Iy=Y((GF,Ny)=>{"use strict";var Sy=ci(),Dy="staticvariable";Ny.exports=Sy.extends(Dy,function(t,e,i,r){Sy.apply(this,[Dy,i,r]),this.variable=t,this.defaultValue=e})});var Ly=Y((qF,wy)=>{"use strict";var Py=kr(),Oy="staticlookup";wy.exports=Py.extends(Oy,function(t,e,i,r){Py.apply(this,[Oy,t,e,i,r])})});var My=Y((zF,By)=>{"use strict";var Fy=js(),Ry="staticreference",DD=Fy.extends(Ry,function(t,e,i){Fy.apply(this,[Ry,e,i]),this.raw=t});By.exports=DD});var Wy=Y((JF,Vy)=>{"use strict";var Uy=hs(),Hy="string";Vy.exports=Uy.extends(Hy,function(t,e,i,r,a,h){Uy.apply(this,[Hy,e,r,a,h]),this.unicode=i,this.isDoubleQuote=t})});var Jy=Y((jF,zy)=>{"use strict";var Gy=De(),qy="switch";zy.exports=Gy.extends(qy,function(t,e,i,r,a){Gy.apply(this,[qy,r,a]),this.test=t,this.body=e,this.shortForm=i})});var Ky=Y((YF,Xy)=>{"use strict";var jy=De(),Yy="throw";Xy.exports=jy.extends(Yy,function(t,e,i){jy.apply(this,[Yy,e,i]),this.what=t})});var tk=Y((XF,Zy)=>{"use strict";var Qy=Gn(),$y="trait";Zy.exports=Qy.extends($y,function(t,e,i,r){Qy.apply(this,[$y,t,i,r]),this.body=e})});var sk=Y((KF,nk)=>{"use strict";var ek=ci(),ik="traitalias",ND="",ID="public",PD="protected",OD="private";nk.exports=ek.extends(ik,function(t,e,i,r,a,h){ek.apply(this,[ik,a,h]),this.trait=t,this.method=e,this.as=i,this.visibility=ND,r&&(r[0]===0?this.visibility=ID:r[0]===1?this.visibility=PD:r[0]===2&&(this.visibility=OD))})});var hk=Y((QF,ak)=>{"use strict";var rk=ci(),ok="traitprecedence";ak.exports=rk.extends(ok,function(t,e,i,r,a){rk.apply(this,[ok,r,a]),this.trait=t,this.method=e,this.instead=i})});var fk=Y(($F,ck)=>{"use strict";var uk=ci(),lk="traituse";ck.exports=uk.extends(lk,function(t,e,i,r){uk.apply(this,[lk,i,r]),this.traits=t,this.adaptations=e})});var gk=Y((ZF,mk)=>{"use strict";var pk=De(),dk="try";mk.exports=pk.extends(dk,function(t,e,i,r,a){pk.apply(this,[dk,r,a]),this.body=t,this.catches=e,this.always=i})});var yk=Y((tR,Ek)=>{"use strict";var _k=js(),xk="typereference",vk=_k.extends(xk,function(t,e,i,r){_k.apply(this,[xk,i,r]),this.name=t,this.raw=e});vk.types=["int","float","string","bool","object","array","callable","iterable","void","static"];Ek.exports=vk});var bk=Y((eR,Ck)=>{"use strict";var kk=Js(),Tk="unary";Ck.exports=kk.extends(Tk,function(t,e,i,r){kk.apply(this,[Tk,i,r]),this.type=t,this.what=e})});var Nk=Y((iR,Dk)=>{"use strict";var Ak=Gn(),Sk="uniontype";Dk.exports=Ak.extends(Sk,function(t,e,i){Ak.apply(this,[Sk,null,e,i]),this.types=t})});var wk=Y((nR,Ok)=>{"use strict";var Ik=De(),Pk="unset";Ok.exports=Ik.extends(Pk,function(t,e,i){Ik.apply(this,[Pk,e,i]),this.variables=t})});var Bk=Y((sR,Rk)=>{"use strict";var Lk=De(),Fk="usegroup";Rk.exports=Lk.extends(Fk,function(t,e,i,r,a){Lk.apply(this,[Fk,r,a]),this.name=t,this.type=e,this.items=i})});var Vk=Y((rR,Hk)=>{"use strict";var Mk=De(),Uk="useitem",hu=Mk.extends(Uk,function(t,e,i,r,a){Mk.apply(this,[Uk,r,a]),this.name=t,this.alias=e,this.type=i});hu.TYPE_CONST="const";hu.TYPE_FUNCTION="function";Hk.exports=hu});var zk=Y((oR,qk)=>{"use strict";var Wk=ye(),Gk="variable";qk.exports=Wk.extends(Gk,function(t,e,i,r){Wk.apply(this,[Gk,i,r]),this.name=t,this.curly=e||!1})});var Xk=Y((aR,Yk)=>{"use strict";var Jk=ye(),jk="variadic";Yk.exports=Jk.extends(jk,function(t,e,i){Jk.apply(this,[jk,e,i]),this.what=t})});var Zk=Y((hR,$k)=>{"use strict";var Kk=ci(),Qk="variadicplaceholder";$k.exports=Kk.extends(Qk,function(t,e){Kk.apply(this,[Qk,t,e])})});var nT=Y((uR,iT)=>{"use strict";var tT=De(),eT="while";iT.exports=tT.extends(eT,function(t,e,i,r,a){tT.apply(this,[eT,r,a]),this.test=t,this.body=e,this.shortForm=i})});var aT=Y((lR,oT)=>{"use strict";var sT=ye(),rT="yield";oT.exports=sT.extends(rT,function(t,e,i,r){sT.apply(this,[rT,i,r]),this.value=t,this.key=e})});var cT=Y((cR,lT)=>{"use strict";var hT=ye(),uT="yieldfrom";lT.exports=hT.extends(uT,function(t,e,i){hT.apply(this,[uT,e,i]),this.value=t})});var pT=Y((fR,fT)=>{"use strict";var wD=im(),LD=nu(),Fi=function(n,t){this.withPositions=n,this.withSource=t};Fi.precedence={};[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(n,t){n.forEach(function(e){Fi.precedence[e]=t+1})});Fi.prototype.isRightAssociative=function(n){return n==="**"||n==="??"};Fi.prototype.swapLocations=function(n,t,e,i){this.withPositions&&(n.loc.start=t.loc.start,n.loc.end=e.loc.end,this.withSource&&(n.loc.source=i.lexer._input.substring(n.loc.start.offset,n.loc.end.offset)))};Fi.prototype.resolveLocations=function(n,t,e,i){this.withPositions&&(n.loc.start.offset>t.loc.start.offset&&(n.loc.start=t.loc.start),n.loc.end.offset<e.loc.end.offset&&(n.loc.end=e.loc.end),this.withSource&&(n.loc.source=i.lexer._input.substring(n.loc.start.offset,n.loc.end.offset)))};Fi.prototype.resolvePrecedence=function(n,t){let e,i,r;return n.kind==="call"?this.resolveLocations(n,n.what,n,t):n.kind==="propertylookup"||n.kind==="staticlookup"||n.kind==="offsetlookup"&&n.offset?this.resolveLocations(n,n.what,n.offset,t):n.kind==="bin"?n.right&&!n.right.parenthesizedExpression&&(n.right.kind==="bin"?(i=Fi.precedence[n.type],r=Fi.precedence[n.right.type],i&&r&&r<=i&&(n.type!==n.right.type||!this.isRightAssociative(n.type))&&(e=n.right,n.right=n.right.left,this.swapLocations(n,n.left,n.right,t),e.left=this.resolvePrecedence(n,t),this.swapLocations(e,e.left,e.right,t),n=e)):n.right.kind==="retif"&&(i=Fi.precedence[n.type],r=Fi.precedence["?"],i&&r&&r<=i&&(e=n.right,n.right=n.right.test,this.swapLocations(n,n.left,n.right,t),e.test=this.resolvePrecedence(n,t),this.swapLocations(e,e.test,e.falseExpr,t),n=e))):(n.kind==="silent"||n.kind==="cast")&&n.expr&&!n.expr.parenthesizedExpression?n.expr.kind==="bin"?(e=n.expr,n.expr=n.expr.left,this.swapLocations(n,n,n.expr,t),e.left=this.resolvePrecedence(n,t),this.swapLocations(e,e.left,e.right,t),n=e):n.expr.kind==="retif"&&(e=n.expr,n.expr=n.expr.test,this.swapLocations(n,n,n.expr,t),e.test=this.resolvePrecedence(n,t),this.swapLocations(e,e.test,e.falseExpr,t),n=e):n.kind==="unary"?n.what&&!n.what.parenthesizedExpression&&(n.what.kind==="bin"?(e=n.what,n.what=n.what.left,this.swapLocations(n,n,n.what,t),e.left=this.resolvePrecedence(n,t),this.swapLocations(e,e.left,e.right,t),n=e):n.what.kind==="retif"&&(e=n.what,n.what=n.what.test,this.swapLocations(n,n,n.what,t),e.test=this.resolvePrecedence(n,t),this.swapLocations(e,e.test,e.falseExpr,t),n=e)):n.kind==="retif"?n.falseExpr&&n.falseExpr.kind==="retif"&&!n.falseExpr.parenthesizedExpression&&(e=n.falseExpr,n.falseExpr=e.test,this.swapLocations(n,n.test,n.falseExpr,t),e.test=this.resolvePrecedence(n,t),this.swapLocations(e,e.test,e.falseExpr,t),n=e):n.kind==="assign"?n.right&&n.right.kind==="bin"&&!n.right.parenthesizedExpression&&(i=Fi.precedence["="],r=Fi.precedence[n.right.type],i&&r&&r<i&&(e=n.right,n.right=n.right.left,e.left=n,this.swapLocations(e,e.left,n.right,t),n=e)):n.kind==="expressionstatement"&&this.swapLocations(n,n.expression,n,t),n};Fi.prototype.prepare=function(n,t,e){let i=null;(this.withPositions||this.withSource)&&(i=e.position());let r=this,a=function(){let h=null,c=Array.prototype.slice.call(arguments);if(c.push(t),r.withPositions||r.withSource){let d=null;r.withSource&&(d=e.lexer._input.substring(i.offset,e.prev[2])),h=new wD(d,i,new LD(e.prev[0],e.prev[1],e.prev[2])),c.push(h)}n||(n=c.shift());let f=r[n];if(typeof f!="function")throw new Error('Undefined node "'+n+'"');let x=Object.create(f.prototype);return f.apply(x,c),a.instance=x,a.trailingComments&&(x.trailingComments=a.trailingComments),typeof a.postBuild=="function"&&a.postBuild(x),e.debug&&delete r.stack[a.stackUid],r.resolvePrecedence(x,e)};return e.debug&&(this.stack||(this.stack={},this.stackUid=1),this.stack[++this.stackUid]={position:i,stack:new Error().stack.split(`
`).slice(3,5)},a.stackUid=this.stackUid),a.setTrailingComments=function(h){a.instance?a.instance.setTrailingComments(h):a.trailingComments=h},a.destroy=function(h){t&&(h?h.leadingComments?h.leadingComments=t.concat(h.leadingComments):h.leadingComments=t:e._docIndex=e._docs.length-t.length),e.debug&&delete r.stack[a.stackUid]},a};Fi.prototype.checkNodes=function(){let n=[];for(let t in this.stack)Object.prototype.hasOwnProperty.call(this.stack,t)&&(this.stack[t].key=t,n.push(this.stack[t]));return this.stack={},n};[lm(),dm(),xm(),km(),Am(),Im(),Bm(),to(),Km(),tg(),sg(),hg(),fg(),gg(),Eg(),Dg(),Rg(),Hg(),qg(),Ia(),Kg(),t_(),s_(),ou(),h_(),Gn(),f_(),g_(),E_(),C_(),D_(),O_(),R_(),H_(),q_(),Y_(),$_(),ix(),ox(),ye(),lx(),dx(),xx(),au(),bx(),Nx(),wx(),Bx(),Vx(),zx(),Xx(),Zx(),nv(),av(),cv(),mv(),hs(),kr(),kv(),Av(),Iv(),Lv(),Vv(),zv(),Xv(),Zv(),ci(),nE(),aE(),cE(),mE(),vE(),TE(),Js(),SE(),PE(),FE(),UE(),GE(),jE(),QE(),ey(),oy(),js(),ly(),dy(),xy(),ky(),De(),Ay(),Iy(),Ly(),My(),Wy(),Jy(),Ky(),tk(),sk(),hk(),fk(),gk(),yk(),bk(),Nk(),wk(),Bk(),Vk(),zk(),Xk(),Zk(),nT(),aT(),cT()].forEach(function(n){Fi.prototype[n.kind]=n});fT.exports=Fi});var cu=Y((pR,us)=>{"use strict";var dT=md(),mT=Qd(),gT=tm(),_T=pT();function uu(n,t){let e=Object.keys(n),i=e.length;for(;i--;){let r=e[i],a=n[r];a===null?delete t[r]:typeof a=="function"?t[r]=a.bind(t):Array.isArray(a)?t[r]=Array.isArray(t[r])?t[r].concat(a):a:typeof a=="object"?t[r]=typeof t[r]=="object"?uu(a,t[r]):a:t[r]=a}return t}var tn=function(n){if(typeof this=="function")return new this(n);if(this.tokens=gT,this.lexer=new dT(this),this.ast=new _T,this.parser=new mT(this.lexer,this.ast),n&&typeof n=="object"){if(n.parser&&(n.lexer||(n.lexer={}),n.parser.version)){if(typeof n.parser.version=="string"){let t=n.parser.version.split(".");if(t=parseInt(t[0])*100+parseInt(t[1]),isNaN(t))throw new Error("Bad version number : "+n.parser.version);n.parser.version=t}else if(typeof n.parser.version!="number")throw new Error("Expecting a number for version");if(n.parser.version<500||n.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}uu(n,this),this.lexer.version=this.parser.version}},lu=function(n){return typeof n.write=="function"?n.toString():n};tn.create=function(n){return new tn(n)};tn.parseEval=function(n,t){return new tn(t).parseEval(n)};tn.prototype.parseEval=function(n){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,n=lu(n),this.parser.parse(n,"eval")};tn.parseCode=function(n,t,e){return typeof t=="object"&&!e&&(e=t,t="unknown"),new tn(e).parseCode(n,t)};tn.prototype.parseCode=function(n,t){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,n=lu(n),this.parser.parse(n,t)};tn.tokenGetAll=function(n,t){return new tn(t).tokenGetAll(n)};tn.prototype.tokenGetAll=function(n){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,n=lu(n);let t=this.lexer.EOF,e=this.tokens.values;this.lexer.setInput(n);let i=this.lexer.lex()||t,r=[];for(;i!=t;){let a=this.lexer.yytext;Object.prototype.hasOwnProperty.call(e,i)&&(a=[e[i],a,this.lexer.yylloc.first_line]),r.push(a),i=this.lexer.lex()||t}return r};us.exports=tn;us.exports.tokens=gT;us.exports.lexer=dT;us.exports.AST=_T;us.exports.parser=mT;us.exports.combine=uu;us.exports.Engine=tn;us.exports.default=tn});var xT,Oa,vT=Dt(()=>{"use strict";xT=Xi(cu()),Oa=class{constructor(){this.lastError=null}isValid(t,e=!0){let i=new xT.Engine({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}});try{e?i.parseEval(t):i.parseCode(t,"test.php")}catch(r){return r instanceof SyntaxError&&(this.lastError=r),!1}return this.lastError=null,!0}getLastError(){return this.lastError}}});var wa,ET=Dt(()=>{"use strict";wa=class{static printError(t,e){var c,f;let i=t.message+`

`,r=(f=(c=t.node)==null?void 0:c.startPosition)==null?void 0:f.line,a=r;e.forEach((x,d)=>{a=d});let h=a.toString().length;return e.forEach((x,d)=>{let k=d.toString(),_="",l=0;l=h-k.length,r==d?_=" >"+"0".repeat(l)+k+"| ":_="  "+"0".repeat(l)+k+"| ",i+=_+x+`
`}),i}}});var La,yT=Dt(()=>{"use strict";on();La=class{constructor(){this.filePath="";this.formattingOptions=null;this.transformOptions=null;this.htmlFormatter=null;this.phpFormatter=null;this.blockPhpFormatter=null;this.phpTagFormatter=null;this.jsonFormatter=null;this.preFormatter=null;this.removedAttributes=new Map}withRemovedAttributes(t){return this.removedAttributes=t,this}withTransformOptions(t){return this.transformOptions=t,this}withFilePath(t){return this.filePath=t,this}withFormattingOptions(t){return this.formattingOptions=t,this}withPreFormatter(t){return this.preFormatter=t,this}withHtmlFormatter(t){return this.htmlFormatter=t,this}withPhpFormatter(t){return this.phpFormatter=t,this}withBlockPhpFormatter(t){return this.blockPhpFormatter=t,this}withPhpTagFormatter(t){return this.phpTagFormatter=t,this}withJsonFormatter(t){return this.jsonFormatter=t,this}formatText(t){return this.formatDocument(fe.fromText(t))}formatDocument(t,e=null){if(this.preFormatter!=null){let a=this.preFormatter(t);if(a!=null)return a}if(this.htmlFormatter==null||t.isValid()==!1)return t.getOriginalContent();t.transform().withShadowDocument(e).withFilePath(this.filePath).withBlockPhpFormatter(this.blockPhpFormatter).withPhpFormatter(this.phpFormatter).withPhpTagFormatter(this.phpTagFormatter).withJsonFormatter(this.jsonFormatter).withRemovedAttributes(this.removedAttributes),t.transform().setFormattingOptions(this.formattingOptions),this.transformOptions!=null&&t.transform().withOptions(this.transformOptions);let i=t.transform().toStructure(),r=this.htmlFormatter(i);return t.transform().fromStructure(r)}}});var Fa,kT=Dt(()=>{"use strict";ET();yT();Ss();Fa=class extends La{constructor(t,e){super(),ka(t),this.withHtmlFormatter(Pp).withFilePath(t.filepath).withPhpFormatter(wp).withBlockPhpFormatter(Lp).withPhpTagFormatter(Fp).withJsonFormatter(Dp).withTransformOptions(e).withPreFormatter(i=>{var r,a,h;if(i.errors.hasStructureErrors()){let c=i.errors.getFirstStructureError(),f=i.getLinesAround((h=(a=(r=c.node)==null?void 0:r.startPosition)==null?void 0:a.line)!=null?h:1),x=wa.printError(c,f);throw new SyntaxError(x)}return null})}}});var TT=Y((no,fu)=>{(function(t,e){typeof no=="object"&&typeof fu=="object"?fu.exports=e():typeof define=="function"&&define.amd?define([],e):typeof no=="object"?no.esprima=e():t.esprima=e()})(no,function(){return function(n){var t={};function e(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return n[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}return e.m=n,e.c=t,e.p="",e(0)}([function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1),r=e(3),a=e(8),h=e(15);function c(_,l,p){var m=null,v=function(et,Q){p&&p(et,Q),m&&m.visit(et,Q)},C=typeof p=="function"?v:null,P=!1;if(l){P=typeof l.comment=="boolean"&&l.comment;var F=typeof l.attachComment=="boolean"&&l.attachComment;(P||F)&&(m=new i.CommentHandler,m.attach=F,l.comment=!0,C=v)}var L=!1;l&&typeof l.sourceType=="string"&&(L=l.sourceType==="module");var j;l&&typeof l.jsx=="boolean"&&l.jsx?j=new r.JSXParser(_,l,C):j=new a.Parser(_,l,C);var B=L?j.parseModule():j.parseScript(),J=B;return P&&m&&(J.comments=m.comments),j.config.tokens&&(J.tokens=j.tokens),j.config.tolerant&&(J.errors=j.errorHandler.errors),J}t.parse=c;function f(_,l,p){var m=l||{};return m.sourceType="module",c(_,m,p)}t.parseModule=f;function x(_,l,p){var m=l||{};return m.sourceType="script",c(_,m,p)}t.parseScript=x;function d(_,l,p){var m=new h.Tokenizer(_,l),v;v=[];try{for(;;){var C=m.getNextToken();if(!C)break;p&&(C=p(C)),v.push(C)}}catch(P){m.errorHandler.tolerate(P)}return m.errorHandler.tolerant&&(v.errors=m.errors()),v}t.tokenize=d;var k=e(2);t.Syntax=k.Syntax,t.version="4.0.1"},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(2),r=function(){function a(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return a.prototype.insertInnerComments=function(h,c){if(h.type===i.Syntax.BlockStatement&&h.body.length===0){for(var f=[],x=this.leading.length-1;x>=0;--x){var d=this.leading[x];c.end.offset>=d.start&&(f.unshift(d.comment),this.leading.splice(x,1),this.trailing.splice(x,1))}f.length&&(h.innerComments=f)}},a.prototype.findTrailingComments=function(h){var c=[];if(this.trailing.length>0){for(var f=this.trailing.length-1;f>=0;--f){var x=this.trailing[f];x.start>=h.end.offset&&c.unshift(x.comment)}return this.trailing.length=0,c}var d=this.stack[this.stack.length-1];if(d&&d.node.trailingComments){var k=d.node.trailingComments[0];k&&k.range[0]>=h.end.offset&&(c=d.node.trailingComments,delete d.node.trailingComments)}return c},a.prototype.findLeadingComments=function(h){for(var c=[],f;this.stack.length>0;){var x=this.stack[this.stack.length-1];if(x&&x.start>=h.start.offset)f=x.node,this.stack.pop();else break}if(f){for(var d=f.leadingComments?f.leadingComments.length:0,k=d-1;k>=0;--k){var _=f.leadingComments[k];_.range[1]<=h.start.offset&&(c.unshift(_),f.leadingComments.splice(k,1))}return f.leadingComments&&f.leadingComments.length===0&&delete f.leadingComments,c}for(var k=this.leading.length-1;k>=0;--k){var x=this.leading[k];x.start<=h.start.offset&&(c.unshift(x.comment),this.leading.splice(k,1))}return c},a.prototype.visitNode=function(h,c){if(!(h.type===i.Syntax.Program&&h.body.length>0)){this.insertInnerComments(h,c);var f=this.findTrailingComments(c),x=this.findLeadingComments(c);x.length>0&&(h.leadingComments=x),f.length>0&&(h.trailingComments=f),this.stack.push({node:h,start:c.start.offset})}},a.prototype.visitComment=function(h,c){var f=h.type[0]==="L"?"Line":"Block",x={type:f,value:h.value};if(h.range&&(x.range=h.range),h.loc&&(x.loc=h.loc),this.comments.push(x),this.attach){var d={comment:{type:f,value:h.value,range:[c.start.offset,c.end.offset]},start:c.start.offset};h.loc&&(d.comment.loc=h.loc),h.type=f,this.leading.push(d),this.trailing.push(d)}},a.prototype.visit=function(h,c){h.type==="LineComment"?this.visitComment(h,c):h.type==="BlockComment"?this.visitComment(h,c):this.attach&&this.visitNode(h,c)},a}();t.CommentHandler=r},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(n,t,e){"use strict";var i=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)m.hasOwnProperty(v)&&(p[v]=m[v])};return function(p,m){l(p,m);function v(){this.constructor=p}p.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=e(4),a=e(5),h=e(6),c=e(7),f=e(8),x=e(13),d=e(14);x.TokenName[100]="JSXIdentifier",x.TokenName[101]="JSXText";function k(l){var p;switch(l.type){case h.JSXSyntax.JSXIdentifier:var m=l;p=m.name;break;case h.JSXSyntax.JSXNamespacedName:var v=l;p=k(v.namespace)+":"+k(v.name);break;case h.JSXSyntax.JSXMemberExpression:var C=l;p=k(C.object)+"."+k(C.property);break;default:break}return p}var _=function(l){i(p,l);function p(m,v,C){return l.call(this,m,v,C)||this}return p.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():l.prototype.parsePrimaryExpression.call(this)},p.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},p.prototype.finishJSX=function(){this.nextToken()},p.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},p.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},p.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},p.prototype.scanXHTMLEntity=function(m){for(var v="&",C=!0,P=!1,F=!1,L=!1;!this.scanner.eof()&&C&&!P;){var j=this.scanner.source[this.scanner.index];if(j===m)break;if(P=j===";",v+=j,++this.scanner.index,!P)switch(v.length){case 2:F=j==="#";break;case 3:F&&(L=j==="x",C=L||r.Character.isDecimalDigit(j.charCodeAt(0)),F=F&&!L);break;default:C=C&&!(F&&!r.Character.isDecimalDigit(j.charCodeAt(0))),C=C&&!(L&&!r.Character.isHexDigit(j.charCodeAt(0)));break}}if(C&&P&&v.length>2){var B=v.substr(1,v.length-2);F&&B.length>1?v=String.fromCharCode(parseInt(B.substr(1),10)):L&&B.length>2?v=String.fromCharCode(parseInt("0"+B.substr(1),16)):!F&&!L&&d.XHTMLEntities[B]&&(v=d.XHTMLEntities[B])}return v},p.prototype.lexJSX=function(){var m=this.scanner.source.charCodeAt(this.scanner.index);if(m===60||m===62||m===47||m===58||m===61||m===123||m===125){var v=this.scanner.source[this.scanner.index++];return{type:7,value:v,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(m===34||m===39){for(var C=this.scanner.index,P=this.scanner.source[this.scanner.index++],F="";!this.scanner.eof();){var L=this.scanner.source[this.scanner.index++];if(L===P)break;L==="&"?F+=this.scanXHTMLEntity(P):F+=L}return{type:8,value:F,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(m===46){var j=this.scanner.source.charCodeAt(this.scanner.index+1),B=this.scanner.source.charCodeAt(this.scanner.index+2),v=j===46&&B===46?"...":".",C=this.scanner.index;return this.scanner.index+=v.length,{type:7,value:v,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(m===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(r.Character.isIdentifierStart(m)&&m!==92){var C=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var L=this.scanner.source.charCodeAt(this.scanner.index);if(r.Character.isIdentifierPart(L)&&L!==92)++this.scanner.index;else if(L===45)++this.scanner.index;else break}var J=this.scanner.source.slice(C,this.scanner.index);return{type:100,value:J,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}return this.scanner.lex()},p.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var m=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(m)),m},p.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var m=this.scanner.index,v="";!this.scanner.eof();){var C=this.scanner.source[this.scanner.index];if(C==="{"||C==="<")break;++this.scanner.index,v+=C,r.Character.isLineTerminator(C.charCodeAt(0))&&(++this.scanner.lineNumber,C==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var P={type:101,value:v,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:m,end:this.scanner.index};return v.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(P)),P},p.prototype.peekJSXToken=function(){var m=this.scanner.saveState();this.scanner.scanComments();var v=this.lexJSX();return this.scanner.restoreState(m),v},p.prototype.expectJSX=function(m){var v=this.nextJSXToken();(v.type!==7||v.value!==m)&&this.throwUnexpectedToken(v)},p.prototype.matchJSX=function(m){var v=this.peekJSXToken();return v.type===7&&v.value===m},p.prototype.parseJSXIdentifier=function(){var m=this.createJSXNode(),v=this.nextJSXToken();return v.type!==100&&this.throwUnexpectedToken(v),this.finalize(m,new a.JSXIdentifier(v.value))},p.prototype.parseJSXElementName=function(){var m=this.createJSXNode(),v=this.parseJSXIdentifier();if(this.matchJSX(":")){var C=v;this.expectJSX(":");var P=this.parseJSXIdentifier();v=this.finalize(m,new a.JSXNamespacedName(C,P))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var F=v;this.expectJSX(".");var L=this.parseJSXIdentifier();v=this.finalize(m,new a.JSXMemberExpression(F,L))}return v},p.prototype.parseJSXAttributeName=function(){var m=this.createJSXNode(),v,C=this.parseJSXIdentifier();if(this.matchJSX(":")){var P=C;this.expectJSX(":");var F=this.parseJSXIdentifier();v=this.finalize(m,new a.JSXNamespacedName(P,F))}else v=C;return v},p.prototype.parseJSXStringLiteralAttribute=function(){var m=this.createJSXNode(),v=this.nextJSXToken();v.type!==8&&this.throwUnexpectedToken(v);var C=this.getTokenRaw(v);return this.finalize(m,new c.Literal(v.value,C))},p.prototype.parseJSXExpressionAttribute=function(){var m=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var v=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(m,new a.JSXExpressionContainer(v))},p.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},p.prototype.parseJSXNameValueAttribute=function(){var m=this.createJSXNode(),v=this.parseJSXAttributeName(),C=null;return this.matchJSX("=")&&(this.expectJSX("="),C=this.parseJSXAttributeValue()),this.finalize(m,new a.JSXAttribute(v,C))},p.prototype.parseJSXSpreadAttribute=function(){var m=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var v=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(m,new a.JSXSpreadAttribute(v))},p.prototype.parseJSXAttributes=function(){for(var m=[];!this.matchJSX("/")&&!this.matchJSX(">");){var v=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();m.push(v)}return m},p.prototype.parseJSXOpeningElement=function(){var m=this.createJSXNode();this.expectJSX("<");var v=this.parseJSXElementName(),C=this.parseJSXAttributes(),P=this.matchJSX("/");return P&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(m,new a.JSXOpeningElement(v,P,C))},p.prototype.parseJSXBoundaryElement=function(){var m=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var v=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(m,new a.JSXClosingElement(v))}var C=this.parseJSXElementName(),P=this.parseJSXAttributes(),F=this.matchJSX("/");return F&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(m,new a.JSXOpeningElement(C,F,P))},p.prototype.parseJSXEmptyExpression=function(){var m=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(m,new a.JSXEmptyExpression)},p.prototype.parseJSXExpressionContainer=function(){var m=this.createJSXNode();this.expectJSX("{");var v;return this.matchJSX("}")?(v=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),v=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(m,new a.JSXExpressionContainer(v))},p.prototype.parseJSXChildren=function(){for(var m=[];!this.scanner.eof();){var v=this.createJSXChildNode(),C=this.nextJSXText();if(C.start<C.end){var P=this.getTokenRaw(C),F=this.finalize(v,new a.JSXText(C.value,P));m.push(F)}if(this.scanner.source[this.scanner.index]==="{"){var L=this.parseJSXExpressionContainer();m.push(L)}else break}return m},p.prototype.parseComplexJSXElement=function(m){for(var v=[];!this.scanner.eof();){m.children=m.children.concat(this.parseJSXChildren());var C=this.createJSXChildNode(),P=this.parseJSXBoundaryElement();if(P.type===h.JSXSyntax.JSXOpeningElement){var F=P;if(F.selfClosing){var L=this.finalize(C,new a.JSXElement(F,[],null));m.children.push(L)}else v.push(m),m={node:C,opening:F,closing:null,children:[]}}if(P.type===h.JSXSyntax.JSXClosingElement){m.closing=P;var j=k(m.opening.name),B=k(m.closing.name);if(j!==B&&this.tolerateError("Expected corresponding JSX closing tag for %0",j),v.length>0){var L=this.finalize(m.node,new a.JSXElement(m.opening,m.children,m.closing));m=v[v.length-1],m.children.push(L),v.pop()}else break}}return m},p.prototype.parseJSXElement=function(){var m=this.createJSXNode(),v=this.parseJSXOpeningElement(),C=[],P=null;if(!v.selfClosing){var F=this.parseComplexJSXElement({node:m,opening:v,closing:P,children:C});C=F.children,P=F.closing}return this.finalize(m,new a.JSXElement(v,C,P))},p.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var m=this.parseJSXElement();return this.finishJSX(),m},p.prototype.isStartOfExpression=function(){return l.prototype.isStartOfExpression.call(this)||this.match("<")},p}(f.Parser);t.JSXParser=_},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(i){return i<65536?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10))+String.fromCharCode(56320+(i-65536&1023))},isWhiteSpace:function(i){return i===32||i===9||i===11||i===12||i===160||i>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(i)>=0},isLineTerminator:function(i){return i===10||i===13||i===8232||i===8233},isIdentifierStart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i===92||i>=128&&e.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(i))},isIdentifierPart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i>=48&&i<=57||i===92||i>=128&&e.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(i))},isDecimalDigit:function(i){return i>=48&&i<=57},isHexDigit:function(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102},isOctalDigit:function(i){return i>=48&&i<=55}}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(6),r=function(){function m(v){this.type=i.JSXSyntax.JSXClosingElement,this.name=v}return m}();t.JSXClosingElement=r;var a=function(){function m(v,C,P){this.type=i.JSXSyntax.JSXElement,this.openingElement=v,this.children=C,this.closingElement=P}return m}();t.JSXElement=a;var h=function(){function m(){this.type=i.JSXSyntax.JSXEmptyExpression}return m}();t.JSXEmptyExpression=h;var c=function(){function m(v){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=v}return m}();t.JSXExpressionContainer=c;var f=function(){function m(v){this.type=i.JSXSyntax.JSXIdentifier,this.name=v}return m}();t.JSXIdentifier=f;var x=function(){function m(v,C){this.type=i.JSXSyntax.JSXMemberExpression,this.object=v,this.property=C}return m}();t.JSXMemberExpression=x;var d=function(){function m(v,C){this.type=i.JSXSyntax.JSXAttribute,this.name=v,this.value=C}return m}();t.JSXAttribute=d;var k=function(){function m(v,C){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=v,this.name=C}return m}();t.JSXNamespacedName=k;var _=function(){function m(v,C,P){this.type=i.JSXSyntax.JSXOpeningElement,this.name=v,this.selfClosing=C,this.attributes=P}return m}();t.JSXOpeningElement=_;var l=function(){function m(v){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=v}return m}();t.JSXSpreadAttribute=l;var p=function(){function m(v,C){this.type=i.JSXSyntax.JSXText,this.value=v,this.raw=C}return m}();t.JSXText=p},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(2),r=function(){function b(A){this.type=i.Syntax.ArrayExpression,this.elements=A}return b}();t.ArrayExpression=r;var a=function(){function b(A){this.type=i.Syntax.ArrayPattern,this.elements=A}return b}();t.ArrayPattern=a;var h=function(){function b(A,D,E){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=A,this.body=D,this.generator=!1,this.expression=E,this.async=!1}return b}();t.ArrowFunctionExpression=h;var c=function(){function b(A,D,E){this.type=i.Syntax.AssignmentExpression,this.operator=A,this.left=D,this.right=E}return b}();t.AssignmentExpression=c;var f=function(){function b(A,D){this.type=i.Syntax.AssignmentPattern,this.left=A,this.right=D}return b}();t.AssignmentPattern=f;var x=function(){function b(A,D,E){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=A,this.body=D,this.generator=!1,this.expression=E,this.async=!0}return b}();t.AsyncArrowFunctionExpression=x;var d=function(){function b(A,D,E){this.type=i.Syntax.FunctionDeclaration,this.id=A,this.params=D,this.body=E,this.generator=!1,this.expression=!1,this.async=!0}return b}();t.AsyncFunctionDeclaration=d;var k=function(){function b(A,D,E){this.type=i.Syntax.FunctionExpression,this.id=A,this.params=D,this.body=E,this.generator=!1,this.expression=!1,this.async=!0}return b}();t.AsyncFunctionExpression=k;var _=function(){function b(A){this.type=i.Syntax.AwaitExpression,this.argument=A}return b}();t.AwaitExpression=_;var l=function(){function b(A,D,E){var N=A==="||"||A==="&&";this.type=N?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=A,this.left=D,this.right=E}return b}();t.BinaryExpression=l;var p=function(){function b(A){this.type=i.Syntax.BlockStatement,this.body=A}return b}();t.BlockStatement=p;var m=function(){function b(A){this.type=i.Syntax.BreakStatement,this.label=A}return b}();t.BreakStatement=m;var v=function(){function b(A,D){this.type=i.Syntax.CallExpression,this.callee=A,this.arguments=D}return b}();t.CallExpression=v;var C=function(){function b(A,D){this.type=i.Syntax.CatchClause,this.param=A,this.body=D}return b}();t.CatchClause=C;var P=function(){function b(A){this.type=i.Syntax.ClassBody,this.body=A}return b}();t.ClassBody=P;var F=function(){function b(A,D,E){this.type=i.Syntax.ClassDeclaration,this.id=A,this.superClass=D,this.body=E}return b}();t.ClassDeclaration=F;var L=function(){function b(A,D,E){this.type=i.Syntax.ClassExpression,this.id=A,this.superClass=D,this.body=E}return b}();t.ClassExpression=L;var j=function(){function b(A,D){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=A,this.property=D}return b}();t.ComputedMemberExpression=j;var B=function(){function b(A,D,E){this.type=i.Syntax.ConditionalExpression,this.test=A,this.consequent=D,this.alternate=E}return b}();t.ConditionalExpression=B;var J=function(){function b(A){this.type=i.Syntax.ContinueStatement,this.label=A}return b}();t.ContinueStatement=J;var et=function(){function b(){this.type=i.Syntax.DebuggerStatement}return b}();t.DebuggerStatement=et;var Q=function(){function b(A,D){this.type=i.Syntax.ExpressionStatement,this.expression=A,this.directive=D}return b}();t.Directive=Q;var rt=function(){function b(A,D){this.type=i.Syntax.DoWhileStatement,this.body=A,this.test=D}return b}();t.DoWhileStatement=rt;var yt=function(){function b(){this.type=i.Syntax.EmptyStatement}return b}();t.EmptyStatement=yt;var Rt=function(){function b(A){this.type=i.Syntax.ExportAllDeclaration,this.source=A}return b}();t.ExportAllDeclaration=Rt;var Nt=function(){function b(A){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=A}return b}();t.ExportDefaultDeclaration=Nt;var Ct=function(){function b(A,D,E){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=A,this.specifiers=D,this.source=E}return b}();t.ExportNamedDeclaration=Ct;var Et=function(){function b(A,D){this.type=i.Syntax.ExportSpecifier,this.exported=D,this.local=A}return b}();t.ExportSpecifier=Et;var vt=function(){function b(A){this.type=i.Syntax.ExpressionStatement,this.expression=A}return b}();t.ExpressionStatement=vt;var dt=function(){function b(A,D,E){this.type=i.Syntax.ForInStatement,this.left=A,this.right=D,this.body=E,this.each=!1}return b}();t.ForInStatement=dt;var ct=function(){function b(A,D,E){this.type=i.Syntax.ForOfStatement,this.left=A,this.right=D,this.body=E}return b}();t.ForOfStatement=ct;var ee=function(){function b(A,D,E,N){this.type=i.Syntax.ForStatement,this.init=A,this.test=D,this.update=E,this.body=N}return b}();t.ForStatement=ee;var It=function(){function b(A,D,E,N){this.type=i.Syntax.FunctionDeclaration,this.id=A,this.params=D,this.body=E,this.generator=N,this.expression=!1,this.async=!1}return b}();t.FunctionDeclaration=It;var Qt=function(){function b(A,D,E,N){this.type=i.Syntax.FunctionExpression,this.id=A,this.params=D,this.body=E,this.generator=N,this.expression=!1,this.async=!1}return b}();t.FunctionExpression=Qt;var me=function(){function b(A){this.type=i.Syntax.Identifier,this.name=A}return b}();t.Identifier=me;var V=function(){function b(A,D,E){this.type=i.Syntax.IfStatement,this.test=A,this.consequent=D,this.alternate=E}return b}();t.IfStatement=V;var W=function(){function b(A,D){this.type=i.Syntax.ImportDeclaration,this.specifiers=A,this.source=D}return b}();t.ImportDeclaration=W;var ot=function(){function b(A){this.type=i.Syntax.ImportDefaultSpecifier,this.local=A}return b}();t.ImportDefaultSpecifier=ot;var kt=function(){function b(A){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=A}return b}();t.ImportNamespaceSpecifier=kt;var qt=function(){function b(A,D){this.type=i.Syntax.ImportSpecifier,this.local=A,this.imported=D}return b}();t.ImportSpecifier=qt;var at=function(){function b(A,D){this.type=i.Syntax.LabeledStatement,this.label=A,this.body=D}return b}();t.LabeledStatement=at;var q=function(){function b(A,D){this.type=i.Syntax.Literal,this.value=A,this.raw=D}return b}();t.Literal=q;var K=function(){function b(A,D){this.type=i.Syntax.MetaProperty,this.meta=A,this.property=D}return b}();t.MetaProperty=K;var z=function(){function b(A,D,E,N,R){this.type=i.Syntax.MethodDefinition,this.key=A,this.computed=D,this.value=E,this.kind=N,this.static=R}return b}();t.MethodDefinition=z;var st=function(){function b(A){this.type=i.Syntax.Program,this.body=A,this.sourceType="module"}return b}();t.Module=st;var ft=function(){function b(A,D){this.type=i.Syntax.NewExpression,this.callee=A,this.arguments=D}return b}();t.NewExpression=ft;var ht=function(){function b(A){this.type=i.Syntax.ObjectExpression,this.properties=A}return b}();t.ObjectExpression=ht;var $=function(){function b(A){this.type=i.Syntax.ObjectPattern,this.properties=A}return b}();t.ObjectPattern=$;var pt=function(){function b(A,D,E,N,R,G){this.type=i.Syntax.Property,this.key=D,this.computed=E,this.value=N,this.kind=A,this.method=R,this.shorthand=G}return b}();t.Property=pt;var Pt=function(){function b(A,D,E,N){this.type=i.Syntax.Literal,this.value=A,this.raw=D,this.regex={pattern:E,flags:N}}return b}();t.RegexLiteral=Pt;var Yt=function(){function b(A){this.type=i.Syntax.RestElement,this.argument=A}return b}();t.RestElement=Yt;var xt=function(){function b(A){this.type=i.Syntax.ReturnStatement,this.argument=A}return b}();t.ReturnStatement=xt;var wt=function(){function b(A){this.type=i.Syntax.Program,this.body=A,this.sourceType="script"}return b}();t.Script=wt;var it=function(){function b(A){this.type=i.Syntax.SequenceExpression,this.expressions=A}return b}();t.SequenceExpression=it;var te=function(){function b(A){this.type=i.Syntax.SpreadElement,this.argument=A}return b}();t.SpreadElement=te;var Bt=function(){function b(A,D){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=A,this.property=D}return b}();t.StaticMemberExpression=Bt;var Qe=function(){function b(){this.type=i.Syntax.Super}return b}();t.Super=Qe;var Ai=function(){function b(A,D){this.type=i.Syntax.SwitchCase,this.test=A,this.consequent=D}return b}();t.SwitchCase=Ai;var ii=function(){function b(A,D){this.type=i.Syntax.SwitchStatement,this.discriminant=A,this.cases=D}return b}();t.SwitchStatement=ii;var je=function(){function b(A,D){this.type=i.Syntax.TaggedTemplateExpression,this.tag=A,this.quasi=D}return b}();t.TaggedTemplateExpression=je;var $e=function(){function b(A,D){this.type=i.Syntax.TemplateElement,this.value=A,this.tail=D}return b}();t.TemplateElement=$e;var en=function(){function b(A,D){this.type=i.Syntax.TemplateLiteral,this.quasis=A,this.expressions=D}return b}();t.TemplateLiteral=en;var un=function(){function b(){this.type=i.Syntax.ThisExpression}return b}();t.ThisExpression=un;var qn=function(){function b(A){this.type=i.Syntax.ThrowStatement,this.argument=A}return b}();t.ThrowStatement=qn;var Tt=function(){function b(A,D,E){this.type=i.Syntax.TryStatement,this.block=A,this.handler=D,this.finalizer=E}return b}();t.TryStatement=Tt;var ls=function(){function b(A,D){this.type=i.Syntax.UnaryExpression,this.operator=A,this.argument=D,this.prefix=!0}return b}();t.UnaryExpression=ls;var zn=function(){function b(A,D,E){this.type=i.Syntax.UpdateExpression,this.operator=A,this.argument=D,this.prefix=E}return b}();t.UpdateExpression=zn;var We=function(){function b(A,D){this.type=i.Syntax.VariableDeclaration,this.declarations=A,this.kind=D}return b}();t.VariableDeclaration=We;var Jn=function(){function b(A,D){this.type=i.Syntax.VariableDeclarator,this.id=A,this.init=D}return b}();t.VariableDeclarator=Jn;var Si=function(){function b(A,D){this.type=i.Syntax.WhileStatement,this.test=A,this.body=D}return b}();t.WhileStatement=Si;var Ot=function(){function b(A,D){this.type=i.Syntax.WithStatement,this.object=A,this.body=D}return b}();t.WithStatement=Ot;var I=function(){function b(A,D){this.type=i.Syntax.YieldExpression,this.argument=A,this.delegate=D}return b}();t.YieldExpression=I},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(9),r=e(10),a=e(11),h=e(7),c=e(12),f=e(2),x=e(13),d="ArrowParameterPlaceHolder",k=function(){function _(l,p,m){p===void 0&&(p={}),this.config={range:typeof p.range=="boolean"&&p.range,loc:typeof p.loc=="boolean"&&p.loc,source:null,tokens:typeof p.tokens=="boolean"&&p.tokens,comment:typeof p.comment=="boolean"&&p.comment,tolerant:typeof p.tolerant=="boolean"&&p.tolerant},this.config.loc&&p.source&&p.source!==null&&(this.config.source=String(p.source)),this.delegate=m,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new c.Scanner(l,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return _.prototype.throwError=function(l){for(var p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];var v=Array.prototype.slice.call(arguments,1),C=l.replace(/%(\d)/g,function(j,B){return i.assert(B<v.length,"Message reference must be in range"),v[B]}),P=this.lastMarker.index,F=this.lastMarker.line,L=this.lastMarker.column+1;throw this.errorHandler.createError(P,F,L,C)},_.prototype.tolerateError=function(l){for(var p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];var v=Array.prototype.slice.call(arguments,1),C=l.replace(/%(\d)/g,function(j,B){return i.assert(B<v.length,"Message reference must be in range"),v[B]}),P=this.lastMarker.index,F=this.scanner.lineNumber,L=this.lastMarker.column+1;this.errorHandler.tolerateError(P,F,L,C)},_.prototype.unexpectedTokenError=function(l,p){var m=p||a.Messages.UnexpectedToken,v;if(l?(p||(m=l.type===2?a.Messages.UnexpectedEOS:l.type===3?a.Messages.UnexpectedIdentifier:l.type===6?a.Messages.UnexpectedNumber:l.type===8?a.Messages.UnexpectedString:l.type===10?a.Messages.UnexpectedTemplate:a.Messages.UnexpectedToken,l.type===4&&(this.scanner.isFutureReservedWord(l.value)?m=a.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(l.value)&&(m=a.Messages.StrictReservedWord))),v=l.value):v="ILLEGAL",m=m.replace("%0",v),l&&typeof l.lineNumber=="number"){var C=l.start,P=l.lineNumber,F=this.lastMarker.index-this.lastMarker.column,L=l.start-F+1;return this.errorHandler.createError(C,P,L,m)}else{var C=this.lastMarker.index,P=this.lastMarker.line,L=this.lastMarker.column+1;return this.errorHandler.createError(C,P,L,m)}},_.prototype.throwUnexpectedToken=function(l,p){throw this.unexpectedTokenError(l,p)},_.prototype.tolerateUnexpectedToken=function(l,p){this.errorHandler.tolerate(this.unexpectedTokenError(l,p))},_.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var l=this.scanner.scanComments();if(l.length>0&&this.delegate)for(var p=0;p<l.length;++p){var m=l[p],v=void 0;v={type:m.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(m.slice[0],m.slice[1])},this.config.range&&(v.range=m.range),this.config.loc&&(v.loc=m.loc);var C={start:{line:m.loc.start.line,column:m.loc.start.column,offset:m.range[0]},end:{line:m.loc.end.line,column:m.loc.end.column,offset:m.range[1]}};this.delegate(v,C)}}},_.prototype.getTokenRaw=function(l){return this.scanner.source.slice(l.start,l.end)},_.prototype.convertToken=function(l){var p={type:x.TokenName[l.type],value:this.getTokenRaw(l)};if(this.config.range&&(p.range=[l.start,l.end]),this.config.loc&&(p.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),l.type===9){var m=l.pattern,v=l.flags;p.regex={pattern:m,flags:v}}return p},_.prototype.nextToken=function(){var l=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var p=this.scanner.lex();return this.hasLineTerminator=l.lineNumber!==p.lineNumber,p&&this.context.strict&&p.type===3&&this.scanner.isStrictModeReservedWord(p.value)&&(p.type=4),this.lookahead=p,this.config.tokens&&p.type!==2&&this.tokens.push(this.convertToken(p)),l},_.prototype.nextRegexToken=function(){this.collectComments();var l=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(l))),this.lookahead=l,this.nextToken(),l},_.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},_.prototype.startNode=function(l,p){p===void 0&&(p=0);var m=l.start-l.lineStart,v=l.lineNumber;return m<0&&(m+=p,v--),{index:l.start,line:v,column:m}},_.prototype.finalize=function(l,p){if(this.config.range&&(p.range=[l.index,this.lastMarker.index]),this.config.loc&&(p.loc={start:{line:l.line,column:l.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(p.loc.source=this.config.source)),this.delegate){var m={start:{line:l.line,column:l.column,offset:l.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(p,m)}return p},_.prototype.expect=function(l){var p=this.nextToken();(p.type!==7||p.value!==l)&&this.throwUnexpectedToken(p)},_.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var l=this.lookahead;l.type===7&&l.value===","?this.nextToken():l.type===7&&l.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(l)):this.tolerateUnexpectedToken(l,a.Messages.UnexpectedToken)}else this.expect(",")},_.prototype.expectKeyword=function(l){var p=this.nextToken();(p.type!==4||p.value!==l)&&this.throwUnexpectedToken(p)},_.prototype.match=function(l){return this.lookahead.type===7&&this.lookahead.value===l},_.prototype.matchKeyword=function(l){return this.lookahead.type===4&&this.lookahead.value===l},_.prototype.matchContextualKeyword=function(l){return this.lookahead.type===3&&this.lookahead.value===l},_.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var l=this.lookahead.value;return l==="="||l==="*="||l==="**="||l==="/="||l==="%="||l==="+="||l==="-="||l==="<<="||l===">>="||l===">>>="||l==="&="||l==="^="||l==="|="},_.prototype.isolateCoverGrammar=function(l){var p=this.context.isBindingElement,m=this.context.isAssignmentTarget,v=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=l.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=p,this.context.isAssignmentTarget=m,this.context.firstCoverInitializedNameError=v,C},_.prototype.inheritCoverGrammar=function(l){var p=this.context.isBindingElement,m=this.context.isAssignmentTarget,v=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=l.call(this);return this.context.isBindingElement=this.context.isBindingElement&&p,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&m,this.context.firstCoverInitializedNameError=v||this.context.firstCoverInitializedNameError,C},_.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},_.prototype.parsePrimaryExpression=function(){var l=this.createNode(),p,m,v;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),p=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(l,new h.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,a.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),v=this.getTokenRaw(m),p=this.finalize(l,new h.Literal(m.value,v));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),v=this.getTokenRaw(m),p=this.finalize(l,new h.Literal(m.value==="true",v));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),v=this.getTokenRaw(m),p=this.finalize(l,new h.Literal(null,v));break;case 10:p=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,p=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":p=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":p=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,m=this.nextRegexToken(),v=this.getTokenRaw(m),p=this.finalize(l,new h.RegexLiteral(m.regex,v,m.pattern,m.flags));break;default:p=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?p=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?p=this.finalize(l,new h.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?p=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),p=this.finalize(l,new h.ThisExpression)):this.matchKeyword("class")?p=this.parseClassExpression():p=this.throwUnexpectedToken(this.nextToken()));break;default:p=this.throwUnexpectedToken(this.nextToken())}return p},_.prototype.parseSpreadElement=function(){var l=this.createNode();this.expect("...");var p=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(l,new h.SpreadElement(p))},_.prototype.parseArrayInitializer=function(){var l=this.createNode(),p=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),p.push(null);else if(this.match("...")){var m=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),p.push(m)}else p.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(l,new h.ArrayExpression(p))},_.prototype.parsePropertyMethod=function(l){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var p=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=l.simple;var v=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&l.firstRestricted&&this.tolerateUnexpectedToken(l.firstRestricted,l.message),this.context.strict&&l.stricted&&this.tolerateUnexpectedToken(l.stricted,l.message),this.context.strict=p,this.context.allowStrictDirective=m,v},_.prototype.parsePropertyMethodFunction=function(){var l=!1,p=this.createNode(),m=this.context.allowYield;this.context.allowYield=!0;var v=this.parseFormalParameters(),C=this.parsePropertyMethod(v);return this.context.allowYield=m,this.finalize(p,new h.FunctionExpression(null,v.params,C,l))},_.prototype.parsePropertyMethodAsyncFunction=function(){var l=this.createNode(),p=this.context.allowYield,m=this.context.await;this.context.allowYield=!1,this.context.await=!0;var v=this.parseFormalParameters(),C=this.parsePropertyMethod(v);return this.context.allowYield=p,this.context.await=m,this.finalize(l,new h.AsyncFunctionExpression(null,v.params,C))},_.prototype.parseObjectPropertyKey=function(){var l=this.createNode(),p=this.nextToken(),m;switch(p.type){case 8:case 6:this.context.strict&&p.octal&&this.tolerateUnexpectedToken(p,a.Messages.StrictOctalLiteral);var v=this.getTokenRaw(p);m=this.finalize(l,new h.Literal(p.value,v));break;case 3:case 1:case 5:case 4:m=this.finalize(l,new h.Identifier(p.value));break;case 7:p.value==="["?(m=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):m=this.throwUnexpectedToken(p);break;default:m=this.throwUnexpectedToken(p)}return m},_.prototype.isPropertyKey=function(l,p){return l.type===f.Syntax.Identifier&&l.name===p||l.type===f.Syntax.Literal&&l.value===p},_.prototype.parseObjectProperty=function(l){var p=this.createNode(),m=this.lookahead,v,C=null,P=null,F=!1,L=!1,j=!1,B=!1;if(m.type===3){var J=m.value;this.nextToken(),F=this.match("["),B=!this.hasLineTerminator&&J==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),C=B?this.parseObjectPropertyKey():this.finalize(p,new h.Identifier(J))}else this.match("*")?this.nextToken():(F=this.match("["),C=this.parseObjectPropertyKey());var et=this.qualifiedPropertyName(this.lookahead);if(m.type===3&&!B&&m.value==="get"&&et)v="get",F=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,P=this.parseGetterMethod();else if(m.type===3&&!B&&m.value==="set"&&et)v="set",F=this.match("["),C=this.parseObjectPropertyKey(),P=this.parseSetterMethod();else if(m.type===7&&m.value==="*"&&et)v="init",F=this.match("["),C=this.parseObjectPropertyKey(),P=this.parseGeneratorMethod(),L=!0;else if(C||this.throwUnexpectedToken(this.lookahead),v="init",this.match(":")&&!B)!F&&this.isPropertyKey(C,"__proto__")&&(l.value&&this.tolerateError(a.Messages.DuplicateProtoProperty),l.value=!0),this.nextToken(),P=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))P=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),L=!0;else if(m.type===3){var J=this.finalize(p,new h.Identifier(m.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),j=!0;var Q=this.isolateCoverGrammar(this.parseAssignmentExpression);P=this.finalize(p,new h.AssignmentPattern(J,Q))}else j=!0,P=J}else this.throwUnexpectedToken(this.nextToken());return this.finalize(p,new h.Property(v,C,F,P,L,j))},_.prototype.parseObjectInitializer=function(){var l=this.createNode();this.expect("{");for(var p=[],m={value:!1};!this.match("}");)p.push(this.parseObjectProperty(m)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(l,new h.ObjectExpression(p))},_.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var l=this.createNode(),p=this.nextToken(),m=p.value,v=p.cooked;return this.finalize(l,new h.TemplateElement({raw:m,cooked:v},p.tail))},_.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var l=this.createNode(),p=this.nextToken(),m=p.value,v=p.cooked;return this.finalize(l,new h.TemplateElement({raw:m,cooked:v},p.tail))},_.prototype.parseTemplateLiteral=function(){var l=this.createNode(),p=[],m=[],v=this.parseTemplateHead();for(m.push(v);!v.tail;)p.push(this.parseExpression()),v=this.parseTemplateElement(),m.push(v);return this.finalize(l,new h.TemplateLiteral(m,p))},_.prototype.reinterpretExpressionAsPattern=function(l){switch(l.type){case f.Syntax.Identifier:case f.Syntax.MemberExpression:case f.Syntax.RestElement:case f.Syntax.AssignmentPattern:break;case f.Syntax.SpreadElement:l.type=f.Syntax.RestElement,this.reinterpretExpressionAsPattern(l.argument);break;case f.Syntax.ArrayExpression:l.type=f.Syntax.ArrayPattern;for(var p=0;p<l.elements.length;p++)l.elements[p]!==null&&this.reinterpretExpressionAsPattern(l.elements[p]);break;case f.Syntax.ObjectExpression:l.type=f.Syntax.ObjectPattern;for(var p=0;p<l.properties.length;p++)this.reinterpretExpressionAsPattern(l.properties[p].value);break;case f.Syntax.AssignmentExpression:l.type=f.Syntax.AssignmentPattern,delete l.operator,this.reinterpretExpressionAsPattern(l.left);break;default:break}},_.prototype.parseGroupExpression=function(){var l;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),l={type:d,params:[],async:!1};else{var p=this.lookahead,m=[];if(this.match("..."))l=this.parseRestElement(m),this.expect(")"),this.match("=>")||this.expect("=>"),l={type:d,params:[l],async:!1};else{var v=!1;if(this.context.isBindingElement=!0,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var C=[];for(this.context.isAssignmentTarget=!1,C.push(l);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var P=0;P<C.length;P++)this.reinterpretExpressionAsPattern(C[P]);v=!0,l={type:d,params:C,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),C.push(this.parseRestElement(m)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var P=0;P<C.length;P++)this.reinterpretExpressionAsPattern(C[P]);v=!0,l={type:d,params:C,async:!1}}else C.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(v)break}v||(l=this.finalize(this.startNode(p),new h.SequenceExpression(C)))}if(!v){if(this.expect(")"),this.match("=>")&&(l.type===f.Syntax.Identifier&&l.name==="yield"&&(v=!0,l={type:d,params:[l],async:!1}),!v)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),l.type===f.Syntax.SequenceExpression)for(var P=0;P<l.expressions.length;P++)this.reinterpretExpressionAsPattern(l.expressions[P]);else this.reinterpretExpressionAsPattern(l);var F=l.type===f.Syntax.SequenceExpression?l.expressions:[l];l={type:d,params:F,async:!1}}this.context.isBindingElement=!1}}}return l},_.prototype.parseArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var p=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(l.push(p),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},_.prototype.isIdentifierName=function(l){return l.type===3||l.type===4||l.type===1||l.type===5},_.prototype.parseIdentifierName=function(){var l=this.createNode(),p=this.nextToken();return this.isIdentifierName(p)||this.throwUnexpectedToken(p),this.finalize(l,new h.Identifier(p.value))},_.prototype.parseNewExpression=function(){var l=this.createNode(),p=this.parseIdentifierName();i.assert(p.name==="new","New expression must start with `new`");var m;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var v=this.parseIdentifierName();m=new h.MetaProperty(p,v)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),P=this.match("(")?this.parseArguments():[];m=new h.NewExpression(C,P),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(l,m)},_.prototype.parseAsyncArgument=function(){var l=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,l},_.prototype.parseAsyncArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var p=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(l.push(p),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},_.prototype.parseLeftHandSideExpressionAllowCall=function(){var l=this.lookahead,p=this.matchContextualKeyword("async"),m=this.context.allowIn;this.context.allowIn=!0;var v;for(this.matchKeyword("super")&&this.context.inFunctionBody?(v=this.createNode(),this.nextToken(),v=this.finalize(v,new h.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):v=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var C=this.parseIdentifierName();v=this.finalize(this.startNode(l),new h.StaticMemberExpression(v,C))}else if(this.match("(")){var P=p&&l.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var F=P?this.parseAsyncArguments():this.parseArguments();if(v=this.finalize(this.startNode(l),new h.CallExpression(v,F)),P&&this.match("=>")){for(var L=0;L<F.length;++L)this.reinterpretExpressionAsPattern(F[L]);v={type:d,params:F,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var C=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),v=this.finalize(this.startNode(l),new h.ComputedMemberExpression(v,C))}else if(this.lookahead.type===10&&this.lookahead.head){var j=this.parseTemplateLiteral();v=this.finalize(this.startNode(l),new h.TaggedTemplateExpression(v,j))}else break;return this.context.allowIn=m,v},_.prototype.parseSuper=function(){var l=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(l,new h.Super)},_.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var l=this.startNode(this.lookahead),p=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var m=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),p=this.finalize(l,new h.ComputedMemberExpression(p,m))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var m=this.parseIdentifierName();p=this.finalize(l,new h.StaticMemberExpression(p,m))}else if(this.lookahead.type===10&&this.lookahead.head){var v=this.parseTemplateLiteral();p=this.finalize(l,new h.TaggedTemplateExpression(p,v))}else break;return p},_.prototype.parseUpdateExpression=function(){var l,p=this.lookahead;if(this.match("++")||this.match("--")){var m=this.startNode(p),v=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&l.type===f.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(a.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment);var C=!0;l=this.finalize(m,new h.UpdateExpression(v.value,l,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(l=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&l.type===f.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(a.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var P=this.nextToken().value,C=!1;l=this.finalize(this.startNode(p),new h.UpdateExpression(P,l,C))}return l},_.prototype.parseAwaitExpression=function(){var l=this.createNode();this.nextToken();var p=this.parseUnaryExpression();return this.finalize(l,new h.AwaitExpression(p))},_.prototype.parseUnaryExpression=function(){var l;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var p=this.startNode(this.lookahead),m=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),l=this.finalize(p,new h.UnaryExpression(m.value,l)),this.context.strict&&l.operator==="delete"&&l.argument.type===f.Syntax.Identifier&&this.tolerateError(a.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?l=this.parseAwaitExpression():l=this.parseUpdateExpression();return l},_.prototype.parseExponentiationExpression=function(){var l=this.lookahead,p=this.inheritCoverGrammar(this.parseUnaryExpression);if(p.type!==f.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var m=p,v=this.isolateCoverGrammar(this.parseExponentiationExpression);p=this.finalize(this.startNode(l),new h.BinaryExpression("**",m,v))}return p},_.prototype.binaryPrecedence=function(l){var p=l.value,m;return l.type===7?m=this.operatorPrecedence[p]||0:l.type===4?m=p==="instanceof"||this.context.allowIn&&p==="in"?7:0:m=0,m},_.prototype.parseBinaryExpression=function(){var l=this.lookahead,p=this.inheritCoverGrammar(this.parseExponentiationExpression),m=this.lookahead,v=this.binaryPrecedence(m);if(v>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var C=[l,this.lookahead],P=p,F=this.isolateCoverGrammar(this.parseExponentiationExpression),L=[P,m.value,F],j=[v];v=this.binaryPrecedence(this.lookahead),!(v<=0);){for(;L.length>2&&v<=j[j.length-1];){F=L.pop();var B=L.pop();j.pop(),P=L.pop(),C.pop();var J=this.startNode(C[C.length-1]);L.push(this.finalize(J,new h.BinaryExpression(B,P,F)))}L.push(this.nextToken().value),j.push(v),C.push(this.lookahead),L.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var et=L.length-1;p=L[et];for(var Q=C.pop();et>1;){var rt=C.pop(),yt=Q&&Q.lineStart,J=this.startNode(rt,yt),B=L[et-1];p=this.finalize(J,new h.BinaryExpression(B,L[et-2],p)),et-=2,Q=rt}}return p},_.prototype.parseConditionalExpression=function(){var l=this.lookahead,p=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var m=this.context.allowIn;this.context.allowIn=!0;var v=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=m,this.expect(":");var C=this.isolateCoverGrammar(this.parseAssignmentExpression);p=this.finalize(this.startNode(l),new h.ConditionalExpression(p,v,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return p},_.prototype.checkPatternParam=function(l,p){switch(p.type){case f.Syntax.Identifier:this.validateParam(l,p,p.name);break;case f.Syntax.RestElement:this.checkPatternParam(l,p.argument);break;case f.Syntax.AssignmentPattern:this.checkPatternParam(l,p.left);break;case f.Syntax.ArrayPattern:for(var m=0;m<p.elements.length;m++)p.elements[m]!==null&&this.checkPatternParam(l,p.elements[m]);break;case f.Syntax.ObjectPattern:for(var m=0;m<p.properties.length;m++)this.checkPatternParam(l,p.properties[m].value);break;default:break}l.simple=l.simple&&p instanceof h.Identifier},_.prototype.reinterpretAsCoverFormalsList=function(l){var p=[l],m,v=!1;switch(l.type){case f.Syntax.Identifier:break;case d:p=l.params,v=l.async;break;default:return null}m={simple:!0,paramSet:{}};for(var C=0;C<p.length;++C){var P=p[C];P.type===f.Syntax.AssignmentPattern?P.right.type===f.Syntax.YieldExpression&&(P.right.argument&&this.throwUnexpectedToken(this.lookahead),P.right.type=f.Syntax.Identifier,P.right.name="yield",delete P.right.argument,delete P.right.delegate):v&&P.type===f.Syntax.Identifier&&P.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(m,P),p[C]=P}if(this.context.strict||!this.context.allowYield)for(var C=0;C<p.length;++C){var P=p[C];P.type===f.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(m.message===a.Messages.StrictParamDupe){var F=this.context.strict?m.stricted:m.firstRestricted;this.throwUnexpectedToken(F,m.message)}return{simple:m.simple,params:p,stricted:m.stricted,firstRestricted:m.firstRestricted,message:m.message}},_.prototype.parseAssignmentExpression=function(){var l;if(!this.context.allowYield&&this.matchKeyword("yield"))l=this.parseYieldExpression();else{var p=this.lookahead,m=p;if(l=this.parseConditionalExpression(),m.type===3&&m.lineNumber===this.lookahead.lineNumber&&m.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var v=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(v),l={type:d,params:[v],async:!0}}if(l.type===d||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=l.async,P=this.reinterpretAsCoverFormalsList(l);if(P){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var F=this.context.strict,L=this.context.allowStrictDirective;this.context.allowStrictDirective=P.simple;var j=this.context.allowYield,B=this.context.await;this.context.allowYield=!0,this.context.await=C;var J=this.startNode(p);this.expect("=>");var et=void 0;if(this.match("{")){var Q=this.context.allowIn;this.context.allowIn=!0,et=this.parseFunctionSourceElements(),this.context.allowIn=Q}else et=this.isolateCoverGrammar(this.parseAssignmentExpression);var rt=et.type!==f.Syntax.BlockStatement;this.context.strict&&P.firstRestricted&&this.throwUnexpectedToken(P.firstRestricted,P.message),this.context.strict&&P.stricted&&this.tolerateUnexpectedToken(P.stricted,P.message),l=C?this.finalize(J,new h.AsyncArrowFunctionExpression(P.params,et,rt)):this.finalize(J,new h.ArrowFunctionExpression(P.params,et,rt)),this.context.strict=F,this.context.allowStrictDirective=L,this.context.allowYield=j,this.context.await=B}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment),this.context.strict&&l.type===f.Syntax.Identifier){var yt=l;this.scanner.isRestrictedWord(yt.name)&&this.tolerateUnexpectedToken(m,a.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(yt.name)&&this.tolerateUnexpectedToken(m,a.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(l):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),m=this.nextToken();var Rt=m.value,Nt=this.isolateCoverGrammar(this.parseAssignmentExpression);l=this.finalize(this.startNode(p),new h.AssignmentExpression(Rt,l,Nt)),this.context.firstCoverInitializedNameError=null}}return l},_.prototype.parseExpression=function(){var l=this.lookahead,p=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var m=[];for(m.push(p);this.lookahead.type!==2&&this.match(",");)this.nextToken(),m.push(this.isolateCoverGrammar(this.parseAssignmentExpression));p=this.finalize(this.startNode(l),new h.SequenceExpression(m))}return p},_.prototype.parseStatementListItem=function(){var l;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,a.Messages.IllegalExportDeclaration),l=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,a.Messages.IllegalImportDeclaration),l=this.parseImportDeclaration();break;case"const":l=this.parseLexicalDeclaration({inFor:!1});break;case"function":l=this.parseFunctionDeclaration();break;case"class":l=this.parseClassDeclaration();break;case"let":l=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:l=this.parseStatement();break}else l=this.parseStatement();return l},_.prototype.parseBlock=function(){var l=this.createNode();this.expect("{");for(var p=[];!this.match("}");)p.push(this.parseStatementListItem());return this.expect("}"),this.finalize(l,new h.BlockStatement(p))},_.prototype.parseLexicalBinding=function(l,p){var m=this.createNode(),v=[],C=this.parsePattern(v,l);this.context.strict&&C.type===f.Syntax.Identifier&&this.scanner.isRestrictedWord(C.name)&&this.tolerateError(a.Messages.StrictVarName);var P=null;return l==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),P=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(a.Messages.DeclarationMissingInitializer,"const")):(!p.inFor&&C.type!==f.Syntax.Identifier||this.match("="))&&(this.expect("="),P=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(m,new h.VariableDeclarator(C,P))},_.prototype.parseBindingList=function(l,p){for(var m=[this.parseLexicalBinding(l,p)];this.match(",");)this.nextToken(),m.push(this.parseLexicalBinding(l,p));return m},_.prototype.isLexicalDeclaration=function(){var l=this.scanner.saveState();this.scanner.scanComments();var p=this.scanner.lex();return this.scanner.restoreState(l),p.type===3||p.type===7&&p.value==="["||p.type===7&&p.value==="{"||p.type===4&&p.value==="let"||p.type===4&&p.value==="yield"},_.prototype.parseLexicalDeclaration=function(l){var p=this.createNode(),m=this.nextToken().value;i.assert(m==="let"||m==="const","Lexical declaration must be either let or const");var v=this.parseBindingList(m,l);return this.consumeSemicolon(),this.finalize(p,new h.VariableDeclaration(v,m))},_.prototype.parseBindingRestElement=function(l,p){var m=this.createNode();this.expect("...");var v=this.parsePattern(l,p);return this.finalize(m,new h.RestElement(v))},_.prototype.parseArrayPattern=function(l,p){var m=this.createNode();this.expect("[");for(var v=[];!this.match("]");)if(this.match(","))this.nextToken(),v.push(null);else{if(this.match("...")){v.push(this.parseBindingRestElement(l,p));break}else v.push(this.parsePatternWithDefault(l,p));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(m,new h.ArrayPattern(v))},_.prototype.parsePropertyPattern=function(l,p){var m=this.createNode(),v=!1,C=!1,P=!1,F,L;if(this.lookahead.type===3){var j=this.lookahead;F=this.parseVariableIdentifier();var B=this.finalize(m,new h.Identifier(j.value));if(this.match("=")){l.push(j),C=!0,this.nextToken();var J=this.parseAssignmentExpression();L=this.finalize(this.startNode(j),new h.AssignmentPattern(B,J))}else this.match(":")?(this.expect(":"),L=this.parsePatternWithDefault(l,p)):(l.push(j),C=!0,L=B)}else v=this.match("["),F=this.parseObjectPropertyKey(),this.expect(":"),L=this.parsePatternWithDefault(l,p);return this.finalize(m,new h.Property("init",F,v,L,P,C))},_.prototype.parseObjectPattern=function(l,p){var m=this.createNode(),v=[];for(this.expect("{");!this.match("}");)v.push(this.parsePropertyPattern(l,p)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(m,new h.ObjectPattern(v))},_.prototype.parsePattern=function(l,p){var m;return this.match("[")?m=this.parseArrayPattern(l,p):this.match("{")?m=this.parseObjectPattern(l,p):(this.matchKeyword("let")&&(p==="const"||p==="let")&&this.tolerateUnexpectedToken(this.lookahead,a.Messages.LetInLexicalBinding),l.push(this.lookahead),m=this.parseVariableIdentifier(p)),m},_.prototype.parsePatternWithDefault=function(l,p){var m=this.lookahead,v=this.parsePattern(l,p);if(this.match("=")){this.nextToken();var C=this.context.allowYield;this.context.allowYield=!0;var P=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=C,v=this.finalize(this.startNode(m),new h.AssignmentPattern(v,P))}return v},_.prototype.parseVariableIdentifier=function(l){var p=this.createNode(),m=this.nextToken();return m.type===4&&m.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(m,a.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(m):m.type!==3?this.context.strict&&m.type===4&&this.scanner.isStrictModeReservedWord(m.value)?this.tolerateUnexpectedToken(m,a.Messages.StrictReservedWord):(this.context.strict||m.value!=="let"||l!=="var")&&this.throwUnexpectedToken(m):(this.context.isModule||this.context.await)&&m.type===3&&m.value==="await"&&this.tolerateUnexpectedToken(m),this.finalize(p,new h.Identifier(m.value))},_.prototype.parseVariableDeclaration=function(l){var p=this.createNode(),m=[],v=this.parsePattern(m,"var");this.context.strict&&v.type===f.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(a.Messages.StrictVarName);var C=null;return this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):v.type!==f.Syntax.Identifier&&!l.inFor&&this.expect("="),this.finalize(p,new h.VariableDeclarator(v,C))},_.prototype.parseVariableDeclarationList=function(l){var p={inFor:l.inFor},m=[];for(m.push(this.parseVariableDeclaration(p));this.match(",");)this.nextToken(),m.push(this.parseVariableDeclaration(p));return m},_.prototype.parseVariableStatement=function(){var l=this.createNode();this.expectKeyword("var");var p=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(l,new h.VariableDeclaration(p,"var"))},_.prototype.parseEmptyStatement=function(){var l=this.createNode();return this.expect(";"),this.finalize(l,new h.EmptyStatement)},_.prototype.parseExpressionStatement=function(){var l=this.createNode(),p=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new h.ExpressionStatement(p))},_.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(a.Messages.StrictFunction),this.parseStatement()},_.prototype.parseIfStatement=function(){var l=this.createNode(),p,m=null;this.expectKeyword("if"),this.expect("(");var v=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),p=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),p=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),m=this.parseIfClause())),this.finalize(l,new h.IfStatement(v,p,m))},_.prototype.parseDoWhileStatement=function(){var l=this.createNode();this.expectKeyword("do");var p=this.context.inIteration;this.context.inIteration=!0;var m=this.parseStatement();this.context.inIteration=p,this.expectKeyword("while"),this.expect("(");var v=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(l,new h.DoWhileStatement(m,v))},_.prototype.parseWhileStatement=function(){var l=this.createNode(),p;this.expectKeyword("while"),this.expect("(");var m=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),p=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,p=this.parseStatement(),this.context.inIteration=v}return this.finalize(l,new h.WhileStatement(m,p))},_.prototype.parseForStatement=function(){var l=null,p=null,m=null,v=!0,C,P,F=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){l=this.createNode(),this.nextToken();var L=this.context.allowIn;this.context.allowIn=!1;var j=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=L,j.length===1&&this.matchKeyword("in")){var B=j[0];B.init&&(B.id.type===f.Syntax.ArrayPattern||B.id.type===f.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(a.Messages.ForInOfLoopInitializer,"for-in"),l=this.finalize(l,new h.VariableDeclaration(j,"var")),this.nextToken(),C=l,P=this.parseExpression(),l=null}else j.length===1&&j[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new h.VariableDeclaration(j,"var")),this.nextToken(),C=l,P=this.parseAssignmentExpression(),l=null,v=!1):(l=this.finalize(l,new h.VariableDeclaration(j,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){l=this.createNode();var J=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")l=this.finalize(l,new h.Identifier(J)),this.nextToken(),C=l,P=this.parseExpression(),l=null;else{var L=this.context.allowIn;this.context.allowIn=!1;var j=this.parseBindingList(J,{inFor:!0});this.context.allowIn=L,j.length===1&&j[0].init===null&&this.matchKeyword("in")?(l=this.finalize(l,new h.VariableDeclaration(j,J)),this.nextToken(),C=l,P=this.parseExpression(),l=null):j.length===1&&j[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new h.VariableDeclaration(j,J)),this.nextToken(),C=l,P=this.parseAssignmentExpression(),l=null,v=!1):(this.consumeSemicolon(),l=this.finalize(l,new h.VariableDeclaration(j,J)))}}else{var et=this.lookahead,L=this.context.allowIn;if(this.context.allowIn=!1,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=L,this.matchKeyword("in"))(!this.context.isAssignmentTarget||l.type===f.Syntax.AssignmentExpression)&&this.tolerateError(a.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(l),C=l,P=this.parseExpression(),l=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||l.type===f.Syntax.AssignmentExpression)&&this.tolerateError(a.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(l),C=l,P=this.parseAssignmentExpression(),l=null,v=!1;else{if(this.match(",")){for(var Q=[l];this.match(",");)this.nextToken(),Q.push(this.isolateCoverGrammar(this.parseAssignmentExpression));l=this.finalize(this.startNode(et),new h.SequenceExpression(Q))}this.expect(";")}}typeof C>"u"&&(this.match(";")||(p=this.parseExpression()),this.expect(";"),this.match(")")||(m=this.parseExpression()));var rt;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),rt=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var yt=this.context.inIteration;this.context.inIteration=!0,rt=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=yt}return typeof C>"u"?this.finalize(F,new h.ForStatement(l,p,m,rt)):v?this.finalize(F,new h.ForInStatement(C,P,rt)):this.finalize(F,new h.ForOfStatement(C,P,rt))},_.prototype.parseContinueStatement=function(){var l=this.createNode();this.expectKeyword("continue");var p=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var m=this.parseVariableIdentifier();p=m;var v="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,v)||this.throwError(a.Messages.UnknownLabel,m.name)}return this.consumeSemicolon(),p===null&&!this.context.inIteration&&this.throwError(a.Messages.IllegalContinue),this.finalize(l,new h.ContinueStatement(p))},_.prototype.parseBreakStatement=function(){var l=this.createNode();this.expectKeyword("break");var p=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var m=this.parseVariableIdentifier(),v="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,v)||this.throwError(a.Messages.UnknownLabel,m.name),p=m}return this.consumeSemicolon(),p===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(a.Messages.IllegalBreak),this.finalize(l,new h.BreakStatement(p))},_.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(a.Messages.IllegalReturn);var l=this.createNode();this.expectKeyword("return");var p=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,m=p?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(l,new h.ReturnStatement(m))},_.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(a.Messages.StrictModeWith);var l=this.createNode(),p;this.expectKeyword("with"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),p=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),p=this.parseStatement()),this.finalize(l,new h.WithStatement(m,p))},_.prototype.parseSwitchCase=function(){var l=this.createNode(),p;this.matchKeyword("default")?(this.nextToken(),p=null):(this.expectKeyword("case"),p=this.parseExpression()),this.expect(":");for(var m=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)m.push(this.parseStatementListItem());return this.finalize(l,new h.SwitchCase(p,m))},_.prototype.parseSwitchStatement=function(){var l=this.createNode();this.expectKeyword("switch"),this.expect("(");var p=this.parseExpression();this.expect(")");var m=this.context.inSwitch;this.context.inSwitch=!0;var v=[],C=!1;for(this.expect("{");!this.match("}");){var P=this.parseSwitchCase();P.test===null&&(C&&this.throwError(a.Messages.MultipleDefaultsInSwitch),C=!0),v.push(P)}return this.expect("}"),this.context.inSwitch=m,this.finalize(l,new h.SwitchStatement(p,v))},_.prototype.parseLabelledStatement=function(){var l=this.createNode(),p=this.parseExpression(),m;if(p.type===f.Syntax.Identifier&&this.match(":")){this.nextToken();var v=p,C="$"+v.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)&&this.throwError(a.Messages.Redeclaration,"Label",v.name),this.context.labelSet[C]=!0;var P=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),P=this.parseClassDeclaration();else if(this.matchKeyword("function")){var F=this.lookahead,L=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(F,a.Messages.StrictFunction):L.generator&&this.tolerateUnexpectedToken(F,a.Messages.GeneratorInLegacyContext),P=L}else P=this.parseStatement();delete this.context.labelSet[C],m=new h.LabeledStatement(v,P)}else this.consumeSemicolon(),m=new h.ExpressionStatement(p);return this.finalize(l,m)},_.prototype.parseThrowStatement=function(){var l=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(a.Messages.NewlineAfterThrow);var p=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new h.ThrowStatement(p))},_.prototype.parseCatchClause=function(){var l=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var p=[],m=this.parsePattern(p),v={},C=0;C<p.length;C++){var P="$"+p[C].value;Object.prototype.hasOwnProperty.call(v,P)&&this.tolerateError(a.Messages.DuplicateBinding,p[C].value),v[P]=!0}this.context.strict&&m.type===f.Syntax.Identifier&&this.scanner.isRestrictedWord(m.name)&&this.tolerateError(a.Messages.StrictCatchVariable),this.expect(")");var F=this.parseBlock();return this.finalize(l,new h.CatchClause(m,F))},_.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},_.prototype.parseTryStatement=function(){var l=this.createNode();this.expectKeyword("try");var p=this.parseBlock(),m=this.matchKeyword("catch")?this.parseCatchClause():null,v=this.matchKeyword("finally")?this.parseFinallyClause():null;return!m&&!v&&this.throwError(a.Messages.NoCatchOrFinally),this.finalize(l,new h.TryStatement(p,m,v))},_.prototype.parseDebuggerStatement=function(){var l=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(l,new h.DebuggerStatement)},_.prototype.parseStatement=function(){var l;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:l=this.parseExpressionStatement();break;case 7:var p=this.lookahead.value;p==="{"?l=this.parseBlock():p==="("?l=this.parseExpressionStatement():p===";"?l=this.parseEmptyStatement():l=this.parseExpressionStatement();break;case 3:l=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":l=this.parseBreakStatement();break;case"continue":l=this.parseContinueStatement();break;case"debugger":l=this.parseDebuggerStatement();break;case"do":l=this.parseDoWhileStatement();break;case"for":l=this.parseForStatement();break;case"function":l=this.parseFunctionDeclaration();break;case"if":l=this.parseIfStatement();break;case"return":l=this.parseReturnStatement();break;case"switch":l=this.parseSwitchStatement();break;case"throw":l=this.parseThrowStatement();break;case"try":l=this.parseTryStatement();break;case"var":l=this.parseVariableStatement();break;case"while":l=this.parseWhileStatement();break;case"with":l=this.parseWithStatement();break;default:l=this.parseExpressionStatement();break}break;default:l=this.throwUnexpectedToken(this.lookahead)}return l},_.prototype.parseFunctionSourceElements=function(){var l=this.createNode();this.expect("{");var p=this.parseDirectivePrologues(),m=this.context.labelSet,v=this.context.inIteration,C=this.context.inSwitch,P=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)p.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=m,this.context.inIteration=v,this.context.inSwitch=C,this.context.inFunctionBody=P,this.finalize(l,new h.BlockStatement(p))},_.prototype.validateParam=function(l,p,m){var v="$"+m;this.context.strict?(this.scanner.isRestrictedWord(m)&&(l.stricted=p,l.message=a.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(l.paramSet,v)&&(l.stricted=p,l.message=a.Messages.StrictParamDupe)):l.firstRestricted||(this.scanner.isRestrictedWord(m)?(l.firstRestricted=p,l.message=a.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(m)?(l.firstRestricted=p,l.message=a.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(l.paramSet,v)&&(l.stricted=p,l.message=a.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(l.paramSet,v,{value:!0,enumerable:!0,writable:!0,configurable:!0}):l.paramSet[v]=!0},_.prototype.parseRestElement=function(l){var p=this.createNode();this.expect("...");var m=this.parsePattern(l);return this.match("=")&&this.throwError(a.Messages.DefaultRestParameter),this.match(")")||this.throwError(a.Messages.ParameterAfterRestParameter),this.finalize(p,new h.RestElement(m))},_.prototype.parseFormalParameter=function(l){for(var p=[],m=this.match("...")?this.parseRestElement(p):this.parsePatternWithDefault(p),v=0;v<p.length;v++)this.validateParam(l,p[v],p[v].value);l.simple=l.simple&&m instanceof h.Identifier,l.params.push(m)},_.prototype.parseFormalParameters=function(l){var p;if(p={simple:!0,params:[],firstRestricted:l},this.expect("("),!this.match(")"))for(p.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(p),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:p.simple,params:p.params,stricted:p.stricted,firstRestricted:p.firstRestricted,message:p.message}},_.prototype.matchAsyncFunction=function(){var l=this.matchContextualKeyword("async");if(l){var p=this.scanner.saveState();this.scanner.scanComments();var m=this.scanner.lex();this.scanner.restoreState(p),l=p.lineNumber===m.lineNumber&&m.type===4&&m.value==="function"}return l},_.prototype.parseFunctionDeclaration=function(l){var p=this.createNode(),m=this.matchContextualKeyword("async");m&&this.nextToken(),this.expectKeyword("function");var v=m?!1:this.match("*");v&&this.nextToken();var C,P=null,F=null;if(!l||!this.match("(")){var L=this.lookahead;P=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(L.value)&&this.tolerateUnexpectedToken(L,a.Messages.StrictFunctionName):this.scanner.isRestrictedWord(L.value)?(F=L,C=a.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(L.value)&&(F=L,C=a.Messages.StrictReservedWord)}var j=this.context.await,B=this.context.allowYield;this.context.await=m,this.context.allowYield=!v;var J=this.parseFormalParameters(F),et=J.params,Q=J.stricted;F=J.firstRestricted,J.message&&(C=J.message);var rt=this.context.strict,yt=this.context.allowStrictDirective;this.context.allowStrictDirective=J.simple;var Rt=this.parseFunctionSourceElements();return this.context.strict&&F&&this.throwUnexpectedToken(F,C),this.context.strict&&Q&&this.tolerateUnexpectedToken(Q,C),this.context.strict=rt,this.context.allowStrictDirective=yt,this.context.await=j,this.context.allowYield=B,m?this.finalize(p,new h.AsyncFunctionDeclaration(P,et,Rt)):this.finalize(p,new h.FunctionDeclaration(P,et,Rt,v))},_.prototype.parseFunctionExpression=function(){var l=this.createNode(),p=this.matchContextualKeyword("async");p&&this.nextToken(),this.expectKeyword("function");var m=p?!1:this.match("*");m&&this.nextToken();var v,C=null,P,F=this.context.await,L=this.context.allowYield;if(this.context.await=p,this.context.allowYield=!m,!this.match("(")){var j=this.lookahead;C=!this.context.strict&&!m&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(j.value)&&this.tolerateUnexpectedToken(j,a.Messages.StrictFunctionName):this.scanner.isRestrictedWord(j.value)?(P=j,v=a.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(j.value)&&(P=j,v=a.Messages.StrictReservedWord)}var B=this.parseFormalParameters(P),J=B.params,et=B.stricted;P=B.firstRestricted,B.message&&(v=B.message);var Q=this.context.strict,rt=this.context.allowStrictDirective;this.context.allowStrictDirective=B.simple;var yt=this.parseFunctionSourceElements();return this.context.strict&&P&&this.throwUnexpectedToken(P,v),this.context.strict&&et&&this.tolerateUnexpectedToken(et,v),this.context.strict=Q,this.context.allowStrictDirective=rt,this.context.await=F,this.context.allowYield=L,p?this.finalize(l,new h.AsyncFunctionExpression(C,J,yt)):this.finalize(l,new h.FunctionExpression(C,J,yt,m))},_.prototype.parseDirective=function(){var l=this.lookahead,p=this.createNode(),m=this.parseExpression(),v=m.type===f.Syntax.Literal?this.getTokenRaw(l).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(p,v?new h.Directive(m,v):new h.ExpressionStatement(m))},_.prototype.parseDirectivePrologues=function(){for(var l=null,p=[];;){var m=this.lookahead;if(m.type!==8)break;var v=this.parseDirective();p.push(v);var C=v.directive;if(typeof C!="string")break;C==="use strict"?(this.context.strict=!0,l&&this.tolerateUnexpectedToken(l,a.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(m,a.Messages.IllegalLanguageModeDirective)):!l&&m.octal&&(l=m)}return p},_.prototype.qualifiedPropertyName=function(l){switch(l.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return l.value==="[";default:break}return!1},_.prototype.parseGetterMethod=function(){var l=this.createNode(),p=!1,m=this.context.allowYield;this.context.allowYield=!p;var v=this.parseFormalParameters();v.params.length>0&&this.tolerateError(a.Messages.BadGetterArity);var C=this.parsePropertyMethod(v);return this.context.allowYield=m,this.finalize(l,new h.FunctionExpression(null,v.params,C,p))},_.prototype.parseSetterMethod=function(){var l=this.createNode(),p=!1,m=this.context.allowYield;this.context.allowYield=!p;var v=this.parseFormalParameters();v.params.length!==1?this.tolerateError(a.Messages.BadSetterArity):v.params[0]instanceof h.RestElement&&this.tolerateError(a.Messages.BadSetterRestParameter);var C=this.parsePropertyMethod(v);return this.context.allowYield=m,this.finalize(l,new h.FunctionExpression(null,v.params,C,p))},_.prototype.parseGeneratorMethod=function(){var l=this.createNode(),p=!0,m=this.context.allowYield;this.context.allowYield=!0;var v=this.parseFormalParameters();this.context.allowYield=!1;var C=this.parsePropertyMethod(v);return this.context.allowYield=m,this.finalize(l,new h.FunctionExpression(null,v.params,C,p))},_.prototype.isStartOfExpression=function(){var l=!0,p=this.lookahead.value;switch(this.lookahead.type){case 7:l=p==="["||p==="("||p==="{"||p==="+"||p==="-"||p==="!"||p==="~"||p==="++"||p==="--"||p==="/"||p==="/=";break;case 4:l=p==="class"||p==="delete"||p==="function"||p==="let"||p==="new"||p==="super"||p==="this"||p==="typeof"||p==="void"||p==="yield";break;default:break}return l},_.prototype.parseYieldExpression=function(){var l=this.createNode();this.expectKeyword("yield");var p=null,m=!1;if(!this.hasLineTerminator){var v=this.context.allowYield;this.context.allowYield=!1,m=this.match("*"),m?(this.nextToken(),p=this.parseAssignmentExpression()):this.isStartOfExpression()&&(p=this.parseAssignmentExpression()),this.context.allowYield=v}return this.finalize(l,new h.YieldExpression(p,m))},_.prototype.parseClassElement=function(l){var p=this.lookahead,m=this.createNode(),v="",C=null,P=null,F=!1,L=!1,j=!1,B=!1;if(this.match("*"))this.nextToken();else{F=this.match("["),C=this.parseObjectPropertyKey();var J=C;if(J.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(p=this.lookahead,j=!0,F=this.match("["),this.match("*")?this.nextToken():C=this.parseObjectPropertyKey()),p.type===3&&!this.hasLineTerminator&&p.value==="async"){var et=this.lookahead.value;et!==":"&&et!=="("&&et!=="*"&&(B=!0,p=this.lookahead,C=this.parseObjectPropertyKey(),p.type===3&&p.value==="constructor"&&this.tolerateUnexpectedToken(p,a.Messages.ConstructorIsAsync))}}var Q=this.qualifiedPropertyName(this.lookahead);return p.type===3?p.value==="get"&&Q?(v="get",F=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,P=this.parseGetterMethod()):p.value==="set"&&Q&&(v="set",F=this.match("["),C=this.parseObjectPropertyKey(),P=this.parseSetterMethod()):p.type===7&&p.value==="*"&&Q&&(v="init",F=this.match("["),C=this.parseObjectPropertyKey(),P=this.parseGeneratorMethod(),L=!0),!v&&C&&this.match("(")&&(v="init",P=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),L=!0),v||this.throwUnexpectedToken(this.lookahead),v==="init"&&(v="method"),F||(j&&this.isPropertyKey(C,"prototype")&&this.throwUnexpectedToken(p,a.Messages.StaticPrototype),!j&&this.isPropertyKey(C,"constructor")&&((v!=="method"||!L||P&&P.generator)&&this.throwUnexpectedToken(p,a.Messages.ConstructorSpecialMethod),l.value?this.throwUnexpectedToken(p,a.Messages.DuplicateConstructor):l.value=!0,v="constructor")),this.finalize(m,new h.MethodDefinition(C,F,P,v,j))},_.prototype.parseClassElementList=function(){var l=[],p={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():l.push(this.parseClassElement(p));return this.expect("}"),l},_.prototype.parseClassBody=function(){var l=this.createNode(),p=this.parseClassElementList();return this.finalize(l,new h.ClassBody(p))},_.prototype.parseClassDeclaration=function(l){var p=this.createNode(),m=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var v=l&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var P=this.parseClassBody();return this.context.strict=m,this.finalize(p,new h.ClassDeclaration(v,C,P))},_.prototype.parseClassExpression=function(){var l=this.createNode(),p=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var m=this.lookahead.type===3?this.parseVariableIdentifier():null,v=null;this.matchKeyword("extends")&&(this.nextToken(),v=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=p,this.finalize(l,new h.ClassExpression(m,v,C))},_.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var l=this.createNode(),p=this.parseDirectivePrologues();this.lookahead.type!==2;)p.push(this.parseStatementListItem());return this.finalize(l,new h.Module(p))},_.prototype.parseScript=function(){for(var l=this.createNode(),p=this.parseDirectivePrologues();this.lookahead.type!==2;)p.push(this.parseStatementListItem());return this.finalize(l,new h.Script(p))},_.prototype.parseModuleSpecifier=function(){var l=this.createNode();this.lookahead.type!==8&&this.throwError(a.Messages.InvalidModuleSpecifier);var p=this.nextToken(),m=this.getTokenRaw(p);return this.finalize(l,new h.Literal(p.value,m))},_.prototype.parseImportSpecifier=function(){var l=this.createNode(),p,m;return this.lookahead.type===3?(p=this.parseVariableIdentifier(),m=p,this.matchContextualKeyword("as")&&(this.nextToken(),m=this.parseVariableIdentifier())):(p=this.parseIdentifierName(),m=p,this.matchContextualKeyword("as")?(this.nextToken(),m=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(l,new h.ImportSpecifier(m,p))},_.prototype.parseNamedImports=function(){this.expect("{");for(var l=[];!this.match("}");)l.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),l},_.prototype.parseImportDefaultSpecifier=function(){var l=this.createNode(),p=this.parseIdentifierName();return this.finalize(l,new h.ImportDefaultSpecifier(p))},_.prototype.parseImportNamespaceSpecifier=function(){var l=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(a.Messages.NoAsAfterImportNamespace),this.nextToken();var p=this.parseIdentifierName();return this.finalize(l,new h.ImportNamespaceSpecifier(p))},_.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(a.Messages.IllegalImportDeclaration);var l=this.createNode();this.expectKeyword("import");var p,m=[];if(this.lookahead.type===8)p=this.parseModuleSpecifier();else{if(this.match("{")?m=m.concat(this.parseNamedImports()):this.match("*")?m.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(m.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?m.push(this.parseImportNamespaceSpecifier()):this.match("{")?m=m.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var v=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(v,this.lookahead.value)}this.nextToken(),p=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(l,new h.ImportDeclaration(m,p))},_.prototype.parseExportSpecifier=function(){var l=this.createNode(),p=this.parseIdentifierName(),m=p;return this.matchContextualKeyword("as")&&(this.nextToken(),m=this.parseIdentifierName()),this.finalize(l,new h.ExportSpecifier(p,m))},_.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(a.Messages.IllegalExportDeclaration);var l=this.createNode();this.expectKeyword("export");var p;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var m=this.parseFunctionDeclaration(!0);p=this.finalize(l,new h.ExportDefaultDeclaration(m))}else if(this.matchKeyword("class")){var m=this.parseClassDeclaration(!0);p=this.finalize(l,new h.ExportDefaultDeclaration(m))}else if(this.matchContextualKeyword("async")){var m=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();p=this.finalize(l,new h.ExportDefaultDeclaration(m))}else{this.matchContextualKeyword("from")&&this.throwError(a.Messages.UnexpectedToken,this.lookahead.value);var m=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),p=this.finalize(l,new h.ExportDefaultDeclaration(m))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var v=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(v,this.lookahead.value)}this.nextToken();var C=this.parseModuleSpecifier();this.consumeSemicolon(),p=this.finalize(l,new h.ExportAllDeclaration(C))}else if(this.lookahead.type===4){var m=void 0;switch(this.lookahead.value){case"let":case"const":m=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":m=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}p=this.finalize(l,new h.ExportNamedDeclaration(m,[],null))}else if(this.matchAsyncFunction()){var m=this.parseFunctionDeclaration();p=this.finalize(l,new h.ExportNamedDeclaration(m,[],null))}else{var P=[],F=null,L=!1;for(this.expect("{");!this.match("}");)L=L||this.matchKeyword("default"),P.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),F=this.parseModuleSpecifier(),this.consumeSemicolon();else if(L){var v=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(v,this.lookahead.value)}else this.consumeSemicolon();p=this.finalize(l,new h.ExportNamedDeclaration(null,P,F))}return p},_}();t.Parser=k},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(i,r){if(!i)throw new Error("ASSERT: "+r)}t.assert=e},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function i(){this.errors=[],this.tolerant=!1}return i.prototype.recordError=function(r){this.errors.push(r)},i.prototype.tolerate=function(r){if(this.tolerant)this.recordError(r);else throw r},i.prototype.constructError=function(r,a){var h=new Error(r);try{throw h}catch(c){Object.create&&Object.defineProperty&&(h=Object.create(c),Object.defineProperty(h,"column",{value:a}))}return h},i.prototype.createError=function(r,a,h,c){var f="Line "+a+": "+c,x=this.constructError(f,h);return x.index=r,x.lineNumber=a,x.description=c,x},i.prototype.throwError=function(r,a,h,c){throw this.createError(r,a,h,c)},i.prototype.tolerateError=function(r,a,h,c){var f=this.createError(r,a,h,c);if(this.tolerant)this.recordError(f);else throw f},i}();t.ErrorHandler=e},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(9),r=e(4),a=e(11);function h(x){return"0123456789abcdef".indexOf(x.toLowerCase())}function c(x){return"01234567".indexOf(x)}var f=function(){function x(d,k){this.source=d,this.errorHandler=k,this.trackComment=!1,this.isModule=!1,this.length=d.length,this.index=0,this.lineNumber=d.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return x.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},x.prototype.restoreState=function(d){this.index=d.index,this.lineNumber=d.lineNumber,this.lineStart=d.lineStart},x.prototype.eof=function(){return this.index>=this.length},x.prototype.throwUnexpectedToken=function(d){return d===void 0&&(d=a.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,d)},x.prototype.tolerateUnexpectedToken=function(d){d===void 0&&(d=a.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,d)},x.prototype.skipSingleLineComment=function(d){var k=[],_,l;for(this.trackComment&&(k=[],_=this.index-d,l={start:{line:this.lineNumber,column:this.index-this.lineStart-d},end:{}});!this.eof();){var p=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(p)){if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart-1};var m={multiLine:!1,slice:[_+d,this.index-1],range:[_,this.index-1],loc:l};k.push(m)}return p===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,k}}if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart};var m={multiLine:!1,slice:[_+d,this.index],range:[_,this.index],loc:l};k.push(m)}return k},x.prototype.skipMultiLineComment=function(){var d=[],k,_;for(this.trackComment&&(d=[],k=this.index-2,_={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var l=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(l))l===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(l===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){_.end={line:this.lineNumber,column:this.index-this.lineStart};var p={multiLine:!0,slice:[k+2,this.index-2],range:[k,this.index],loc:_};d.push(p)}return d}++this.index}else++this.index}if(this.trackComment){_.end={line:this.lineNumber,column:this.index-this.lineStart};var p={multiLine:!0,slice:[k+2,this.index],range:[k,this.index],loc:_};d.push(p)}return this.tolerateUnexpectedToken(),d},x.prototype.scanComments=function(){var d;this.trackComment&&(d=[]);for(var k=this.index===0;!this.eof();){var _=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(_))++this.index;else if(r.Character.isLineTerminator(_))++this.index,_===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,k=!0;else if(_===47)if(_=this.source.charCodeAt(this.index+1),_===47){this.index+=2;var l=this.skipSingleLineComment(2);this.trackComment&&(d=d.concat(l)),k=!0}else if(_===42){this.index+=2;var l=this.skipMultiLineComment();this.trackComment&&(d=d.concat(l))}else break;else if(k&&_===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var l=this.skipSingleLineComment(3);this.trackComment&&(d=d.concat(l))}else break;else if(_===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var l=this.skipSingleLineComment(4);this.trackComment&&(d=d.concat(l))}else break;else break}return d},x.prototype.isFutureReservedWord=function(d){switch(d){case"enum":case"export":case"import":case"super":return!0;default:return!1}},x.prototype.isStrictModeReservedWord=function(d){switch(d){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},x.prototype.isRestrictedWord=function(d){return d==="eval"||d==="arguments"},x.prototype.isKeyword=function(d){switch(d.length){case 2:return d==="if"||d==="in"||d==="do";case 3:return d==="var"||d==="for"||d==="new"||d==="try"||d==="let";case 4:return d==="this"||d==="else"||d==="case"||d==="void"||d==="with"||d==="enum";case 5:return d==="while"||d==="break"||d==="catch"||d==="throw"||d==="const"||d==="yield"||d==="class"||d==="super";case 6:return d==="return"||d==="typeof"||d==="delete"||d==="switch"||d==="export"||d==="import";case 7:return d==="default"||d==="finally"||d==="extends";case 8:return d==="function"||d==="continue"||d==="debugger";case 10:return d==="instanceof";default:return!1}},x.prototype.codePointAt=function(d){var k=this.source.charCodeAt(d);if(k>=55296&&k<=56319){var _=this.source.charCodeAt(d+1);if(_>=56320&&_<=57343){var l=k;k=(l-55296)*1024+_-56320+65536}}return k},x.prototype.scanHexEscape=function(d){for(var k=d==="u"?4:2,_=0,l=0;l<k;++l)if(!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index)))_=_*16+h(this.source[this.index++]);else return null;return String.fromCharCode(_)},x.prototype.scanUnicodeCodePointEscape=function(){var d=this.source[this.index],k=0;for(d==="}"&&this.throwUnexpectedToken();!this.eof()&&(d=this.source[this.index++],!!r.Character.isHexDigit(d.charCodeAt(0)));)k=k*16+h(d);return(k>1114111||d!=="}")&&this.throwUnexpectedToken(),r.Character.fromCodePoint(k)},x.prototype.getIdentifier=function(){for(var d=this.index++;!this.eof();){var k=this.source.charCodeAt(this.index);if(k===92)return this.index=d,this.getComplexIdentifier();if(k>=55296&&k<57343)return this.index=d,this.getComplexIdentifier();if(r.Character.isIdentifierPart(k))++this.index;else break}return this.source.slice(d,this.index)},x.prototype.getComplexIdentifier=function(){var d=this.codePointAt(this.index),k=r.Character.fromCodePoint(d);this.index+=k.length;var _;for(d===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,_=this.scanUnicodeCodePointEscape()):(_=this.scanHexEscape("u"),(_===null||_==="\\"||!r.Character.isIdentifierStart(_.charCodeAt(0)))&&this.throwUnexpectedToken()),k=_);!this.eof()&&(d=this.codePointAt(this.index),!!r.Character.isIdentifierPart(d));)_=r.Character.fromCodePoint(d),k+=_,this.index+=_.length,d===92&&(k=k.substr(0,k.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,_=this.scanUnicodeCodePointEscape()):(_=this.scanHexEscape("u"),(_===null||_==="\\"||!r.Character.isIdentifierPart(_.charCodeAt(0)))&&this.throwUnexpectedToken()),k+=_);return k},x.prototype.octalToDecimal=function(d){var k=d!=="0",_=c(d);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(k=!0,_=_*8+c(this.source[this.index++]),"0123".indexOf(d)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(_=_*8+c(this.source[this.index++]))),{code:_,octal:k}},x.prototype.scanIdentifier=function(){var d,k=this.index,_=this.source.charCodeAt(k)===92?this.getComplexIdentifier():this.getIdentifier();if(_.length===1?d=3:this.isKeyword(_)?d=4:_==="null"?d=5:_==="true"||_==="false"?d=1:d=3,d!==3&&k+_.length!==this.index){var l=this.index;this.index=k,this.tolerateUnexpectedToken(a.Messages.InvalidEscapedReservedWord),this.index=l}return{type:d,value:_,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}},x.prototype.scanPunctuator=function(){var d=this.index,k=this.source[this.index];switch(k){case"(":case"{":k==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,k="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:k=this.source.substr(this.index,4),k===">>>="?this.index+=4:(k=k.substr(0,3),k==="==="||k==="!=="||k===">>>"||k==="<<="||k===">>="||k==="**="?this.index+=3:(k=k.substr(0,2),k==="&&"||k==="||"||k==="=="||k==="!="||k==="+="||k==="-="||k==="*="||k==="/="||k==="++"||k==="--"||k==="<<"||k===">>"||k==="&="||k==="|="||k==="^="||k==="%="||k==="<="||k===">="||k==="=>"||k==="**"?this.index+=2:(k=this.source[this.index],"<>=!+-*%&|^/".indexOf(k)>=0&&++this.index)))}return this.index===d&&this.throwUnexpectedToken(),{type:7,value:k,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},x.prototype.scanHexLiteral=function(d){for(var k="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)k+=this.source[this.index++];return k.length===0&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+k,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},x.prototype.scanBinaryLiteral=function(d){for(var k="",_;!this.eof()&&(_=this.source[this.index],!(_!=="0"&&_!=="1"));)k+=this.source[this.index++];return k.length===0&&this.throwUnexpectedToken(),this.eof()||(_=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(_)||r.Character.isDecimalDigit(_))&&this.throwUnexpectedToken()),{type:6,value:parseInt(k,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},x.prototype.scanOctalLiteral=function(d,k){var _="",l=!1;for(r.Character.isOctalDigit(d.charCodeAt(0))?(l=!0,_="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)_+=this.source[this.index++];return!l&&_.length===0&&this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(_,8),octal:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}},x.prototype.isImplicitOctalLiteral=function(){for(var d=this.index+1;d<this.length;++d){var k=this.source[d];if(k==="8"||k==="9")return!1;if(!r.Character.isOctalDigit(k.charCodeAt(0)))return!0}return!0},x.prototype.scanNumericLiteral=function(){var d=this.index,k=this.source[d];i.assert(r.Character.isDecimalDigit(k.charCodeAt(0))||k===".","Numeric literal must start with a decimal digit or a decimal point");var _="";if(k!=="."){if(_=this.source[this.index++],k=this.source[this.index],_==="0"){if(k==="x"||k==="X")return++this.index,this.scanHexLiteral(d);if(k==="b"||k==="B")return++this.index,this.scanBinaryLiteral(d);if(k==="o"||k==="O")return this.scanOctalLiteral(k,d);if(k&&r.Character.isOctalDigit(k.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(k,d)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)_+=this.source[this.index++];k=this.source[this.index]}if(k==="."){for(_+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)_+=this.source[this.index++];k=this.source[this.index]}if(k==="e"||k==="E")if(_+=this.source[this.index++],k=this.source[this.index],(k==="+"||k==="-")&&(_+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)_+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(_),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},x.prototype.scanStringLiteral=function(){var d=this.index,k=this.source[d];i.assert(k==="'"||k==='"',"String literal must starts with a quote"),++this.index;for(var _=!1,l="";!this.eof();){var p=this.source[this.index++];if(p===k){k="";break}else if(p==="\\")if(p=this.source[this.index++],!p||!r.Character.isLineTerminator(p.charCodeAt(0)))switch(p){case"u":if(this.source[this.index]==="{")++this.index,l+=this.scanUnicodeCodePointEscape();else{var m=this.scanHexEscape(p);m===null&&this.throwUnexpectedToken(),l+=m}break;case"x":var v=this.scanHexEscape(p);v===null&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),l+=v;break;case"n":l+=`
`;break;case"r":l+="\r";break;case"t":l+="	";break;case"b":l+="\b";break;case"f":l+="\f";break;case"v":l+="\v";break;case"8":case"9":l+=p,this.tolerateUnexpectedToken();break;default:if(p&&r.Character.isOctalDigit(p.charCodeAt(0))){var C=this.octalToDecimal(p);_=C.octal||_,l+=String.fromCharCode(C.code)}else l+=p;break}else++this.lineNumber,p==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(r.Character.isLineTerminator(p.charCodeAt(0)))break;l+=p}}return k!==""&&(this.index=d,this.throwUnexpectedToken()),{type:8,value:l,octal:_,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},x.prototype.scanTemplate=function(){var d="",k=!1,_=this.index,l=this.source[_]==="`",p=!1,m=2;for(++this.index;!this.eof();){var v=this.source[this.index++];if(v==="`"){m=1,p=!0,k=!0;break}else if(v==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,k=!0;break}d+=v}else if(v==="\\")if(v=this.source[this.index++],r.Character.isLineTerminator(v.charCodeAt(0)))++this.lineNumber,v==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(v){case"n":d+=`
`;break;case"r":d+="\r";break;case"t":d+="	";break;case"u":if(this.source[this.index]==="{")++this.index,d+=this.scanUnicodeCodePointEscape();else{var C=this.index,P=this.scanHexEscape(v);P!==null?d+=P:(this.index=C,d+=v)}break;case"x":var F=this.scanHexEscape(v);F===null&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),d+=F;break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;default:v==="0"?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral),d+="\0"):r.Character.isOctalDigit(v.charCodeAt(0))?this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral):d+=v;break}else r.Character.isLineTerminator(v.charCodeAt(0))?(++this.lineNumber,v==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,d+=`
`):d+=v}return k||this.throwUnexpectedToken(),l||this.curlyStack.pop(),{type:10,value:this.source.slice(_+1,this.index-m),cooked:d,head:l,tail:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},x.prototype.testRegExp=function(d,k){var _="\uFFFF",l=d,p=this;k.indexOf("u")>=0&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(m,v,C){var P=parseInt(v||C,16);return P>1114111&&p.throwUnexpectedToken(a.Messages.InvalidRegExp),P<=65535?String.fromCharCode(P):_}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_));try{RegExp(l)}catch{this.throwUnexpectedToken(a.Messages.InvalidRegExp)}try{return new RegExp(d,k)}catch{return null}},x.prototype.scanRegExpBody=function(){var d=this.source[this.index];i.assert(d==="/","Regular expression literal must start with a slash");for(var k=this.source[this.index++],_=!1,l=!1;!this.eof();)if(d=this.source[this.index++],k+=d,d==="\\")d=this.source[this.index++],r.Character.isLineTerminator(d.charCodeAt(0))&&this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),k+=d;else if(r.Character.isLineTerminator(d.charCodeAt(0)))this.throwUnexpectedToken(a.Messages.UnterminatedRegExp);else if(_)d==="]"&&(_=!1);else if(d==="/"){l=!0;break}else d==="["&&(_=!0);return l||this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),k.substr(1,k.length-2)},x.prototype.scanRegExpFlags=function(){for(var d="",k="";!this.eof();){var _=this.source[this.index];if(!r.Character.isIdentifierPart(_.charCodeAt(0)))break;if(++this.index,_==="\\"&&!this.eof())if(_=this.source[this.index],_==="u"){++this.index;var l=this.index,p=this.scanHexEscape("u");if(p!==null)for(k+=p,d+="\\u";l<this.index;++l)d+=this.source[l];else this.index=l,k+="u",d+="\\u";this.tolerateUnexpectedToken()}else d+="\\",this.tolerateUnexpectedToken();else k+=_,d+=_}return k},x.prototype.scanRegExp=function(){var d=this.index,k=this.scanRegExpBody(),_=this.scanRegExpFlags(),l=this.testRegExp(k,_);return{type:9,value:"",pattern:k,flags:_,regex:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},x.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var d=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(d)?this.scanIdentifier():d===40||d===41||d===59?this.scanPunctuator():d===39||d===34?this.scanStringLiteral():d===46?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(d)?this.scanNumericLiteral():d===96||d===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():d>=55296&&d<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},x}();t.Scanner=f},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(10),r=e(12),a=e(13),h=function(){function f(){this.values=[],this.curly=this.paren=-1}return f.prototype.beforeFunctionExpression=function(x){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(x)>=0},f.prototype.isRegexStart=function(){var x=this.values[this.values.length-1],d=x!==null;switch(x){case"this":case"]":d=!1;break;case")":var k=this.values[this.paren-1];d=k==="if"||k==="while"||k==="for"||k==="with";break;case"}":if(d=!1,this.values[this.curly-3]==="function"){var _=this.values[this.curly-4];d=_?!this.beforeFunctionExpression(_):!1}else if(this.values[this.curly-4]==="function"){var _=this.values[this.curly-5];d=_?!this.beforeFunctionExpression(_):!0}break;default:break}return d},f.prototype.push=function(x){x.type===7||x.type===4?(x.value==="{"?this.curly=this.values.length:x.value==="("&&(this.paren=this.values.length),this.values.push(x.value)):this.values.push(null)},f}(),c=function(){function f(x,d){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=d?typeof d.tolerant=="boolean"&&d.tolerant:!1,this.scanner=new r.Scanner(x,this.errorHandler),this.scanner.trackComment=d?typeof d.comment=="boolean"&&d.comment:!1,this.trackRange=d?typeof d.range=="boolean"&&d.range:!1,this.trackLoc=d?typeof d.loc=="boolean"&&d.loc:!1,this.buffer=[],this.reader=new h}return f.prototype.errors=function(){return this.errorHandler.errors},f.prototype.getNextToken=function(){if(this.buffer.length===0){var x=this.scanner.scanComments();if(this.scanner.trackComment)for(var d=0;d<x.length;++d){var k=x[d],_=this.scanner.source.slice(k.slice[0],k.slice[1]),l={type:k.multiLine?"BlockComment":"LineComment",value:_};this.trackRange&&(l.range=k.range),this.trackLoc&&(l.loc=k.loc),this.buffer.push(l)}if(!this.scanner.eof()){var p=void 0;this.trackLoc&&(p={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var m=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),v=m?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(v);var C={type:a.TokenName[v.type],value:this.scanner.source.slice(v.start,v.end)};if(this.trackRange&&(C.range=[v.start,v.end]),this.trackLoc&&(p.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},C.loc=p),v.type===9){var P=v.pattern,F=v.flags;C.regex={pattern:P,flags:F}}this.buffer.push(C)}}return this.buffer.shift()},f}();t.Tokenizer=c}])})});function FD(n){return typeof n=="object"&&n!==null}var CT,Ra,bT=Dt(()=>{"use strict";CT=Xi(TT());xa();Ra=class{constructor(){this.structures=[];this.hasStructuresWithUnknownLocations=!1;this.excludedStructures=[];this.allowedMethods=[]}hasUnknownLocations(){return this.hasStructuresWithUnknownLocations}getStructureLocations(t,e){try{let i=(0,CT.parseScript)(t,{loc:!0});this.findStructureLocations(i,t,e)}catch{}}setExcludedStructures(t){this.excludedStructures=t}setAllowedMethods(t){this.allowedMethods=t}getStructures(){return this.structures}findStructureLocations(t,e,i){let r=[],a=this.excludedStructures,h=this.allowedMethods,c=!1;function f(d,k){let _=e.split(`
`),l=0;for(let p=0;p<d-1;p++)l+=_[p].length+1;return l+=k-1,l}function x(d){if(d.loc){let k=f(d.loc.start.line,d.loc.start.column)-i,_=f(d.loc.end.line,d.loc.end.column)-i;if(d.type==="IfStatement")d.test.loc==null&&(c=!0),a.includes(Z.IfStatement)&&r.push({label:Z.IfStatement,start:k,end:_});else if(d.type==="ConditionalExpression")d.test.loc==null&&(c=!0),a.includes(Z.TernaryStatement)&&r.push({label:Z.TernaryStatement,start:k,end:_});else if(d.type==="AssignmentExpression"){let l=!0;(d.left.loc==null||d.right.loc==null)&&(c=!0),a.includes(Z.Assignment)||(l=!1),l&&r.push({label:Z.Assignment,start:k,end:_})}else if(d.type==="BinaryExpression"){let l=!0;(d.left.loc==null||d.right.loc==null)&&(c=!0),a.includes(Z.BinCompare)||(l=!1),l&&r.push({label:Z.BinCompare,start:k,end:_})}else if(d.type==="CallExpression"){let l=!0;if(d.callee.type==="MemberExpression"){let p=d.callee;if(p.property.type==="Identifier"){let m=p.property;h.includes(m.name)&&(l=!1)}}a.includes(Z.CallStatement)||(l=!1),l&&(d.loc==null&&(c=!0),r.push({label:Z.CallStatement,start:k,end:_}))}}for(let k in d)FD(d[k])&&x(d[k])}x(t),this.hasStructuresWithUnknownLocations=c,this.structures=r}}});var AT,Ba,ST=Dt(()=>{"use strict";AT=Xi(cu());xa();Ba=class{constructor(){this.structures=[];this.hasStructuresWithUnknownLocations=!1;this.excludedStructures=[];this.allowedMethods=[];this.phpAssignToGeneric=new Map([["=",Z.Assignment],["+=",Z.AdditionAssignment],["-=",Z.SubtractionAssignment],["*=",Z.MultiplicationAssignment],["/=",Z.DivisionAssignment],["%=",Z.ModulusAssignment],[".=",Z.ConcatenationAssignment],["%=",Z.BitwiseAndAssignment],["|=",Z.BitwiseOrAssignment],["^=",Z.BitwiseXorAssignment],["<<=",Z.LeftShiftAssignment],[">>=",Z.RightShiftAssignment]]);this.phpOperatorsToGeneric=new Map([[".",Z.Concat],["+",Z.Addition],["-",Z.Substraction],["*",Z.Multiplication],["/",Z.Division],["%",Z.Modulus],["**",Z.Exponentiation],[">",Z.GreaterThan],["&",Z.BitwiseAnd],["|",Z.BitwiseOr],["^",Z.BitwiseXor],["<<",Z.LeftShift],[">>",Z.RightShift],["==",Z.Equality],["===",Z.Identity],["<",Z.LessThan],["<>",Z.Inequality],["!=",Z.Inequality],["!==",Z.NotIdentity],[">=",Z.GreaterThanEqual],["<=",Z.LessThanEqual],["&&",Z.CompAnd],["and",Z.CompAnd],["||",Z.CompOr],["or",Z.CompOr],["xor",Z.Xor]]);this.parser=new AT.Engine({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}})}hasUnknownLocations(){return this.hasStructuresWithUnknownLocations}getStructureLocations(t,e){let i=this.parser.parseCode(t,"code.php");this.findStructureLocations(i,e)}setExcludedStructures(t){this.excludedStructures=t}setAllowedMethods(t){this.allowedMethods=t}getStructures(){return this.structures}findStructureLocations(t,e){let i=[],r=this.excludedStructures,a=this.phpOperatorsToGeneric,h=this.phpAssignToGeneric,c=this.allowedMethods,f=!1;function x(d){var k,_,l,p,m,v,C,P,F,L,j,B,J,et,Q,rt,yt,Rt,Nt,Ct;if(d.kind==="if"){let Et=d;Et.test.loc==null&&(f=!0),r.includes(Z.IfStatement)&&i.push({label:Z.IfStatement,start:((_=(k=Et.test.loc)==null?void 0:k.start.offset)!=null?_:-1)-e,end:((p=(l=Et.test.loc)==null?void 0:l.end.offset)!=null?p:-1)-e})}else if(d.kind=="retif"){let Et=d;Et.test.loc==null&&(f=!0),r.includes(Z.TernaryStatement)&&i.push({label:Z.TernaryStatement,start:((v=(m=Et.test.loc)==null?void 0:m.start.offset)!=null?v:-1)-e,end:((P=(C=Et.test.loc)==null?void 0:C.end.offset)!=null?P:-1)-e+2})}else if(d.kind=="assign"){let Et=d,vt=!0;(Et.left.loc==null||Et.right.loc==null)&&(f=!0);let dt=Et.operator;h.has(dt)?dt=h.get(dt):dt=Z.Assignment,r.includes(dt)||(vt=!1),vt&&i.push({label:dt,start:((L=(F=Et.left.loc)==null?void 0:F.start.offset)!=null?L:-1)-e,end:((B=(j=Et.right.loc)==null?void 0:j.end.offset)!=null?B:-1)-e})}else if(d.kind=="bin"){let Et=d,vt=!0;(Et.left.loc==null||Et.right.loc==null)&&(f=!0);let dt=Et.kind.toLowerCase();a.has(dt)?dt=a.get(dt):dt=Z.BinCompare,r.includes(dt)||(vt=!1),vt&&i.push({label:dt,start:((et=(J=Et.left.loc)==null?void 0:J.start.offset)!=null?et:-1)-e,end:((rt=(Q=Et.right.loc)==null?void 0:Q.end.offset)!=null?rt:-1)-e})}else if(d.kind=="call"){let Et=d,vt=!0;if(Et.what.kind=="propertylookup"){let dt=Et.what;if(dt.offset.kind=="identifier"){let ct=dt.offset;c.includes(ct.name)&&(vt=!1)}}r.includes(Z.CallStatement)||(vt=!1),vt&&(Et.loc==null&&(f=!0),i.push({label:Z.CallStatement,start:((Rt=(yt=Et.loc)==null?void 0:yt.start.offset)!=null?Rt:-1)-e,end:((Ct=(Nt=Et.loc)==null?void 0:Nt.end.offset)!=null?Ct:-1)-e}))}for(let Et in d)d.hasOwnProperty(Et)&&typeof d[Et]=="object"&&d[Et]&&x(d[Et])}x(t),this.hasStructuresWithUnknownLocations=f,this.structures=i}}});var Ma,DT=Dt(()=>{"use strict";Nn();Ts();Cs();In();Ma=class{constructor(){this.ignoreRanges=[];this.strings=[];this.nodes=[];this.chars=[];this.cur=null;this.prev=null;this.next=null;this.currentIndex=0;this.inputLen=0;this.currentContent=[];this.nodeIndex=0;this.hasStringNodesInResult=!1}advance(t){for(let e=0;e<t;e++)this.currentIndex++,this.checkCurrentOffsets()}encounteredFailure(){}updateIndex(t){this.currentIndex=t}inputLength(){return this.inputLen}getCurrentIndex(){return this.currentIndex}incrementIndex(){this.currentIndex+=1}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}pushChar(t){this.currentContent.push(t)}getChar(t){return this.chars[t]}getSeedOffset(){return 0}getContentSubstring(t,e){return""}setIgnoreRanges(t){this.ignoreRanges=t}hasStringNodes(){return this.hasStringNodesInResult}parse(t){for(this.nodes=[],this.strings=[],this.chars=t.split(""),this.inputLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur=="/"&&this.next=="/"){Ei(this,!0);continue}if(this.cur=="/"&&this.next=="*"){yi(this,!0);continue}if(Ke(this.cur)){let e=this.cur,i=this.currentIndex;if(this.currentContent.length>0){let h={content:this.currentContent.join(""),type:"literal",index:this.nodeIndex};this.nodeIndex++,this.nodes.push(h),this.currentContent=[]}let r=Ui(this),a=!1;for(let h=0;h<this.ignoreRanges.length;h++){let c=this.ignoreRanges[h];if(i>=c.start&&this.currentIndex<=c.end){a=!0;break}}if(a){this.currentContent.push(e);for(let h=0;h<r.value.length;h++)this.currentContent.push(r.value[h]);this.currentContent.push(e)}else{this.strings.push(r.value);let h={content:e+r.value+e,type:"string",index:this.nodeIndex};this.hasStringNodesInResult=!0,this.nodeIndex++,this.nodes.push(h)}if(this.currentIndex=r.endedOn,this.currentIndex==this.inputLen-1)break;continue}this.currentContent.push(this.cur)}if(this.currentContent.length>0){let e={content:this.currentContent.join(""),type:"literal",index:this.nodeIndex};this.nodeIndex++,this.nodes.push(e),this.currentContent=[]}}getParsedNodes(){return this.nodes}}});var Tr,pu=Dt(()=>{"use strict";bT();ST();Ss();He();DT();wo();Tr=class{constructor(t){this.mergeRanges=[];this.charsToAvoid=[`
`,"$","{",'"',"'"];this.foundAnyStrings=!0;this.classRuleEngine=t,this.phpStructuresAnalyzer=new Ba,this.jsStructuresAnalyzer=new Ra,this.stringParser=new Ma}setAllowedMethodNames(t){this.phpStructuresAnalyzer.setAllowedMethods(t),this.jsStructuresAnalyzer.setAllowedMethods(t)}setExcludedLanguageStructures(t){this.phpStructuresAnalyzer.setExcludedStructures(t),this.jsStructuresAnalyzer.setExcludedStructures(t)}withAdditionalRanges(t){this.mergeRanges=this.mergeRanges.concat(t)}isSafeToProcess(t){if(!t.includes(" ")||t.trim().length!=t.length||t.includes(", "))return!1;for(let e=0;e<this.charsToAvoid.length;e++)if(t.includes(this.charsToAvoid[e]))return!1;return this.classRuleEngine.canTransformString(t)}getFoundAnyStrings(){return this.foundAnyStrings}emulateString(t){let e=H.makeSlug(32),i=`Emulate:${e}=`,r=this.phpStructuresAnalyzer.getStructures().concat(this.mergeRanges).concat(this.jsStructuresAnalyzer.getStructures());if(this.stringParser.setIgnoreRanges(r),!t.includes(`
`)&&r.length>0,this.stringParser.parse(t),!this.stringParser.hasStringNodes())return this.foundAnyStrings=!1,t;let a=this.stringParser.getParsedNodes(),h=new Map,c=new Map,f="",x=0;a.forEach(l=>{if(l.type=="string"){let p=l.content.substring(1,l.content.length-1);if(!this.isSafeToProcess(p))return;h.set(l.index,l.content[0]),f+=`<!-- "${i}${l.index}"-->
`,f+=`<div class="${p}"></div>
`,x+=2}});try{f=Op(f)}catch{return t}let d=new Pn;d.remove(f);let k=d.getStrings();if(k.length!=x)return t;for(let l=0;l<k.length;l++){let p=k[l];if(p.startsWith(i)){p=p.substring(i.length).trim();let m=parseInt(p);if(l+1<k.length){let v=k[l+1];c.set(m,v),l++}}}let _="";return a.forEach(l=>{if(l.type=="literal"||!c.has(l.index)){_+=l.content;return}let p=h.get(l.index),m=c.get(l.index);_+=p+m+p}),_}emulatePhpNode(t){let e="<?php "+t;return this.phpStructuresAnalyzer.getStructureLocations(e,0),this.emulateString(e).trimLeft().substring(6)}emulatePhpTag(t){return this.phpStructuresAnalyzer.getStructureLocations(t,0),this.emulateString(t)}emulateJavaScriptString(t){return this.jsStructuresAnalyzer.getStructureLocations(t,0),this.emulateString(t).trimLeft()}}});var Ua,NT=Dt(()=>{"use strict";He();on();Ae();pu();Rh();Jr();iu();Ua=class{constructor(t){this.phpValidator=null;this.isIgnoring=!1;this.classStringConfig=t,this.classRuleEngine=new mr(this.classStringConfig),this.parserOptions=ua()}withPhpValidator(t){return this.phpValidator=t,this}withParserOptions(t){return this.parserOptions=t,this}getEmulator(){let t=new Tr(this.classRuleEngine);return t.setExcludedLanguageStructures(this.classStringConfig.ignoredLanguageStructures),t.setAllowedMethodNames(this.classStringConfig.allowedMethodNames),t}transform(t){var a;let e=new fe;e.getParser().withParserOptions(this.parserOptions).withPhpValidator(this.phpValidator),e.loadString(t);let i=e.getAllNodes();if(e.getParser().getDidRecovery())return t;let r="";for(let h=0;h<i.length;h++){let c=i[h];if(c instanceof Jt)r+=c.content;else if(c instanceof Vi)r+=c.nodeContent;else if(c instanceof Ci)r+=c.nodeContent;else if(c instanceof _t){if(this.isIgnoring||this.classStringConfig.excludedDirectives.includes(c.directiveName.toLowerCase()))r+=c.sourceContent,c.directiveName=="php"&&(r+=c.documentContent);else if(c.directiveName=="php")if(c.isClosedBy!=null)if(this.isIgnoring||!this.classRuleEngine.canTransformBladePhp(c))r+=c.sourceContent+c.documentContent;else if((a=this.phpValidator)!=null&&a.isValid(c.documentContent,!0)){let f=this.getEmulator();r+="@php"+f.emulatePhpNode(c.documentContent)}else r+=c.sourceContent+c.documentContent;else r+=c.sourceContent;else if(c.directiveName=="verbatim")r+=c.sourceContent+c.innerContent;else if(this.isIgnoring||c.hasJsonParameters||!this.classRuleEngine.canTransformDirective(c))r+=c.sourceContent;else if(!c.hasDirectiveParameters||!c.hasValidPhp()?r+=c.sourceContent:r+=this.getEmulator().emulateString(c.sourceContent),h+1<i.length&&i[h+1]instanceof Jt){let f=i[h+1];if(f.content.length==0)continue;let x=f.content[0];if(H.ctypePunct(x))continue;H.ctypeSpace(x)||(r+=" ")}}else if(c instanceof we)if(this.isIgnoring||!this.classRuleEngine.canTransformBladeEcho(c)||!c.hasValidPhp())r+=c.sourceContent;else{let f=this.getEmulator(),x=f.emulatePhpNode(c.content).trim(),d="{{ ",k=" }}";c instanceof wn?(d="{!! ",k=" !!}"):c instanceof Ln&&(d="{{{ ",k=" }}}"),r+=d+x+k}else c instanceof Wi?r+=c.nodeContent:c instanceof Hi?(r+=c.sourceContent,c.innerContent.trim()==Wn.FormatIgnoreStart?this.isIgnoring=!0:c.innerContent.trim()==Wn.FormatIgnoreEnd&&(this.isIgnoring=!1)):c instanceof si?r+=c.sourceContent:c instanceof hi&&(this.isIgnoring||!this.classRuleEngine.canTransformInlinePhp(c)||!c.hasValidPhp()?r+=c.sourceContent:r+=this.getEmulator().emulatePhpTag(c.sourceContent))}return r}}});var Rp=Y((mB,PT)=>{on();vT();zh();kT();Ss();NT();Ea();aa();Jr();pu();Ae();Qh();var IT,Ys,so,du=null,RD={languages:[{name:"Blade",parsers:["blade"],extensions:[".blade.php"],vscodeLanguageIds:["blade"]}],parsers:{blade:{parse:function(n,t,e){let i=kp(),r=Np();r!=null&&(e=r(e)),i!=null&&(e.filepath=i),ka(e),IT=e,du=Tp(__dirname),Ys=du,so=du,Ys.tabSize=Sp().tabWidth;let a=n;is&&(a=rs.adjustInput(a));let h=a,c=a,f=Ys.classStrings,x=new Oa,d=new Map,k=!0;if(Ys.formatJsAttributes&&is){let m=new bs,v=fe.fromText(h);if(m.setIndexRanges(v.getParser().getNodeIndexRanges()),m.setExtractAttributeNames(Ys.includeJsAttributes),m.setExcludeAttributes(Ys.excludeJsAttributes),m.setExtractAttributes(!0),m.parse(h),m.getParsingTracedStringHitEof()&&(k=!1),k){let C=m.getExtractedAttributes();if(v.getAllNodes().forEach(P=>{P instanceof si&&P.hasParameters&&P.parameters.forEach(F=>{F.isEscapedExpression&&F.valuePosition!=null&&F.valuePosition.start!=null&&F.valuePosition.end!=null&&C.push({content:F.wrappedValue,name:F.name,startedOn:F.valuePosition.start.offset,endedOn:F.valuePosition.end.offset})})}),C.length>0){let P=new va,F=P.remove(h,C);d=P.getRemovedAttributes(),h=F}}}if(f.enabled){let m=new Ua(f);h=m.withParserOptions(so).withPhpValidator(x).transform(h),c=m.withParserOptions(so).withPhpValidator(x).transform(c),d.size>0&&d.forEach(v=>{try{let C=new mr(f),P=new Tr(C);P.setAllowedMethodNames(f.allowedMethodNames),P.setExcludedLanguageStructures(f.ignoredLanguageStructures);let F=v.content.substring(1,v.content.length-1),L=P.emulateJavaScriptString(F);F==L&&!P.getFoundAnyStrings()?v.content=P.emulateJavaScriptString(v.content):v.content='"'+F+'"'}catch{return}})}let _=new fe,l=new fe;return _.getParser().withParserOptions(so).withPhpValidator(x),l.getParser().withParserOptions(so).withPhpValidator(x),_.loadString(h),l.loadString(c),{doc:_,attributeMap:d,shadowDocument:l,canSafelyContinue:k,originalText:n}},locStart:()=>0,locEnd:()=>0,astFormat:"blade"}},printers:{blade:{print(n){let t=n.stack[0],e=new Fa(IT,Ys);return t.canSafelyContinue?e.withRemovedAttributes(t.attributeMap).formatDocument(t.doc,t.shadowDocument):t.originalText}}},defaultOptions:{tabWidth:4}};PT.exports=RD});module.exports=Rp();
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
